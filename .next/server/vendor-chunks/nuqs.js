"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/nuqs";
exports.ids = ["vendor-chunks/nuqs"];
exports.modules = {

/***/ "(ssr)/./node_modules/nuqs/dist/chunk-MJO6WWF3.js":
/*!**************************************************!*\
  !*** ./node_modules/nuqs/dist/chunk-MJO6WWF3.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createParser: () => (/* binding */ createParser),\n/* harmony export */   createSerializer: () => (/* binding */ createSerializer),\n/* harmony export */   debug: () => (/* binding */ debug),\n/* harmony export */   error: () => (/* binding */ error),\n/* harmony export */   getDefaultThrottle: () => (/* binding */ getDefaultThrottle),\n/* harmony export */   parseAsArrayOf: () => (/* binding */ parseAsArrayOf),\n/* harmony export */   parseAsBoolean: () => (/* binding */ parseAsBoolean),\n/* harmony export */   parseAsFloat: () => (/* binding */ parseAsFloat),\n/* harmony export */   parseAsHex: () => (/* binding */ parseAsHex),\n/* harmony export */   parseAsInteger: () => (/* binding */ parseAsInteger),\n/* harmony export */   parseAsIsoDateTime: () => (/* binding */ parseAsIsoDateTime),\n/* harmony export */   parseAsJson: () => (/* binding */ parseAsJson),\n/* harmony export */   parseAsNumberLiteral: () => (/* binding */ parseAsNumberLiteral),\n/* harmony export */   parseAsString: () => (/* binding */ parseAsString),\n/* harmony export */   parseAsStringEnum: () => (/* binding */ parseAsStringEnum),\n/* harmony export */   parseAsStringLiteral: () => (/* binding */ parseAsStringLiteral),\n/* harmony export */   parseAsTimestamp: () => (/* binding */ parseAsTimestamp),\n/* harmony export */   renderQueryString: () => (/* binding */ renderQueryString),\n/* harmony export */   safeParse: () => (/* binding */ safeParse)\n/* harmony export */ });\n// src/debug.ts\nvar enabled = isDebugEnabled();\nfunction debug(message, ...args) {\n  if (!enabled) {\n    return;\n  }\n  const msg = sprintf(message, ...args);\n  performance.mark(msg);\n  console.log(message, ...args);\n}\nfunction warn(message, ...args) {\n  if (!enabled) {\n    return;\n  }\n  console.warn(message, ...args);\n}\nfunction sprintf(base, ...args) {\n  return base.replace(/%[sfdO]/g, (match) => {\n    const arg = args.shift();\n    if (match === \"%O\" && arg) {\n      return JSON.stringify(arg).replace(/\"([^\"]+)\":/g, \"$1:\");\n    } else {\n      return String(arg);\n    }\n  });\n}\nfunction isDebugEnabled() {\n  try {\n    if (typeof localStorage === \"undefined\") {\n      return false;\n    }\n    const test = \"nuqs-localStorage-test\";\n    localStorage.setItem(test, test);\n    const isStorageAvailable = localStorage.getItem(test) === test;\n    localStorage.removeItem(test);\n    if (!isStorageAvailable) {\n      return false;\n    }\n  } catch (error2) {\n    console.error(\n      \"[nuqs]: debug mode is disabled (localStorage unavailable).\",\n      error2\n    );\n    return false;\n  }\n  const debug2 = localStorage.getItem(\"debug\") ?? \"\";\n  return debug2.includes(\"nuqs\") || debug2.includes(\"next-usequerystate\");\n}\n\n// src/utils.ts\nfunction safeParse(parser, value, key) {\n  try {\n    return parser(value);\n  } catch (error2) {\n    warn(\n      \"[nuqs] Error while parsing value `%s`: %O\" + (key ? \" (for key `%s`)\" : \"\"),\n      value,\n      error2,\n      key\n    );\n    return null;\n  }\n}\nfunction getDefaultThrottle() {\n  if (typeof window === \"undefined\") return 50;\n  const isSafari = Boolean(window.GestureEvent);\n  if (!isSafari) {\n    return 50;\n  }\n  try {\n    const match = navigator.userAgent?.match(/version\\/([\\d\\.]+) safari/i);\n    return parseFloat(match[1]) >= 17 ? 120 : 320;\n  } catch {\n    return 320;\n  }\n}\n\n// src/parsers.ts\nfunction createParser(parser) {\n  function parseServerSideNullable(value) {\n    if (typeof value === \"undefined\") {\n      return null;\n    }\n    let str = \"\";\n    if (Array.isArray(value)) {\n      if (value[0] === void 0) {\n        return null;\n      }\n      str = value[0];\n    }\n    if (typeof value === \"string\") {\n      str = value;\n    }\n    return safeParse(parser.parse, str);\n  }\n  return {\n    eq: (a, b) => a === b,\n    ...parser,\n    parseServerSide: parseServerSideNullable,\n    withDefault(defaultValue) {\n      return {\n        ...this,\n        defaultValue,\n        parseServerSide(value) {\n          return parseServerSideNullable(value) ?? defaultValue;\n        }\n      };\n    },\n    withOptions(options) {\n      return {\n        ...this,\n        ...options\n      };\n    }\n  };\n}\nvar parseAsString = createParser({\n  parse: (v) => v,\n  serialize: (v) => `${v}`\n});\nvar parseAsInteger = createParser({\n  parse: (v) => {\n    const int = parseInt(v);\n    if (Number.isNaN(int)) {\n      return null;\n    }\n    return int;\n  },\n  serialize: (v) => Math.round(v).toFixed()\n});\nvar parseAsHex = createParser({\n  parse: (v) => {\n    const int = parseInt(v, 16);\n    if (Number.isNaN(int)) {\n      return null;\n    }\n    return int;\n  },\n  serialize: (v) => {\n    const hex = Math.round(v).toString(16);\n    return hex.padStart(hex.length + hex.length % 2, \"0\");\n  }\n});\nvar parseAsFloat = createParser({\n  parse: (v) => {\n    const float = parseFloat(v);\n    if (Number.isNaN(float)) {\n      return null;\n    }\n    return float;\n  },\n  serialize: (v) => v.toString()\n});\nvar parseAsBoolean = createParser({\n  parse: (v) => v === \"true\",\n  serialize: (v) => v ? \"true\" : \"false\"\n});\nvar parseAsTimestamp = createParser({\n  parse: (v) => {\n    const ms = parseInt(v);\n    if (Number.isNaN(ms)) {\n      return null;\n    }\n    return new Date(ms);\n  },\n  serialize: (v) => v.valueOf().toString()\n});\nvar parseAsIsoDateTime = createParser({\n  parse: (v) => {\n    const date = new Date(v);\n    if (Number.isNaN(date.valueOf())) {\n      return null;\n    }\n    return date;\n  },\n  serialize: (v) => v.toISOString()\n});\nfunction parseAsStringEnum(validValues) {\n  return createParser({\n    parse: (query) => {\n      const asEnum = query;\n      if (validValues.includes(asEnum)) {\n        return asEnum;\n      }\n      return null;\n    },\n    serialize: (value) => value.toString()\n  });\n}\nfunction parseAsStringLiteral(validValues) {\n  return createParser({\n    parse: (query) => {\n      const asConst = query;\n      if (validValues.includes(asConst)) {\n        return asConst;\n      }\n      return null;\n    },\n    serialize: (value) => value.toString()\n  });\n}\nfunction parseAsNumberLiteral(validValues) {\n  return createParser({\n    parse: (query) => {\n      const asConst = parseFloat(query);\n      if (validValues.includes(asConst)) {\n        return asConst;\n      }\n      return null;\n    },\n    serialize: (value) => value.toString()\n  });\n}\nfunction parseAsJson(parser) {\n  return createParser({\n    parse: (query) => {\n      try {\n        const obj = JSON.parse(query);\n        if (typeof parser === \"function\") {\n          return parser(obj);\n        }\n        return obj;\n      } catch {\n        return null;\n      }\n    },\n    serialize: (value) => JSON.stringify(value),\n    eq(a, b) {\n      return a === b || JSON.stringify(a) === JSON.stringify(b);\n    }\n  });\n}\nfunction parseAsArrayOf(itemParser, separator = \",\") {\n  const itemEq = itemParser.eq ?? ((a, b) => a === b);\n  const encodedSeparator = encodeURIComponent(separator);\n  return createParser({\n    parse: (query) => {\n      if (query === \"\") {\n        return [];\n      }\n      return query.split(separator).map(\n        (item, index) => safeParse(\n          itemParser.parse,\n          item.replaceAll(encodedSeparator, separator),\n          `[${index}]`\n        )\n      ).filter((value) => value !== null && value !== void 0);\n    },\n    serialize: (values) => values.map((value) => {\n      const str = itemParser.serialize ? itemParser.serialize(value) : String(value);\n      return str.replaceAll(separator, encodedSeparator);\n    }).join(separator),\n    eq(a, b) {\n      if (a === b) {\n        return true;\n      }\n      if (a.length !== b.length) {\n        return false;\n      }\n      return a.every((value, index) => itemEq(value, b[index]));\n    }\n  });\n}\n\n// src/url-encoding.ts\nfunction renderQueryString(search) {\n  if (search.size === 0) {\n    return \"\";\n  }\n  const query = [];\n  for (const [key, value] of search.entries()) {\n    const safeKey = key.replace(/#/g, \"%23\").replace(/&/g, \"%26\").replace(/\\+/g, \"%2B\").replace(/=/g, \"%3D\").replace(/\\?/g, \"%3F\");\n    query.push(`${safeKey}=${encodeQueryValue(value)}`);\n  }\n  return \"?\" + query.join(\"&\");\n}\nfunction encodeQueryValue(input) {\n  return input.replace(/%/g, \"%25\").replace(/\\+/g, \"%2B\").replace(/ /g, \"+\").replace(/#/g, \"%23\").replace(/&/g, \"%26\").replace(/\"/g, \"%22\").replace(/'/g, \"%27\").replace(/`/g, \"%60\").replace(/</g, \"%3C\").replace(/>/g, \"%3E\");\n}\n\n// src/serializer.ts\nfunction createSerializer(parsers) {\n  function serialize(baseOrValues, values = {}) {\n    const [base, search] = isBase(baseOrValues) ? splitBase(baseOrValues) : [\"\", new URLSearchParams()];\n    const vals = isBase(baseOrValues) ? values : baseOrValues;\n    if (vals === null) {\n      for (const key in parsers) {\n        search.delete(key);\n      }\n      return base + renderQueryString(search);\n    }\n    for (const key in parsers) {\n      const parser = parsers[key];\n      const value = vals[key];\n      if (!parser || value === void 0) {\n        continue;\n      }\n      const isMatchingDefault = parser.defaultValue !== void 0 && (parser.eq ?? ((a, b) => a === b))(value, parser.defaultValue);\n      if (value === null || parser.clearOnDefault && isMatchingDefault) {\n        search.delete(key);\n      } else {\n        search.set(key, parser.serialize(value));\n      }\n    }\n    return base + renderQueryString(search);\n  }\n  return serialize;\n}\nfunction isBase(base) {\n  return typeof base === \"string\" || base instanceof URLSearchParams || base instanceof URL;\n}\nfunction splitBase(base) {\n  if (typeof base === \"string\") {\n    const [path = \"\", search] = base.split(\"?\");\n    return [path, new URLSearchParams(search)];\n  } else if (base instanceof URLSearchParams) {\n    return [\"\", new URLSearchParams(base)];\n  } else {\n    return [\n      base.origin + base.pathname,\n      new URLSearchParams(base.searchParams)\n    ];\n  }\n}\n\n// src/errors.ts\nvar errors = {\n  409: \"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` was about to load on top.\",\n  429: \"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O\",\n  500: \"Empty search params cache. Search params can't be accessed in Layouts.\",\n  501: \"Search params cache already populated. Have you called `parse` twice?\"\n};\nfunction error(code) {\n  return `[nuqs] ${errors[code]}\n  See https://err.47ng.com/NUQS-${code}`;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L2NodW5rLU1KTzZXV0YzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsRUFBRTtBQUN6QixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFFBQVEsR0FBRyx3QkFBd0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLGtDQUFrQyxLQUFLO0FBQ3ZDOztBQUVxVCIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb3dib2FyZC8uL25vZGVfbW9kdWxlcy9udXFzL2Rpc3QvY2h1bmstTUpPNldXRjMuanM/N2RjNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvZGVidWcudHNcbnZhciBlbmFibGVkID0gaXNEZWJ1Z0VuYWJsZWQoKTtcbmZ1bmN0aW9uIGRlYnVnKG1lc3NhZ2UsIC4uLmFyZ3MpIHtcbiAgaWYgKCFlbmFibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG1zZyA9IHNwcmludGYobWVzc2FnZSwgLi4uYXJncyk7XG4gIHBlcmZvcm1hbmNlLm1hcmsobXNnKTtcbiAgY29uc29sZS5sb2cobWVzc2FnZSwgLi4uYXJncyk7XG59XG5mdW5jdGlvbiB3YXJuKG1lc3NhZ2UsIC4uLmFyZ3MpIHtcbiAgaWYgKCFlbmFibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUud2FybihtZXNzYWdlLCAuLi5hcmdzKTtcbn1cbmZ1bmN0aW9uIHNwcmludGYoYmFzZSwgLi4uYXJncykge1xuICByZXR1cm4gYmFzZS5yZXBsYWNlKC8lW3NmZE9dL2csIChtYXRjaCkgPT4ge1xuICAgIGNvbnN0IGFyZyA9IGFyZ3Muc2hpZnQoKTtcbiAgICBpZiAobWF0Y2ggPT09IFwiJU9cIiAmJiBhcmcpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmcpLnJlcGxhY2UoL1wiKFteXCJdKylcIjovZywgXCIkMTpcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTdHJpbmcoYXJnKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gaXNEZWJ1Z0VuYWJsZWQoKSB7XG4gIHRyeSB7XG4gICAgaWYgKHR5cGVvZiBsb2NhbFN0b3JhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdGVzdCA9IFwibnVxcy1sb2NhbFN0b3JhZ2UtdGVzdFwiO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRlc3QsIHRlc3QpO1xuICAgIGNvbnN0IGlzU3RvcmFnZUF2YWlsYWJsZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRlc3QpID09PSB0ZXN0O1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRlc3QpO1xuICAgIGlmICghaXNTdG9yYWdlQXZhaWxhYmxlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJbbnVxc106IGRlYnVnIG1vZGUgaXMgZGlzYWJsZWQgKGxvY2FsU3RvcmFnZSB1bmF2YWlsYWJsZSkuXCIsXG4gICAgICBlcnJvcjJcbiAgICApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBkZWJ1ZzIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImRlYnVnXCIpID8/IFwiXCI7XG4gIHJldHVybiBkZWJ1ZzIuaW5jbHVkZXMoXCJudXFzXCIpIHx8IGRlYnVnMi5pbmNsdWRlcyhcIm5leHQtdXNlcXVlcnlzdGF0ZVwiKTtcbn1cblxuLy8gc3JjL3V0aWxzLnRzXG5mdW5jdGlvbiBzYWZlUGFyc2UocGFyc2VyLCB2YWx1ZSwga2V5KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHBhcnNlcih2YWx1ZSk7XG4gIH0gY2F0Y2ggKGVycm9yMikge1xuICAgIHdhcm4oXG4gICAgICBcIltudXFzXSBFcnJvciB3aGlsZSBwYXJzaW5nIHZhbHVlIGAlc2A6ICVPXCIgKyAoa2V5ID8gXCIgKGZvciBrZXkgYCVzYClcIiA6IFwiXCIpLFxuICAgICAgdmFsdWUsXG4gICAgICBlcnJvcjIsXG4gICAgICBrZXlcbiAgICApO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0VGhyb3R0bGUoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gNTA7XG4gIGNvbnN0IGlzU2FmYXJpID0gQm9vbGVhbih3aW5kb3cuR2VzdHVyZUV2ZW50KTtcbiAgaWYgKCFpc1NhZmFyaSkge1xuICAgIHJldHVybiA1MDtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IG1hdGNoID0gbmF2aWdhdG9yLnVzZXJBZ2VudD8ubWF0Y2goL3ZlcnNpb25cXC8oW1xcZFxcLl0rKSBzYWZhcmkvaSk7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQobWF0Y2hbMV0pID49IDE3ID8gMTIwIDogMzIwO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gMzIwO1xuICB9XG59XG5cbi8vIHNyYy9wYXJzZXJzLnRzXG5mdW5jdGlvbiBjcmVhdGVQYXJzZXIocGFyc2VyKSB7XG4gIGZ1bmN0aW9uIHBhcnNlU2VydmVyU2lkZU51bGxhYmxlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBzdHIgPSBcIlwiO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgaWYgKHZhbHVlWzBdID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBzdHIgPSB2YWx1ZVswXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgc3RyID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBzYWZlUGFyc2UocGFyc2VyLnBhcnNlLCBzdHIpO1xuICB9XG4gIHJldHVybiB7XG4gICAgZXE6IChhLCBiKSA9PiBhID09PSBiLFxuICAgIC4uLnBhcnNlcixcbiAgICBwYXJzZVNlcnZlclNpZGU6IHBhcnNlU2VydmVyU2lkZU51bGxhYmxlLFxuICAgIHdpdGhEZWZhdWx0KGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udGhpcyxcbiAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICBwYXJzZVNlcnZlclNpZGUodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VTZXJ2ZXJTaWRlTnVsbGFibGUodmFsdWUpID8/IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIHdpdGhPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoaXMsXG4gICAgICAgIC4uLm9wdGlvbnNcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxudmFyIHBhcnNlQXNTdHJpbmcgPSBjcmVhdGVQYXJzZXIoe1xuICBwYXJzZTogKHYpID0+IHYsXG4gIHNlcmlhbGl6ZTogKHYpID0+IGAke3Z9YFxufSk7XG52YXIgcGFyc2VBc0ludGVnZXIgPSBjcmVhdGVQYXJzZXIoe1xuICBwYXJzZTogKHYpID0+IHtcbiAgICBjb25zdCBpbnQgPSBwYXJzZUludCh2KTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGludCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gaW50O1xuICB9LFxuICBzZXJpYWxpemU6ICh2KSA9PiBNYXRoLnJvdW5kKHYpLnRvRml4ZWQoKVxufSk7XG52YXIgcGFyc2VBc0hleCA9IGNyZWF0ZVBhcnNlcih7XG4gIHBhcnNlOiAodikgPT4ge1xuICAgIGNvbnN0IGludCA9IHBhcnNlSW50KHYsIDE2KTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGludCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gaW50O1xuICB9LFxuICBzZXJpYWxpemU6ICh2KSA9PiB7XG4gICAgY29uc3QgaGV4ID0gTWF0aC5yb3VuZCh2KS50b1N0cmluZygxNik7XG4gICAgcmV0dXJuIGhleC5wYWRTdGFydChoZXgubGVuZ3RoICsgaGV4Lmxlbmd0aCAlIDIsIFwiMFwiKTtcbiAgfVxufSk7XG52YXIgcGFyc2VBc0Zsb2F0ID0gY3JlYXRlUGFyc2VyKHtcbiAgcGFyc2U6ICh2KSA9PiB7XG4gICAgY29uc3QgZmxvYXQgPSBwYXJzZUZsb2F0KHYpO1xuICAgIGlmIChOdW1iZXIuaXNOYU4oZmxvYXQpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZsb2F0O1xuICB9LFxuICBzZXJpYWxpemU6ICh2KSA9PiB2LnRvU3RyaW5nKClcbn0pO1xudmFyIHBhcnNlQXNCb29sZWFuID0gY3JlYXRlUGFyc2VyKHtcbiAgcGFyc2U6ICh2KSA9PiB2ID09PSBcInRydWVcIixcbiAgc2VyaWFsaXplOiAodikgPT4gdiA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiXG59KTtcbnZhciBwYXJzZUFzVGltZXN0YW1wID0gY3JlYXRlUGFyc2VyKHtcbiAgcGFyc2U6ICh2KSA9PiB7XG4gICAgY29uc3QgbXMgPSBwYXJzZUludCh2KTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKG1zKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGF0ZShtcyk7XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHYpID0+IHYudmFsdWVPZigpLnRvU3RyaW5nKClcbn0pO1xudmFyIHBhcnNlQXNJc29EYXRlVGltZSA9IGNyZWF0ZVBhcnNlcih7XG4gIHBhcnNlOiAodikgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2KTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUudmFsdWVPZigpKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBkYXRlO1xuICB9LFxuICBzZXJpYWxpemU6ICh2KSA9PiB2LnRvSVNPU3RyaW5nKClcbn0pO1xuZnVuY3Rpb24gcGFyc2VBc1N0cmluZ0VudW0odmFsaWRWYWx1ZXMpIHtcbiAgcmV0dXJuIGNyZWF0ZVBhcnNlcih7XG4gICAgcGFyc2U6IChxdWVyeSkgPT4ge1xuICAgICAgY29uc3QgYXNFbnVtID0gcXVlcnk7XG4gICAgICBpZiAodmFsaWRWYWx1ZXMuaW5jbHVkZXMoYXNFbnVtKSkge1xuICAgICAgICByZXR1cm4gYXNFbnVtO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBzZXJpYWxpemU6ICh2YWx1ZSkgPT4gdmFsdWUudG9TdHJpbmcoKVxuICB9KTtcbn1cbmZ1bmN0aW9uIHBhcnNlQXNTdHJpbmdMaXRlcmFsKHZhbGlkVmFsdWVzKSB7XG4gIHJldHVybiBjcmVhdGVQYXJzZXIoe1xuICAgIHBhcnNlOiAocXVlcnkpID0+IHtcbiAgICAgIGNvbnN0IGFzQ29uc3QgPSBxdWVyeTtcbiAgICAgIGlmICh2YWxpZFZhbHVlcy5pbmNsdWRlcyhhc0NvbnN0KSkge1xuICAgICAgICByZXR1cm4gYXNDb25zdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgc2VyaWFsaXplOiAodmFsdWUpID0+IHZhbHVlLnRvU3RyaW5nKClcbiAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZUFzTnVtYmVyTGl0ZXJhbCh2YWxpZFZhbHVlcykge1xuICByZXR1cm4gY3JlYXRlUGFyc2VyKHtcbiAgICBwYXJzZTogKHF1ZXJ5KSA9PiB7XG4gICAgICBjb25zdCBhc0NvbnN0ID0gcGFyc2VGbG9hdChxdWVyeSk7XG4gICAgICBpZiAodmFsaWRWYWx1ZXMuaW5jbHVkZXMoYXNDb25zdCkpIHtcbiAgICAgICAgcmV0dXJuIGFzQ29uc3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHNlcmlhbGl6ZTogKHZhbHVlKSA9PiB2YWx1ZS50b1N0cmluZygpXG4gIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VBc0pzb24ocGFyc2VyKSB7XG4gIHJldHVybiBjcmVhdGVQYXJzZXIoe1xuICAgIHBhcnNlOiAocXVlcnkpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UocXVlcnkpO1xuICAgICAgICBpZiAodHlwZW9mIHBhcnNlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlcihvYmopO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXJpYWxpemU6ICh2YWx1ZSkgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpLFxuICAgIGVxKGEsIGIpIHtcbiAgICAgIHJldHVybiBhID09PSBiIHx8IEpTT04uc3RyaW5naWZ5KGEpID09PSBKU09OLnN0cmluZ2lmeShiKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VBc0FycmF5T2YoaXRlbVBhcnNlciwgc2VwYXJhdG9yID0gXCIsXCIpIHtcbiAgY29uc3QgaXRlbUVxID0gaXRlbVBhcnNlci5lcSA/PyAoKGEsIGIpID0+IGEgPT09IGIpO1xuICBjb25zdCBlbmNvZGVkU2VwYXJhdG9yID0gZW5jb2RlVVJJQ29tcG9uZW50KHNlcGFyYXRvcik7XG4gIHJldHVybiBjcmVhdGVQYXJzZXIoe1xuICAgIHBhcnNlOiAocXVlcnkpID0+IHtcbiAgICAgIGlmIChxdWVyeSA9PT0gXCJcIikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICByZXR1cm4gcXVlcnkuc3BsaXQoc2VwYXJhdG9yKS5tYXAoXG4gICAgICAgIChpdGVtLCBpbmRleCkgPT4gc2FmZVBhcnNlKFxuICAgICAgICAgIGl0ZW1QYXJzZXIucGFyc2UsXG4gICAgICAgICAgaXRlbS5yZXBsYWNlQWxsKGVuY29kZWRTZXBhcmF0b3IsIHNlcGFyYXRvciksXG4gICAgICAgICAgYFske2luZGV4fV1gXG4gICAgICAgIClcbiAgICAgICkuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCk7XG4gICAgfSxcbiAgICBzZXJpYWxpemU6ICh2YWx1ZXMpID0+IHZhbHVlcy5tYXAoKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBzdHIgPSBpdGVtUGFyc2VyLnNlcmlhbGl6ZSA/IGl0ZW1QYXJzZXIuc2VyaWFsaXplKHZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2VBbGwoc2VwYXJhdG9yLCBlbmNvZGVkU2VwYXJhdG9yKTtcbiAgICB9KS5qb2luKHNlcGFyYXRvciksXG4gICAgZXEoYSwgYikge1xuICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IGl0ZW1FcSh2YWx1ZSwgYltpbmRleF0pKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzcmMvdXJsLWVuY29kaW5nLnRzXG5mdW5jdGlvbiByZW5kZXJRdWVyeVN0cmluZyhzZWFyY2gpIHtcbiAgaWYgKHNlYXJjaC5zaXplID09PSAwKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgY29uc3QgcXVlcnkgPSBbXTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Ygc2VhcmNoLmVudHJpZXMoKSkge1xuICAgIGNvbnN0IHNhZmVLZXkgPSBrZXkucmVwbGFjZSgvIy9nLCBcIiUyM1wiKS5yZXBsYWNlKC8mL2csIFwiJTI2XCIpLnJlcGxhY2UoL1xcKy9nLCBcIiUyQlwiKS5yZXBsYWNlKC89L2csIFwiJTNEXCIpLnJlcGxhY2UoL1xcPy9nLCBcIiUzRlwiKTtcbiAgICBxdWVyeS5wdXNoKGAke3NhZmVLZXl9PSR7ZW5jb2RlUXVlcnlWYWx1ZSh2YWx1ZSl9YCk7XG4gIH1cbiAgcmV0dXJuIFwiP1wiICsgcXVlcnkuam9pbihcIiZcIik7XG59XG5mdW5jdGlvbiBlbmNvZGVRdWVyeVZhbHVlKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC5yZXBsYWNlKC8lL2csIFwiJTI1XCIpLnJlcGxhY2UoL1xcKy9nLCBcIiUyQlwiKS5yZXBsYWNlKC8gL2csIFwiK1wiKS5yZXBsYWNlKC8jL2csIFwiJTIzXCIpLnJlcGxhY2UoLyYvZywgXCIlMjZcIikucmVwbGFjZSgvXCIvZywgXCIlMjJcIikucmVwbGFjZSgvJy9nLCBcIiUyN1wiKS5yZXBsYWNlKC9gL2csIFwiJTYwXCIpLnJlcGxhY2UoLzwvZywgXCIlM0NcIikucmVwbGFjZSgvPi9nLCBcIiUzRVwiKTtcbn1cblxuLy8gc3JjL3NlcmlhbGl6ZXIudHNcbmZ1bmN0aW9uIGNyZWF0ZVNlcmlhbGl6ZXIocGFyc2Vycykge1xuICBmdW5jdGlvbiBzZXJpYWxpemUoYmFzZU9yVmFsdWVzLCB2YWx1ZXMgPSB7fSkge1xuICAgIGNvbnN0IFtiYXNlLCBzZWFyY2hdID0gaXNCYXNlKGJhc2VPclZhbHVlcykgPyBzcGxpdEJhc2UoYmFzZU9yVmFsdWVzKSA6IFtcIlwiLCBuZXcgVVJMU2VhcmNoUGFyYW1zKCldO1xuICAgIGNvbnN0IHZhbHMgPSBpc0Jhc2UoYmFzZU9yVmFsdWVzKSA/IHZhbHVlcyA6IGJhc2VPclZhbHVlcztcbiAgICBpZiAodmFscyA9PT0gbnVsbCkge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcGFyc2Vycykge1xuICAgICAgICBzZWFyY2guZGVsZXRlKGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZSArIHJlbmRlclF1ZXJ5U3RyaW5nKHNlYXJjaCk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHBhcnNlcnMpIHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IHBhcnNlcnNba2V5XTtcbiAgICAgIGNvbnN0IHZhbHVlID0gdmFsc1trZXldO1xuICAgICAgaWYgKCFwYXJzZXIgfHwgdmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlzTWF0Y2hpbmdEZWZhdWx0ID0gcGFyc2VyLmRlZmF1bHRWYWx1ZSAhPT0gdm9pZCAwICYmIChwYXJzZXIuZXEgPz8gKChhLCBiKSA9PiBhID09PSBiKSkodmFsdWUsIHBhcnNlci5kZWZhdWx0VmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHBhcnNlci5jbGVhck9uRGVmYXVsdCAmJiBpc01hdGNoaW5nRGVmYXVsdCkge1xuICAgICAgICBzZWFyY2guZGVsZXRlKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWFyY2guc2V0KGtleSwgcGFyc2VyLnNlcmlhbGl6ZSh2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYmFzZSArIHJlbmRlclF1ZXJ5U3RyaW5nKHNlYXJjaCk7XG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZTtcbn1cbmZ1bmN0aW9uIGlzQmFzZShiYXNlKSB7XG4gIHJldHVybiB0eXBlb2YgYmFzZSA9PT0gXCJzdHJpbmdcIiB8fCBiYXNlIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zIHx8IGJhc2UgaW5zdGFuY2VvZiBVUkw7XG59XG5mdW5jdGlvbiBzcGxpdEJhc2UoYmFzZSkge1xuICBpZiAodHlwZW9mIGJhc2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCBbcGF0aCA9IFwiXCIsIHNlYXJjaF0gPSBiYXNlLnNwbGl0KFwiP1wiKTtcbiAgICByZXR1cm4gW3BhdGgsIG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKV07XG4gIH0gZWxzZSBpZiAoYmFzZSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgIHJldHVybiBbXCJcIiwgbmV3IFVSTFNlYXJjaFBhcmFtcyhiYXNlKV07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGJhc2Uub3JpZ2luICsgYmFzZS5wYXRobmFtZSxcbiAgICAgIG5ldyBVUkxTZWFyY2hQYXJhbXMoYmFzZS5zZWFyY2hQYXJhbXMpXG4gICAgXTtcbiAgfVxufVxuXG4vLyBzcmMvZXJyb3JzLnRzXG52YXIgZXJyb3JzID0ge1xuICA0MDk6IFwiTXVsdGlwbGUgdmVyc2lvbnMgb2YgdGhlIGxpYnJhcnkgYXJlIGxvYWRlZC4gVGhpcyBtYXkgbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yLiBDdXJyZW50bHkgdXNpbmcgYCVzYCwgYnV0IGAlc2Agd2FzIGFib3V0IHRvIGxvYWQgb24gdG9wLlwiLFxuICA0Mjk6IFwiVVJMIHVwZGF0ZSByYXRlLWxpbWl0ZWQgYnkgdGhlIGJyb3dzZXIuIENvbnNpZGVyIGluY3JlYXNpbmcgYHRocm90dGxlTXNgIGZvciBrZXkocykgYCVzYC4gJU9cIixcbiAgNTAwOiBcIkVtcHR5IHNlYXJjaCBwYXJhbXMgY2FjaGUuIFNlYXJjaCBwYXJhbXMgY2FuJ3QgYmUgYWNjZXNzZWQgaW4gTGF5b3V0cy5cIixcbiAgNTAxOiBcIlNlYXJjaCBwYXJhbXMgY2FjaGUgYWxyZWFkeSBwb3B1bGF0ZWQuIEhhdmUgeW91IGNhbGxlZCBgcGFyc2VgIHR3aWNlP1wiXG59O1xuZnVuY3Rpb24gZXJyb3IoY29kZSkge1xuICByZXR1cm4gYFtudXFzXSAke2Vycm9yc1tjb2RlXX1cbiAgU2VlIGh0dHBzOi8vZXJyLjQ3bmcuY29tL05VUVMtJHtjb2RlfWA7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVBhcnNlciwgY3JlYXRlU2VyaWFsaXplciwgZGVidWcsIGVycm9yLCBnZXREZWZhdWx0VGhyb3R0bGUsIHBhcnNlQXNBcnJheU9mLCBwYXJzZUFzQm9vbGVhbiwgcGFyc2VBc0Zsb2F0LCBwYXJzZUFzSGV4LCBwYXJzZUFzSW50ZWdlciwgcGFyc2VBc0lzb0RhdGVUaW1lLCBwYXJzZUFzSnNvbiwgcGFyc2VBc051bWJlckxpdGVyYWwsIHBhcnNlQXNTdHJpbmcsIHBhcnNlQXNTdHJpbmdFbnVtLCBwYXJzZUFzU3RyaW5nTGl0ZXJhbCwgcGFyc2VBc1RpbWVzdGFtcCwgcmVuZGVyUXVlcnlTdHJpbmcsIHNhZmVQYXJzZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/nuqs/dist/chunk-MJO6WWF3.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/nuqs/dist/index.js":
/*!*****************************************!*\
  !*** ./node_modules/nuqs/dist/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createParser: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.createParser),\n/* harmony export */   createSerializer: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.createSerializer),\n/* harmony export */   parseAsArrayOf: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsArrayOf),\n/* harmony export */   parseAsBoolean: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsBoolean),\n/* harmony export */   parseAsFloat: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsFloat),\n/* harmony export */   parseAsHex: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsHex),\n/* harmony export */   parseAsInteger: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsInteger),\n/* harmony export */   parseAsIsoDateTime: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsIsoDateTime),\n/* harmony export */   parseAsJson: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsJson),\n/* harmony export */   parseAsNumberLiteral: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsNumberLiteral),\n/* harmony export */   parseAsString: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsString),\n/* harmony export */   parseAsStringEnum: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsStringEnum),\n/* harmony export */   parseAsStringLiteral: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsStringLiteral),\n/* harmony export */   parseAsTimestamp: () => (/* reexport safe */ _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsTimestamp),\n/* harmony export */   queryTypes: () => (/* binding */ queryTypes),\n/* harmony export */   subscribeToQueryUpdates: () => (/* binding */ subscribeToQueryUpdates),\n/* harmony export */   useQueryState: () => (/* binding */ useQueryState),\n/* harmony export */   useQueryStates: () => (/* binding */ useQueryStates)\n/* harmony export */ });\n/* harmony import */ var _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-MJO6WWF3.js */ \"(ssr)/./node_modules/nuqs/dist/chunk-MJO6WWF3.js\");\n/* harmony import */ var mitt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mitt */ \"(ssr)/./node_modules/mitt/dist/mitt.mjs\");\n/* harmony import */ var next_navigation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation.js */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\n\n\n\n\n// src/deprecated.ts\nvar queryTypes = {\n  /**\n   * @deprecated use `parseAsString` instead.\n   */\n  string: _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsString,\n  /**\n   * @deprecated use `parseAsInteger` instead.\n   */\n  integer: _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsInteger,\n  /**\n   * @deprecated use `parseAsFloat` instead.\n   */\n  float: _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsFloat,\n  /**\n   * @deprecated use `parseAsBoolean` instead.\n   */\n  boolean: _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsBoolean,\n  /**\n   * @deprecated use `parseAsTimestamp` instead.\n   */\n  timestamp: _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsTimestamp,\n  /**\n   * @deprecated use `parseAsIsoDateTime` instead.\n   */\n  isoDateTime: _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsIsoDateTime,\n  /**\n   * @deprecated use `parseAsStringEnum` instead.\n   */\n  stringEnum: _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsStringEnum,\n  /**\n   * @deprecated use `parseAsJson` instead.\n   */\n  json: _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsJson,\n  /**\n   * @deprecated use `parseAsArrayOf` instead.\n   */\n  array: _chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.parseAsArrayOf\n};\n\n// src/update-queue.ts\nvar FLUSH_RATE_LIMIT_MS = (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.getDefaultThrottle)();\nvar updateQueue = /* @__PURE__ */ new Map();\nvar queueOptions = {\n  history: \"replace\",\n  scroll: false,\n  shallow: true,\n  throttleMs: FLUSH_RATE_LIMIT_MS\n};\nvar transitionsQueue = /* @__PURE__ */ new Set();\nvar lastFlushTimestamp = 0;\nvar flushPromiseCache = null;\nfunction enqueueQueryStringUpdate(key, value, serialize, options) {\n  const serializedOrNull = value === null ? null : serialize(value);\n  (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs queue] Enqueueing %s=%s %O\", key, serializedOrNull, options);\n  updateQueue.set(key, serializedOrNull);\n  if (options.history === \"push\") {\n    queueOptions.history = \"push\";\n  }\n  if (options.scroll) {\n    queueOptions.scroll = true;\n  }\n  if (options.shallow === false) {\n    queueOptions.shallow = false;\n  }\n  if (options.startTransition) {\n    transitionsQueue.add(options.startTransition);\n    queueOptions.shallow = false;\n  }\n  queueOptions.throttleMs = Math.max(\n    options.throttleMs ?? FLUSH_RATE_LIMIT_MS,\n    Number.isFinite(queueOptions.throttleMs) ? queueOptions.throttleMs : 0\n  );\n  return serializedOrNull;\n}\nfunction getQueuedValue(key) {\n  return updateQueue.get(key) ?? null;\n}\nfunction scheduleFlushToURL(router) {\n  if (flushPromiseCache === null) {\n    flushPromiseCache = new Promise((resolve, reject) => {\n      if (!Number.isFinite(queueOptions.throttleMs)) {\n        (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs queue] Skipping flush due to throttleMs=Infinity\");\n        resolve(new URLSearchParams(location.search));\n        setTimeout(() => {\n          flushPromiseCache = null;\n        }, 0);\n        return;\n      }\n      function flushNow() {\n        lastFlushTimestamp = performance.now();\n        const [search, error2] = flushUpdateQueue(router);\n        if (error2 === null) {\n          resolve(search);\n        } else {\n          reject(search);\n        }\n        flushPromiseCache = null;\n      }\n      function runOnNextTick() {\n        const now = performance.now();\n        const timeSinceLastFlush = now - lastFlushTimestamp;\n        const throttleMs = queueOptions.throttleMs;\n        const flushInMs = Math.max(\n          0,\n          Math.min(throttleMs, throttleMs - timeSinceLastFlush)\n        );\n        (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\n          \"[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms\",\n          flushInMs,\n          throttleMs\n        );\n        if (flushInMs === 0) {\n          flushNow();\n        } else {\n          setTimeout(flushNow, flushInMs);\n        }\n      }\n      setTimeout(runOnNextTick, 0);\n    });\n  }\n  return flushPromiseCache;\n}\nfunction flushUpdateQueue(router) {\n  const search = new URLSearchParams(location.search);\n  if (updateQueue.size === 0) {\n    return [search, null];\n  }\n  const items = Array.from(updateQueue.entries());\n  const options = { ...queueOptions };\n  const transitions = Array.from(transitionsQueue);\n  updateQueue.clear();\n  transitionsQueue.clear();\n  queueOptions.history = \"replace\";\n  queueOptions.scroll = false;\n  queueOptions.shallow = true;\n  queueOptions.throttleMs = FLUSH_RATE_LIMIT_MS;\n  (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs queue] Flushing queue %O with options %O\", items, options);\n  for (const [key, value] of items) {\n    if (value === null) {\n      search.delete(key);\n    } else {\n      search.set(key, value);\n    }\n  }\n  try {\n    const nextRouter = window.next?.router;\n    const isPagesRouter = typeof nextRouter?.state?.asPath === \"string\";\n    if (isPagesRouter) {\n      const url = renderURL(nextRouter.state.asPath.split(\"?\")[0] ?? \"\", search);\n      (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs queue (pages)] Updating url: %s\", url);\n      const method = options.history === \"push\" ? nextRouter.push : nextRouter.replace;\n      method.call(nextRouter, url, url, {\n        scroll: options.scroll,\n        shallow: options.shallow\n      });\n    } else {\n      const url = renderURL(location.origin + location.pathname, search);\n      (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs queue (app)] Updating url: %s\", url);\n      const updateMethod = options.history === \"push\" ? history.pushState : history.replaceState;\n      const state = (window.next?.version ?? \"\") >= \"14.1.0\" ? null : history.state;\n      updateMethod.call(\n        history,\n        state,\n        // Our own updates have a marker to prevent syncing\n        // when the URL changes (we've already sync'd them up\n        // via `emitter.emit(key, newValue)` above, without\n        // going through the parsers).\n        NOSYNC_MARKER,\n        url\n      );\n      if (options.scroll) {\n        window.scrollTo(0, 0);\n      }\n      if (!options.shallow) {\n        compose(transitions, () => {\n          router.replace(url, {\n            scroll: false\n          });\n        });\n      }\n    }\n    return [search, null];\n  } catch (err) {\n    console.error((0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.error)(429), items.map(([key]) => key).join(), err);\n    return [search, err];\n  }\n}\nfunction renderURL(base, search) {\n  const hashlessBase = base.split(\"#\")[0] ?? \"\";\n  const query = (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.renderQueryString)(search);\n  const hash = location.hash;\n  return hashlessBase + query + hash;\n}\nfunction compose(fns, final) {\n  const recursiveCompose = (index) => {\n    if (index === fns.length) {\n      return final();\n    }\n    const fn = fns[index];\n    if (!fn) {\n      throw new Error(\"Invalid transition function\");\n    }\n    fn(() => recursiveCompose(index + 1));\n  };\n  recursiveCompose(0);\n}\n\n// src/sync.ts\nvar SYNC_EVENT_KEY = Symbol(\"__nuqs__SYNC__\");\nvar NOSYNC_MARKER = \"__nuqs__NO_SYNC__\";\nvar NOTIFY_EVENT_KEY = Symbol(\"__nuqs__NOTIFY__\");\nvar emitter = (0,mitt__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\nfunction subscribeToQueryUpdates(callback) {\n  emitter.on(NOTIFY_EVENT_KEY, callback);\n  return () => emitter.off(NOTIFY_EVENT_KEY, callback);\n}\nif (typeof history === \"object\") {\n  patchHistory();\n}\nfunction patchHistory() {\n  const version = \"1.20.0\";\n  const patched = history.__nuqs_patched;\n  if (patched) {\n    if (patched !== version) {\n      console.error((0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.error)(409), patched, version);\n    }\n    return;\n  }\n  (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs] Patching history with %s\", version);\n  for (const method of [\"pushState\", \"replaceState\"]) {\n    const original = history[method].bind(history);\n    history[method] = function nuqs_patchedHistory(state, title, url) {\n      if (!url) {\n        (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs] history.%s(null) (%s) %O\", method, title, state);\n        return original(state, title, url);\n      }\n      const source = title === NOSYNC_MARKER ? \"internal\" : \"external\";\n      const search = new URL(url, location.origin).searchParams;\n      (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs] history.%s(%s) (%s) %O\", method, url, source, state);\n      if (source === \"external\") {\n        for (const [key, value] of search.entries()) {\n          const queueValue = getQueuedValue(key);\n          if (queueValue !== null && queueValue !== value) {\n            (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\n              \"[nuqs] Overwrite detected for key: %s, Server: %s, queue: %s\",\n              key,\n              value,\n              queueValue\n            );\n            search.set(key, queueValue);\n          }\n        }\n        setTimeout(() => {\n          (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\n            \"[nuqs] External history.%s call: triggering sync with %s\",\n            method,\n            search\n          );\n          emitter.emit(SYNC_EVENT_KEY, search);\n          emitter.emit(NOTIFY_EVENT_KEY, { search, source });\n        }, 0);\n      } else {\n        setTimeout(() => {\n          emitter.emit(NOTIFY_EVENT_KEY, { search, source });\n        }, 0);\n      }\n      return original(state, title === NOSYNC_MARKER ? \"\" : title, url);\n    };\n  }\n  Object.defineProperty(history, \"__nuqs_patched\", {\n    value: version,\n    writable: false,\n    enumerable: false,\n    configurable: false\n  });\n}\nfunction useQueryState(key, {\n  history: history2 = \"replace\",\n  shallow = true,\n  scroll = false,\n  throttleMs = FLUSH_RATE_LIMIT_MS,\n  parse = (x) => x,\n  serialize = String,\n  eq = (a, b) => a === b,\n  defaultValue = void 0,\n  clearOnDefault = false,\n  startTransition\n} = {\n  history: \"replace\",\n  scroll: false,\n  shallow: true,\n  throttleMs: FLUSH_RATE_LIMIT_MS,\n  parse: (x) => x,\n  serialize: String,\n  eq: (a, b) => a === b,\n  clearOnDefault: false,\n  defaultValue: void 0\n}) {\n  const router = (0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n  const initialSearchParams = (0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n  const queryRef = react__WEBPACK_IMPORTED_MODULE_3__.useRef(null);\n  const [internalState, setInternalState] = react__WEBPACK_IMPORTED_MODULE_3__.useState(() => {\n    const queueValue = getQueuedValue(key);\n    const urlValue = initialSearchParams?.get(key) ?? null;\n    const value = queueValue ?? urlValue;\n    queryRef.current = value;\n    return value === null ? null : (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.safeParse)(parse, value, key);\n  });\n  const stateRef = react__WEBPACK_IMPORTED_MODULE_3__.useRef(internalState);\n  (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\n    \"[nuqs `%s`] render - state: %O, iSP: %s\",\n    key,\n    internalState,\n    initialSearchParams?.get(key) ?? null\n  );\n  react__WEBPACK_IMPORTED_MODULE_3__.useEffect(() => {\n    if (window.next?.version !== \"14.0.3\") {\n      return;\n    }\n    const query = initialSearchParams.get(key) ?? null;\n    if (query === queryRef.current) {\n      return;\n    }\n    const state = query === null ? null : (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.safeParse)(parse, query, key);\n    (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs `%s`] syncFromUseSearchParams %O\", key, state);\n    stateRef.current = state;\n    queryRef.current = query;\n    setInternalState(state);\n  }, [initialSearchParams?.get(key), key]);\n  react__WEBPACK_IMPORTED_MODULE_3__.useInsertionEffect(() => {\n    function updateInternalState({ state, query }) {\n      (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs `%s`] updateInternalState %O\", key, state);\n      stateRef.current = state;\n      queryRef.current = query;\n      setInternalState(state);\n    }\n    function syncFromURL(search) {\n      const query = search.get(key);\n      if (query === queryRef.current) {\n        return;\n      }\n      const state = query === null ? null : (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.safeParse)(parse, query, key);\n      (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs `%s`] syncFromURL %O\", key, state);\n      updateInternalState({ state, query });\n    }\n    (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs `%s`] subscribing to sync\", key);\n    emitter.on(SYNC_EVENT_KEY, syncFromURL);\n    emitter.on(key, updateInternalState);\n    return () => {\n      (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs `%s`] unsubscribing from sync\", key);\n      emitter.off(SYNC_EVENT_KEY, syncFromURL);\n      emitter.off(key, updateInternalState);\n    };\n  }, [key]);\n  const update = react__WEBPACK_IMPORTED_MODULE_3__.useCallback(\n    (stateUpdater, options = {}) => {\n      let newValue = isUpdaterFunction(stateUpdater) ? stateUpdater(stateRef.current ?? defaultValue ?? null) : stateUpdater;\n      if ((options.clearOnDefault ?? clearOnDefault) && newValue !== null && defaultValue !== void 0 && eq(newValue, defaultValue)) {\n        newValue = null;\n      }\n      queryRef.current = enqueueQueryStringUpdate(key, newValue, serialize, {\n        // Call-level options take precedence over hook declaration options.\n        history: options.history ?? history2,\n        shallow: options.shallow ?? shallow,\n        scroll: options.scroll ?? scroll,\n        throttleMs: options.throttleMs ?? throttleMs,\n        startTransition: options.startTransition ?? startTransition\n      });\n      emitter.emit(key, { state: newValue, query: queryRef.current });\n      return scheduleFlushToURL(router);\n    },\n    [key, history2, shallow, scroll, throttleMs, startTransition]\n  );\n  return [internalState ?? defaultValue ?? null, update];\n}\nfunction isUpdaterFunction(stateUpdater) {\n  return typeof stateUpdater === \"function\";\n}\nvar defaultUrlKeys = {};\nfunction useQueryStates(keyMap, {\n  history: history2 = \"replace\",\n  scroll = false,\n  shallow = true,\n  throttleMs = FLUSH_RATE_LIMIT_MS,\n  clearOnDefault = false,\n  startTransition,\n  urlKeys = defaultUrlKeys\n} = {}) {\n  const stateKeys = Object.keys(keyMap).join(\",\");\n  const resolvedUrlKeys = react__WEBPACK_IMPORTED_MODULE_3__.useMemo(\n    () => Object.fromEntries(\n      Object.keys(keyMap).map((key) => [key, urlKeys[key] ?? key])\n    ),\n    [stateKeys, urlKeys]\n  );\n  const router = (0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n  const initialSearchParams = (0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n  const queryRef = react__WEBPACK_IMPORTED_MODULE_3__.useRef({});\n  const [internalState, setInternalState] = react__WEBPACK_IMPORTED_MODULE_3__.useState(() => {\n    const source = initialSearchParams ?? new URLSearchParams();\n    queryRef.current = Object.fromEntries(source.entries());\n    return parseMap(keyMap, urlKeys, source);\n  });\n  const stateRef = react__WEBPACK_IMPORTED_MODULE_3__.useRef(internalState);\n  (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\n    \"[nuq+ `%s`] render - state: %O, iSP: %s\",\n    stateKeys,\n    internalState,\n    initialSearchParams\n  );\n  react__WEBPACK_IMPORTED_MODULE_3__.useEffect(() => {\n    if (window.next?.version !== \"14.0.3\") {\n      return;\n    }\n    const state = parseMap(\n      keyMap,\n      urlKeys,\n      initialSearchParams,\n      queryRef.current,\n      stateRef.current\n    );\n    setInternalState(state);\n  }, [\n    Object.keys(resolvedUrlKeys).map((key) => initialSearchParams?.get(key)).join(\"&\"),\n    stateKeys\n  ]);\n  react__WEBPACK_IMPORTED_MODULE_3__.useInsertionEffect(() => {\n    function updateInternalState(state) {\n      (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuq+ `%s`] updateInternalState %O\", stateKeys, state);\n      stateRef.current = state;\n      setInternalState(state);\n    }\n    function syncFromURL(search) {\n      const state = parseMap(\n        keyMap,\n        urlKeys,\n        search,\n        queryRef.current,\n        stateRef.current\n      );\n      (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuq+ `%s`] syncFromURL %O\", stateKeys, state);\n      updateInternalState(state);\n    }\n    const handlers = Object.keys(keyMap).reduce(\n      (handlers2, stateKey) => {\n        handlers2[stateKey] = ({\n          state,\n          query\n        }) => {\n          const { defaultValue } = keyMap[stateKey];\n          const urlKey = resolvedUrlKeys[stateKey];\n          stateRef.current = {\n            ...stateRef.current,\n            [stateKey]: state ?? defaultValue ?? null\n          };\n          queryRef.current[urlKey] = query;\n          (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\n            \"[nuq+ `%s`] Cross-hook key sync %s: %O (default: %O). Resolved: %O\",\n            stateKeys,\n            urlKey,\n            state,\n            defaultValue,\n            stateRef.current\n          );\n          updateInternalState(stateRef.current);\n        };\n        return handlers2;\n      },\n      {}\n    );\n    emitter.on(SYNC_EVENT_KEY, syncFromURL);\n    for (const stateKey of Object.keys(keyMap)) {\n      const urlKey = resolvedUrlKeys[stateKey];\n      (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuq+ `%s`] Subscribing to sync for `%s`\", stateKeys, urlKey);\n      emitter.on(urlKey, handlers[stateKey]);\n    }\n    return () => {\n      emitter.off(SYNC_EVENT_KEY, syncFromURL);\n      for (const stateKey of Object.keys(keyMap)) {\n        const urlKey = resolvedUrlKeys[stateKey];\n        (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuq+ `%s`] Unsubscribing to sync for `%s`\", stateKeys, urlKey);\n        emitter.off(urlKey, handlers[stateKey]);\n      }\n    };\n  }, [keyMap, resolvedUrlKeys]);\n  const update = react__WEBPACK_IMPORTED_MODULE_3__.useCallback(\n    (stateUpdater, callOptions = {}) => {\n      const newState = typeof stateUpdater === \"function\" ? stateUpdater(stateRef.current) : stateUpdater === null ? Object.fromEntries(\n        Object.keys(keyMap).map((key) => [key, null])\n      ) : stateUpdater;\n      (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuq+ `%s`] setState: %O\", stateKeys, newState);\n      for (let [stateKey, value] of Object.entries(newState)) {\n        const parser = keyMap[stateKey];\n        const urlKey = resolvedUrlKeys[stateKey];\n        if (!parser) {\n          continue;\n        }\n        if ((callOptions.clearOnDefault ?? parser.clearOnDefault ?? clearOnDefault) && value !== null && parser.defaultValue !== void 0 && (parser.eq ?? ((a, b) => a === b))(value, parser.defaultValue)) {\n          value = null;\n        }\n        queryRef.current[urlKey] = enqueueQueryStringUpdate(\n          urlKey,\n          value,\n          parser.serialize ?? String,\n          {\n            // Call-level options take precedence over individual parser options\n            // which take precedence over global options\n            history: callOptions.history ?? parser.history ?? history2,\n            shallow: callOptions.shallow ?? parser.shallow ?? shallow,\n            scroll: callOptions.scroll ?? parser.scroll ?? scroll,\n            throttleMs: callOptions.throttleMs ?? parser.throttleMs ?? throttleMs,\n            startTransition: callOptions.startTransition ?? parser.startTransition ?? startTransition\n          }\n        );\n        emitter.emit(urlKey, {\n          state: value,\n          query: queryRef.current[urlKey] ?? null\n        });\n      }\n      return scheduleFlushToURL(router);\n    },\n    [\n      keyMap,\n      history2,\n      shallow,\n      scroll,\n      throttleMs,\n      startTransition,\n      resolvedUrlKeys\n    ]\n  );\n  return [internalState, update];\n}\nfunction parseMap(keyMap, urlKeys, searchParams, cachedQuery, cachedState) {\n  return Object.keys(keyMap).reduce((obj, stateKey) => {\n    const urlKey = urlKeys?.[stateKey] ?? stateKey;\n    const { defaultValue, parse } = keyMap[stateKey];\n    const urlQuery = searchParams?.get(urlKey) ?? null;\n    const queueQuery = getQueuedValue(urlKey);\n    const query = queueQuery ?? urlQuery;\n    if (cachedQuery && cachedState && cachedQuery[urlKey] === query) {\n      obj[stateKey] = cachedState[stateKey] ?? defaultValue ?? null;\n      return obj;\n    }\n    const value = query === null ? null : (0,_chunk_MJO6WWF3_js__WEBPACK_IMPORTED_MODULE_0__.safeParse)(parse, query, stateKey);\n    obj[stateKey] = value ?? defaultValue ?? null;\n    if (cachedQuery) {\n      cachedQuery[urlKey] = query;\n    }\n    return obj;\n  }, {});\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd1A7QUFDd0I7QUFDeFA7QUFDd0M7QUFDckM7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDZEQUFhO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOERBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0REFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhEQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0VBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUVBQWlCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMkRBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4REFBYztBQUN2Qjs7QUFFQTtBQUNBLDBCQUEwQixzRUFBa0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSx5REFBSztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseURBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5REFBSztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNCQUFzQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyw2REFBUztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7O0FBRThFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvd2JvYXJkLy4vbm9kZV9tb2R1bGVzL251cXMvZGlzdC9pbmRleC5qcz8yMjg3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldERlZmF1bHRUaHJvdHRsZSwgZXJyb3IsIGRlYnVnLCBwYXJzZUFzU3RyaW5nLCBwYXJzZUFzSW50ZWdlciwgcGFyc2VBc0Zsb2F0LCBwYXJzZUFzQm9vbGVhbiwgcGFyc2VBc1RpbWVzdGFtcCwgcGFyc2VBc0lzb0RhdGVUaW1lLCBwYXJzZUFzU3RyaW5nRW51bSwgcGFyc2VBc0pzb24sIHBhcnNlQXNBcnJheU9mLCBzYWZlUGFyc2UsIHJlbmRlclF1ZXJ5U3RyaW5nIH0gZnJvbSAnLi9jaHVuay1NSk82V1dGMy5qcyc7XG5leHBvcnQgeyBjcmVhdGVQYXJzZXIsIGNyZWF0ZVNlcmlhbGl6ZXIsIHBhcnNlQXNBcnJheU9mLCBwYXJzZUFzQm9vbGVhbiwgcGFyc2VBc0Zsb2F0LCBwYXJzZUFzSGV4LCBwYXJzZUFzSW50ZWdlciwgcGFyc2VBc0lzb0RhdGVUaW1lLCBwYXJzZUFzSnNvbiwgcGFyc2VBc051bWJlckxpdGVyYWwsIHBhcnNlQXNTdHJpbmcsIHBhcnNlQXNTdHJpbmdFbnVtLCBwYXJzZUFzU3RyaW5nTGl0ZXJhbCwgcGFyc2VBc1RpbWVzdGFtcCB9IGZyb20gJy4vY2h1bmstTUpPNldXRjMuanMnO1xuaW1wb3J0IE1pdHQgZnJvbSAnbWl0dCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gJ25leHQvbmF2aWdhdGlvbi5qcyc7XG5pbXBvcnQgUmVhY3QyIGZyb20gJ3JlYWN0JztcblxuLy8gc3JjL2RlcHJlY2F0ZWQudHNcbnZhciBxdWVyeVR5cGVzID0ge1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBwYXJzZUFzU3RyaW5nYCBpbnN0ZWFkLlxuICAgKi9cbiAgc3RyaW5nOiBwYXJzZUFzU3RyaW5nLFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBwYXJzZUFzSW50ZWdlcmAgaW5zdGVhZC5cbiAgICovXG4gIGludGVnZXI6IHBhcnNlQXNJbnRlZ2VyLFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBwYXJzZUFzRmxvYXRgIGluc3RlYWQuXG4gICAqL1xuICBmbG9hdDogcGFyc2VBc0Zsb2F0LFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBwYXJzZUFzQm9vbGVhbmAgaW5zdGVhZC5cbiAgICovXG4gIGJvb2xlYW46IHBhcnNlQXNCb29sZWFuLFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBwYXJzZUFzVGltZXN0YW1wYCBpbnN0ZWFkLlxuICAgKi9cbiAgdGltZXN0YW1wOiBwYXJzZUFzVGltZXN0YW1wLFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBwYXJzZUFzSXNvRGF0ZVRpbWVgIGluc3RlYWQuXG4gICAqL1xuICBpc29EYXRlVGltZTogcGFyc2VBc0lzb0RhdGVUaW1lLFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBwYXJzZUFzU3RyaW5nRW51bWAgaW5zdGVhZC5cbiAgICovXG4gIHN0cmluZ0VudW06IHBhcnNlQXNTdHJpbmdFbnVtLFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBwYXJzZUFzSnNvbmAgaW5zdGVhZC5cbiAgICovXG4gIGpzb246IHBhcnNlQXNKc29uLFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBwYXJzZUFzQXJyYXlPZmAgaW5zdGVhZC5cbiAgICovXG4gIGFycmF5OiBwYXJzZUFzQXJyYXlPZlxufTtcblxuLy8gc3JjL3VwZGF0ZS1xdWV1ZS50c1xudmFyIEZMVVNIX1JBVEVfTElNSVRfTVMgPSBnZXREZWZhdWx0VGhyb3R0bGUoKTtcbnZhciB1cGRhdGVRdWV1ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG52YXIgcXVldWVPcHRpb25zID0ge1xuICBoaXN0b3J5OiBcInJlcGxhY2VcIixcbiAgc2Nyb2xsOiBmYWxzZSxcbiAgc2hhbGxvdzogdHJ1ZSxcbiAgdGhyb3R0bGVNczogRkxVU0hfUkFURV9MSU1JVF9NU1xufTtcbnZhciB0cmFuc2l0aW9uc1F1ZXVlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbnZhciBsYXN0Rmx1c2hUaW1lc3RhbXAgPSAwO1xudmFyIGZsdXNoUHJvbWlzZUNhY2hlID0gbnVsbDtcbmZ1bmN0aW9uIGVucXVldWVRdWVyeVN0cmluZ1VwZGF0ZShrZXksIHZhbHVlLCBzZXJpYWxpemUsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc2VyaWFsaXplZE9yTnVsbCA9IHZhbHVlID09PSBudWxsID8gbnVsbCA6IHNlcmlhbGl6ZSh2YWx1ZSk7XG4gIGRlYnVnKFwiW251cXMgcXVldWVdIEVucXVldWVpbmcgJXM9JXMgJU9cIiwga2V5LCBzZXJpYWxpemVkT3JOdWxsLCBvcHRpb25zKTtcbiAgdXBkYXRlUXVldWUuc2V0KGtleSwgc2VyaWFsaXplZE9yTnVsbCk7XG4gIGlmIChvcHRpb25zLmhpc3RvcnkgPT09IFwicHVzaFwiKSB7XG4gICAgcXVldWVPcHRpb25zLmhpc3RvcnkgPSBcInB1c2hcIjtcbiAgfVxuICBpZiAob3B0aW9ucy5zY3JvbGwpIHtcbiAgICBxdWV1ZU9wdGlvbnMuc2Nyb2xsID0gdHJ1ZTtcbiAgfVxuICBpZiAob3B0aW9ucy5zaGFsbG93ID09PSBmYWxzZSkge1xuICAgIHF1ZXVlT3B0aW9ucy5zaGFsbG93ID0gZmFsc2U7XG4gIH1cbiAgaWYgKG9wdGlvbnMuc3RhcnRUcmFuc2l0aW9uKSB7XG4gICAgdHJhbnNpdGlvbnNRdWV1ZS5hZGQob3B0aW9ucy5zdGFydFRyYW5zaXRpb24pO1xuICAgIHF1ZXVlT3B0aW9ucy5zaGFsbG93ID0gZmFsc2U7XG4gIH1cbiAgcXVldWVPcHRpb25zLnRocm90dGxlTXMgPSBNYXRoLm1heChcbiAgICBvcHRpb25zLnRocm90dGxlTXMgPz8gRkxVU0hfUkFURV9MSU1JVF9NUyxcbiAgICBOdW1iZXIuaXNGaW5pdGUocXVldWVPcHRpb25zLnRocm90dGxlTXMpID8gcXVldWVPcHRpb25zLnRocm90dGxlTXMgOiAwXG4gICk7XG4gIHJldHVybiBzZXJpYWxpemVkT3JOdWxsO1xufVxuZnVuY3Rpb24gZ2V0UXVldWVkVmFsdWUoa2V5KSB7XG4gIHJldHVybiB1cGRhdGVRdWV1ZS5nZXQoa2V5KSA/PyBudWxsO1xufVxuZnVuY3Rpb24gc2NoZWR1bGVGbHVzaFRvVVJMKHJvdXRlcikge1xuICBpZiAoZmx1c2hQcm9taXNlQ2FjaGUgPT09IG51bGwpIHtcbiAgICBmbHVzaFByb21pc2VDYWNoZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHF1ZXVlT3B0aW9ucy50aHJvdHRsZU1zKSkge1xuICAgICAgICBkZWJ1ZyhcIltudXFzIHF1ZXVlXSBTa2lwcGluZyBmbHVzaCBkdWUgdG8gdGhyb3R0bGVNcz1JbmZpbml0eVwiKTtcbiAgICAgICAgcmVzb2x2ZShuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCkpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBmbHVzaFByb21pc2VDYWNoZSA9IG51bGw7XG4gICAgICAgIH0sIDApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBmbHVzaE5vdygpIHtcbiAgICAgICAgbGFzdEZsdXNoVGltZXN0YW1wID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IFtzZWFyY2gsIGVycm9yMl0gPSBmbHVzaFVwZGF0ZVF1ZXVlKHJvdXRlcik7XG4gICAgICAgIGlmIChlcnJvcjIgPT09IG51bGwpIHtcbiAgICAgICAgICByZXNvbHZlKHNlYXJjaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KHNlYXJjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZmx1c2hQcm9taXNlQ2FjaGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcnVuT25OZXh0VGljaygpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RGbHVzaCA9IG5vdyAtIGxhc3RGbHVzaFRpbWVzdGFtcDtcbiAgICAgICAgY29uc3QgdGhyb3R0bGVNcyA9IHF1ZXVlT3B0aW9ucy50aHJvdHRsZU1zO1xuICAgICAgICBjb25zdCBmbHVzaEluTXMgPSBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGgubWluKHRocm90dGxlTXMsIHRocm90dGxlTXMgLSB0aW1lU2luY2VMYXN0Rmx1c2gpXG4gICAgICAgICk7XG4gICAgICAgIGRlYnVnKFxuICAgICAgICAgIFwiW251cXMgcXVldWVdIFNjaGVkdWxpbmcgZmx1c2ggaW4gJWYgbXMuIFRocm90dGxlZCBhdCAlZiBtc1wiLFxuICAgICAgICAgIGZsdXNoSW5NcyxcbiAgICAgICAgICB0aHJvdHRsZU1zXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmbHVzaEluTXMgPT09IDApIHtcbiAgICAgICAgICBmbHVzaE5vdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFRpbWVvdXQoZmx1c2hOb3csIGZsdXNoSW5Ncyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQocnVuT25OZXh0VGljaywgMCk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGZsdXNoUHJvbWlzZUNhY2hlO1xufVxuZnVuY3Rpb24gZmx1c2hVcGRhdGVRdWV1ZShyb3V0ZXIpIHtcbiAgY29uc3Qgc2VhcmNoID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpO1xuICBpZiAodXBkYXRlUXVldWUuc2l6ZSA9PT0gMCkge1xuICAgIHJldHVybiBbc2VhcmNoLCBudWxsXTtcbiAgfVxuICBjb25zdCBpdGVtcyA9IEFycmF5LmZyb20odXBkYXRlUXVldWUuZW50cmllcygpKTtcbiAgY29uc3Qgb3B0aW9ucyA9IHsgLi4ucXVldWVPcHRpb25zIH07XG4gIGNvbnN0IHRyYW5zaXRpb25zID0gQXJyYXkuZnJvbSh0cmFuc2l0aW9uc1F1ZXVlKTtcbiAgdXBkYXRlUXVldWUuY2xlYXIoKTtcbiAgdHJhbnNpdGlvbnNRdWV1ZS5jbGVhcigpO1xuICBxdWV1ZU9wdGlvbnMuaGlzdG9yeSA9IFwicmVwbGFjZVwiO1xuICBxdWV1ZU9wdGlvbnMuc2Nyb2xsID0gZmFsc2U7XG4gIHF1ZXVlT3B0aW9ucy5zaGFsbG93ID0gdHJ1ZTtcbiAgcXVldWVPcHRpb25zLnRocm90dGxlTXMgPSBGTFVTSF9SQVRFX0xJTUlUX01TO1xuICBkZWJ1ZyhcIltudXFzIHF1ZXVlXSBGbHVzaGluZyBxdWV1ZSAlTyB3aXRoIG9wdGlvbnMgJU9cIiwgaXRlbXMsIG9wdGlvbnMpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBpdGVtcykge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgc2VhcmNoLmRlbGV0ZShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWFyY2guc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IG5leHRSb3V0ZXIgPSB3aW5kb3cubmV4dD8ucm91dGVyO1xuICAgIGNvbnN0IGlzUGFnZXNSb3V0ZXIgPSB0eXBlb2YgbmV4dFJvdXRlcj8uc3RhdGU/LmFzUGF0aCA9PT0gXCJzdHJpbmdcIjtcbiAgICBpZiAoaXNQYWdlc1JvdXRlcikge1xuICAgICAgY29uc3QgdXJsID0gcmVuZGVyVVJMKG5leHRSb3V0ZXIuc3RhdGUuYXNQYXRoLnNwbGl0KFwiP1wiKVswXSA/PyBcIlwiLCBzZWFyY2gpO1xuICAgICAgZGVidWcoXCJbbnVxcyBxdWV1ZSAocGFnZXMpXSBVcGRhdGluZyB1cmw6ICVzXCIsIHVybCk7XG4gICAgICBjb25zdCBtZXRob2QgPSBvcHRpb25zLmhpc3RvcnkgPT09IFwicHVzaFwiID8gbmV4dFJvdXRlci5wdXNoIDogbmV4dFJvdXRlci5yZXBsYWNlO1xuICAgICAgbWV0aG9kLmNhbGwobmV4dFJvdXRlciwgdXJsLCB1cmwsIHtcbiAgICAgICAgc2Nyb2xsOiBvcHRpb25zLnNjcm9sbCxcbiAgICAgICAgc2hhbGxvdzogb3B0aW9ucy5zaGFsbG93XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdXJsID0gcmVuZGVyVVJMKGxvY2F0aW9uLm9yaWdpbiArIGxvY2F0aW9uLnBhdGhuYW1lLCBzZWFyY2gpO1xuICAgICAgZGVidWcoXCJbbnVxcyBxdWV1ZSAoYXBwKV0gVXBkYXRpbmcgdXJsOiAlc1wiLCB1cmwpO1xuICAgICAgY29uc3QgdXBkYXRlTWV0aG9kID0gb3B0aW9ucy5oaXN0b3J5ID09PSBcInB1c2hcIiA/IGhpc3RvcnkucHVzaFN0YXRlIDogaGlzdG9yeS5yZXBsYWNlU3RhdGU7XG4gICAgICBjb25zdCBzdGF0ZSA9ICh3aW5kb3cubmV4dD8udmVyc2lvbiA/PyBcIlwiKSA+PSBcIjE0LjEuMFwiID8gbnVsbCA6IGhpc3Rvcnkuc3RhdGU7XG4gICAgICB1cGRhdGVNZXRob2QuY2FsbChcbiAgICAgICAgaGlzdG9yeSxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIC8vIE91ciBvd24gdXBkYXRlcyBoYXZlIGEgbWFya2VyIHRvIHByZXZlbnQgc3luY2luZ1xuICAgICAgICAvLyB3aGVuIHRoZSBVUkwgY2hhbmdlcyAod2UndmUgYWxyZWFkeSBzeW5jJ2QgdGhlbSB1cFxuICAgICAgICAvLyB2aWEgYGVtaXR0ZXIuZW1pdChrZXksIG5ld1ZhbHVlKWAgYWJvdmUsIHdpdGhvdXRcbiAgICAgICAgLy8gZ29pbmcgdGhyb3VnaCB0aGUgcGFyc2VycykuXG4gICAgICAgIE5PU1lOQ19NQVJLRVIsXG4gICAgICAgIHVybFxuICAgICAgKTtcbiAgICAgIGlmIChvcHRpb25zLnNjcm9sbCkge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMuc2hhbGxvdykge1xuICAgICAgICBjb21wb3NlKHRyYW5zaXRpb25zLCAoKSA9PiB7XG4gICAgICAgICAgcm91dGVyLnJlcGxhY2UodXJsLCB7XG4gICAgICAgICAgICBzY3JvbGw6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW3NlYXJjaCwgbnVsbF07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IoNDI5KSwgaXRlbXMubWFwKChba2V5XSkgPT4ga2V5KS5qb2luKCksIGVycik7XG4gICAgcmV0dXJuIFtzZWFyY2gsIGVycl07XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbmRlclVSTChiYXNlLCBzZWFyY2gpIHtcbiAgY29uc3QgaGFzaGxlc3NCYXNlID0gYmFzZS5zcGxpdChcIiNcIilbMF0gPz8gXCJcIjtcbiAgY29uc3QgcXVlcnkgPSByZW5kZXJRdWVyeVN0cmluZyhzZWFyY2gpO1xuICBjb25zdCBoYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgcmV0dXJuIGhhc2hsZXNzQmFzZSArIHF1ZXJ5ICsgaGFzaDtcbn1cbmZ1bmN0aW9uIGNvbXBvc2UoZm5zLCBmaW5hbCkge1xuICBjb25zdCByZWN1cnNpdmVDb21wb3NlID0gKGluZGV4KSA9PiB7XG4gICAgaWYgKGluZGV4ID09PSBmbnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmluYWwoKTtcbiAgICB9XG4gICAgY29uc3QgZm4gPSBmbnNbaW5kZXhdO1xuICAgIGlmICghZm4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHJhbnNpdGlvbiBmdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZm4oKCkgPT4gcmVjdXJzaXZlQ29tcG9zZShpbmRleCArIDEpKTtcbiAgfTtcbiAgcmVjdXJzaXZlQ29tcG9zZSgwKTtcbn1cblxuLy8gc3JjL3N5bmMudHNcbnZhciBTWU5DX0VWRU5UX0tFWSA9IFN5bWJvbChcIl9fbnVxc19fU1lOQ19fXCIpO1xudmFyIE5PU1lOQ19NQVJLRVIgPSBcIl9fbnVxc19fTk9fU1lOQ19fXCI7XG52YXIgTk9USUZZX0VWRU5UX0tFWSA9IFN5bWJvbChcIl9fbnVxc19fTk9USUZZX19cIik7XG52YXIgZW1pdHRlciA9IE1pdHQoKTtcbmZ1bmN0aW9uIHN1YnNjcmliZVRvUXVlcnlVcGRhdGVzKGNhbGxiYWNrKSB7XG4gIGVtaXR0ZXIub24oTk9USUZZX0VWRU5UX0tFWSwgY2FsbGJhY2spO1xuICByZXR1cm4gKCkgPT4gZW1pdHRlci5vZmYoTk9USUZZX0VWRU5UX0tFWSwgY2FsbGJhY2spO1xufVxuaWYgKHR5cGVvZiBoaXN0b3J5ID09PSBcIm9iamVjdFwiKSB7XG4gIHBhdGNoSGlzdG9yeSgpO1xufVxuZnVuY3Rpb24gcGF0Y2hIaXN0b3J5KCkge1xuICBjb25zdCB2ZXJzaW9uID0gXCIxLjIwLjBcIjtcbiAgY29uc3QgcGF0Y2hlZCA9IGhpc3RvcnkuX19udXFzX3BhdGNoZWQ7XG4gIGlmIChwYXRjaGVkKSB7XG4gICAgaWYgKHBhdGNoZWQgIT09IHZlcnNpb24pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IoNDA5KSwgcGF0Y2hlZCwgdmVyc2lvbik7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBkZWJ1ZyhcIltudXFzXSBQYXRjaGluZyBoaXN0b3J5IHdpdGggJXNcIiwgdmVyc2lvbik7XG4gIGZvciAoY29uc3QgbWV0aG9kIG9mIFtcInB1c2hTdGF0ZVwiLCBcInJlcGxhY2VTdGF0ZVwiXSkge1xuICAgIGNvbnN0IG9yaWdpbmFsID0gaGlzdG9yeVttZXRob2RdLmJpbmQoaGlzdG9yeSk7XG4gICAgaGlzdG9yeVttZXRob2RdID0gZnVuY3Rpb24gbnVxc19wYXRjaGVkSGlzdG9yeShzdGF0ZSwgdGl0bGUsIHVybCkge1xuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgZGVidWcoXCJbbnVxc10gaGlzdG9yeS4lcyhudWxsKSAoJXMpICVPXCIsIG1ldGhvZCwgdGl0bGUsIHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsKHN0YXRlLCB0aXRsZSwgdXJsKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNvdXJjZSA9IHRpdGxlID09PSBOT1NZTkNfTUFSS0VSID8gXCJpbnRlcm5hbFwiIDogXCJleHRlcm5hbFwiO1xuICAgICAgY29uc3Qgc2VhcmNoID0gbmV3IFVSTCh1cmwsIGxvY2F0aW9uLm9yaWdpbikuc2VhcmNoUGFyYW1zO1xuICAgICAgZGVidWcoXCJbbnVxc10gaGlzdG9yeS4lcyglcykgKCVzKSAlT1wiLCBtZXRob2QsIHVybCwgc291cmNlLCBzdGF0ZSk7XG4gICAgICBpZiAoc291cmNlID09PSBcImV4dGVybmFsXCIpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Ygc2VhcmNoLmVudHJpZXMoKSkge1xuICAgICAgICAgIGNvbnN0IHF1ZXVlVmFsdWUgPSBnZXRRdWV1ZWRWYWx1ZShrZXkpO1xuICAgICAgICAgIGlmIChxdWV1ZVZhbHVlICE9PSBudWxsICYmIHF1ZXVlVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBkZWJ1ZyhcbiAgICAgICAgICAgICAgXCJbbnVxc10gT3ZlcndyaXRlIGRldGVjdGVkIGZvciBrZXk6ICVzLCBTZXJ2ZXI6ICVzLCBxdWV1ZTogJXNcIixcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgcXVldWVWYWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHNlYXJjaC5zZXQoa2V5LCBxdWV1ZVZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZGVidWcoXG4gICAgICAgICAgICBcIltudXFzXSBFeHRlcm5hbCBoaXN0b3J5LiVzIGNhbGw6IHRyaWdnZXJpbmcgc3luYyB3aXRoICVzXCIsXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBzZWFyY2hcbiAgICAgICAgICApO1xuICAgICAgICAgIGVtaXR0ZXIuZW1pdChTWU5DX0VWRU5UX0tFWSwgc2VhcmNoKTtcbiAgICAgICAgICBlbWl0dGVyLmVtaXQoTk9USUZZX0VWRU5UX0tFWSwgeyBzZWFyY2gsIHNvdXJjZSB9KTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBlbWl0dGVyLmVtaXQoTk9USUZZX0VWRU5UX0tFWSwgeyBzZWFyY2gsIHNvdXJjZSB9KTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JpZ2luYWwoc3RhdGUsIHRpdGxlID09PSBOT1NZTkNfTUFSS0VSID8gXCJcIiA6IHRpdGxlLCB1cmwpO1xuICAgIH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGhpc3RvcnksIFwiX19udXFzX3BhdGNoZWRcIiwge1xuICAgIHZhbHVlOiB2ZXJzaW9uLFxuICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gIH0pO1xufVxuZnVuY3Rpb24gdXNlUXVlcnlTdGF0ZShrZXksIHtcbiAgaGlzdG9yeTogaGlzdG9yeTIgPSBcInJlcGxhY2VcIixcbiAgc2hhbGxvdyA9IHRydWUsXG4gIHNjcm9sbCA9IGZhbHNlLFxuICB0aHJvdHRsZU1zID0gRkxVU0hfUkFURV9MSU1JVF9NUyxcbiAgcGFyc2UgPSAoeCkgPT4geCxcbiAgc2VyaWFsaXplID0gU3RyaW5nLFxuICBlcSA9IChhLCBiKSA9PiBhID09PSBiLFxuICBkZWZhdWx0VmFsdWUgPSB2b2lkIDAsXG4gIGNsZWFyT25EZWZhdWx0ID0gZmFsc2UsXG4gIHN0YXJ0VHJhbnNpdGlvblxufSA9IHtcbiAgaGlzdG9yeTogXCJyZXBsYWNlXCIsXG4gIHNjcm9sbDogZmFsc2UsXG4gIHNoYWxsb3c6IHRydWUsXG4gIHRocm90dGxlTXM6IEZMVVNIX1JBVEVfTElNSVRfTVMsXG4gIHBhcnNlOiAoeCkgPT4geCxcbiAgc2VyaWFsaXplOiBTdHJpbmcsXG4gIGVxOiAoYSwgYikgPT4gYSA9PT0gYixcbiAgY2xlYXJPbkRlZmF1bHQ6IGZhbHNlLFxuICBkZWZhdWx0VmFsdWU6IHZvaWQgMFxufSkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgaW5pdGlhbFNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpO1xuICBjb25zdCBxdWVyeVJlZiA9IFJlYWN0Mi51c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtpbnRlcm5hbFN0YXRlLCBzZXRJbnRlcm5hbFN0YXRlXSA9IFJlYWN0Mi51c2VTdGF0ZSgoKSA9PiB7XG4gICAgY29uc3QgcXVldWVWYWx1ZSA9IGdldFF1ZXVlZFZhbHVlKGtleSk7XG4gICAgY29uc3QgdXJsVmFsdWUgPSBpbml0aWFsU2VhcmNoUGFyYW1zPy5nZXQoa2V5KSA/PyBudWxsO1xuICAgIGNvbnN0IHZhbHVlID0gcXVldWVWYWx1ZSA/PyB1cmxWYWx1ZTtcbiAgICBxdWVyeVJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gbnVsbCA6IHNhZmVQYXJzZShwYXJzZSwgdmFsdWUsIGtleSk7XG4gIH0pO1xuICBjb25zdCBzdGF0ZVJlZiA9IFJlYWN0Mi51c2VSZWYoaW50ZXJuYWxTdGF0ZSk7XG4gIGRlYnVnKFxuICAgIFwiW251cXMgYCVzYF0gcmVuZGVyIC0gc3RhdGU6ICVPLCBpU1A6ICVzXCIsXG4gICAga2V5LFxuICAgIGludGVybmFsU3RhdGUsXG4gICAgaW5pdGlhbFNlYXJjaFBhcmFtcz8uZ2V0KGtleSkgPz8gbnVsbFxuICApO1xuICBSZWFjdDIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAod2luZG93Lm5leHQ/LnZlcnNpb24gIT09IFwiMTQuMC4zXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSBpbml0aWFsU2VhcmNoUGFyYW1zLmdldChrZXkpID8/IG51bGw7XG4gICAgaWYgKHF1ZXJ5ID09PSBxdWVyeVJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN0YXRlID0gcXVlcnkgPT09IG51bGwgPyBudWxsIDogc2FmZVBhcnNlKHBhcnNlLCBxdWVyeSwga2V5KTtcbiAgICBkZWJ1ZyhcIltudXFzIGAlc2BdIHN5bmNGcm9tVXNlU2VhcmNoUGFyYW1zICVPXCIsIGtleSwgc3RhdGUpO1xuICAgIHN0YXRlUmVmLmN1cnJlbnQgPSBzdGF0ZTtcbiAgICBxdWVyeVJlZi5jdXJyZW50ID0gcXVlcnk7XG4gICAgc2V0SW50ZXJuYWxTdGF0ZShzdGF0ZSk7XG4gIH0sIFtpbml0aWFsU2VhcmNoUGFyYW1zPy5nZXQoa2V5KSwga2V5XSk7XG4gIFJlYWN0Mi51c2VJbnNlcnRpb25FZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIHVwZGF0ZUludGVybmFsU3RhdGUoeyBzdGF0ZSwgcXVlcnkgfSkge1xuICAgICAgZGVidWcoXCJbbnVxcyBgJXNgXSB1cGRhdGVJbnRlcm5hbFN0YXRlICVPXCIsIGtleSwgc3RhdGUpO1xuICAgICAgc3RhdGVSZWYuY3VycmVudCA9IHN0YXRlO1xuICAgICAgcXVlcnlSZWYuY3VycmVudCA9IHF1ZXJ5O1xuICAgICAgc2V0SW50ZXJuYWxTdGF0ZShzdGF0ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN5bmNGcm9tVVJMKHNlYXJjaCkge1xuICAgICAgY29uc3QgcXVlcnkgPSBzZWFyY2guZ2V0KGtleSk7XG4gICAgICBpZiAocXVlcnkgPT09IHF1ZXJ5UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3RhdGUgPSBxdWVyeSA9PT0gbnVsbCA/IG51bGwgOiBzYWZlUGFyc2UocGFyc2UsIHF1ZXJ5LCBrZXkpO1xuICAgICAgZGVidWcoXCJbbnVxcyBgJXNgXSBzeW5jRnJvbVVSTCAlT1wiLCBrZXksIHN0YXRlKTtcbiAgICAgIHVwZGF0ZUludGVybmFsU3RhdGUoeyBzdGF0ZSwgcXVlcnkgfSk7XG4gICAgfVxuICAgIGRlYnVnKFwiW251cXMgYCVzYF0gc3Vic2NyaWJpbmcgdG8gc3luY1wiLCBrZXkpO1xuICAgIGVtaXR0ZXIub24oU1lOQ19FVkVOVF9LRVksIHN5bmNGcm9tVVJMKTtcbiAgICBlbWl0dGVyLm9uKGtleSwgdXBkYXRlSW50ZXJuYWxTdGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRlYnVnKFwiW251cXMgYCVzYF0gdW5zdWJzY3JpYmluZyBmcm9tIHN5bmNcIiwga2V5KTtcbiAgICAgIGVtaXR0ZXIub2ZmKFNZTkNfRVZFTlRfS0VZLCBzeW5jRnJvbVVSTCk7XG4gICAgICBlbWl0dGVyLm9mZihrZXksIHVwZGF0ZUludGVybmFsU3RhdGUpO1xuICAgIH07XG4gIH0sIFtrZXldKTtcbiAgY29uc3QgdXBkYXRlID0gUmVhY3QyLnVzZUNhbGxiYWNrKFxuICAgIChzdGF0ZVVwZGF0ZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgbGV0IG5ld1ZhbHVlID0gaXNVcGRhdGVyRnVuY3Rpb24oc3RhdGVVcGRhdGVyKSA/IHN0YXRlVXBkYXRlcihzdGF0ZVJlZi5jdXJyZW50ID8/IGRlZmF1bHRWYWx1ZSA/PyBudWxsKSA6IHN0YXRlVXBkYXRlcjtcbiAgICAgIGlmICgob3B0aW9ucy5jbGVhck9uRGVmYXVsdCA/PyBjbGVhck9uRGVmYXVsdCkgJiYgbmV3VmFsdWUgIT09IG51bGwgJiYgZGVmYXVsdFZhbHVlICE9PSB2b2lkIDAgJiYgZXEobmV3VmFsdWUsIGRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcXVlcnlSZWYuY3VycmVudCA9IGVucXVldWVRdWVyeVN0cmluZ1VwZGF0ZShrZXksIG5ld1ZhbHVlLCBzZXJpYWxpemUsIHtcbiAgICAgICAgLy8gQ2FsbC1sZXZlbCBvcHRpb25zIHRha2UgcHJlY2VkZW5jZSBvdmVyIGhvb2sgZGVjbGFyYXRpb24gb3B0aW9ucy5cbiAgICAgICAgaGlzdG9yeTogb3B0aW9ucy5oaXN0b3J5ID8/IGhpc3RvcnkyLFxuICAgICAgICBzaGFsbG93OiBvcHRpb25zLnNoYWxsb3cgPz8gc2hhbGxvdyxcbiAgICAgICAgc2Nyb2xsOiBvcHRpb25zLnNjcm9sbCA/PyBzY3JvbGwsXG4gICAgICAgIHRocm90dGxlTXM6IG9wdGlvbnMudGhyb3R0bGVNcyA/PyB0aHJvdHRsZU1zLFxuICAgICAgICBzdGFydFRyYW5zaXRpb246IG9wdGlvbnMuc3RhcnRUcmFuc2l0aW9uID8/IHN0YXJ0VHJhbnNpdGlvblxuICAgICAgfSk7XG4gICAgICBlbWl0dGVyLmVtaXQoa2V5LCB7IHN0YXRlOiBuZXdWYWx1ZSwgcXVlcnk6IHF1ZXJ5UmVmLmN1cnJlbnQgfSk7XG4gICAgICByZXR1cm4gc2NoZWR1bGVGbHVzaFRvVVJMKHJvdXRlcik7XG4gICAgfSxcbiAgICBba2V5LCBoaXN0b3J5Miwgc2hhbGxvdywgc2Nyb2xsLCB0aHJvdHRsZU1zLCBzdGFydFRyYW5zaXRpb25dXG4gICk7XG4gIHJldHVybiBbaW50ZXJuYWxTdGF0ZSA/PyBkZWZhdWx0VmFsdWUgPz8gbnVsbCwgdXBkYXRlXTtcbn1cbmZ1bmN0aW9uIGlzVXBkYXRlckZ1bmN0aW9uKHN0YXRlVXBkYXRlcikge1xuICByZXR1cm4gdHlwZW9mIHN0YXRlVXBkYXRlciA9PT0gXCJmdW5jdGlvblwiO1xufVxudmFyIGRlZmF1bHRVcmxLZXlzID0ge307XG5mdW5jdGlvbiB1c2VRdWVyeVN0YXRlcyhrZXlNYXAsIHtcbiAgaGlzdG9yeTogaGlzdG9yeTIgPSBcInJlcGxhY2VcIixcbiAgc2Nyb2xsID0gZmFsc2UsXG4gIHNoYWxsb3cgPSB0cnVlLFxuICB0aHJvdHRsZU1zID0gRkxVU0hfUkFURV9MSU1JVF9NUyxcbiAgY2xlYXJPbkRlZmF1bHQgPSBmYWxzZSxcbiAgc3RhcnRUcmFuc2l0aW9uLFxuICB1cmxLZXlzID0gZGVmYXVsdFVybEtleXNcbn0gPSB7fSkge1xuICBjb25zdCBzdGF0ZUtleXMgPSBPYmplY3Qua2V5cyhrZXlNYXApLmpvaW4oXCIsXCIpO1xuICBjb25zdCByZXNvbHZlZFVybEtleXMgPSBSZWFjdDIudXNlTWVtbyhcbiAgICAoKSA9PiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBPYmplY3Qua2V5cyhrZXlNYXApLm1hcCgoa2V5KSA9PiBba2V5LCB1cmxLZXlzW2tleV0gPz8ga2V5XSlcbiAgICApLFxuICAgIFtzdGF0ZUtleXMsIHVybEtleXNdXG4gICk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBpbml0aWFsU2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XG4gIGNvbnN0IHF1ZXJ5UmVmID0gUmVhY3QyLnVzZVJlZih7fSk7XG4gIGNvbnN0IFtpbnRlcm5hbFN0YXRlLCBzZXRJbnRlcm5hbFN0YXRlXSA9IFJlYWN0Mi51c2VTdGF0ZSgoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlID0gaW5pdGlhbFNlYXJjaFBhcmFtcyA/PyBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgcXVlcnlSZWYuY3VycmVudCA9IE9iamVjdC5mcm9tRW50cmllcyhzb3VyY2UuZW50cmllcygpKTtcbiAgICByZXR1cm4gcGFyc2VNYXAoa2V5TWFwLCB1cmxLZXlzLCBzb3VyY2UpO1xuICB9KTtcbiAgY29uc3Qgc3RhdGVSZWYgPSBSZWFjdDIudXNlUmVmKGludGVybmFsU3RhdGUpO1xuICBkZWJ1ZyhcbiAgICBcIltudXErIGAlc2BdIHJlbmRlciAtIHN0YXRlOiAlTywgaVNQOiAlc1wiLFxuICAgIHN0YXRlS2V5cyxcbiAgICBpbnRlcm5hbFN0YXRlLFxuICAgIGluaXRpYWxTZWFyY2hQYXJhbXNcbiAgKTtcbiAgUmVhY3QyLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5uZXh0Py52ZXJzaW9uICE9PSBcIjE0LjAuM1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN0YXRlID0gcGFyc2VNYXAoXG4gICAgICBrZXlNYXAsXG4gICAgICB1cmxLZXlzLFxuICAgICAgaW5pdGlhbFNlYXJjaFBhcmFtcyxcbiAgICAgIHF1ZXJ5UmVmLmN1cnJlbnQsXG4gICAgICBzdGF0ZVJlZi5jdXJyZW50XG4gICAgKTtcbiAgICBzZXRJbnRlcm5hbFN0YXRlKHN0YXRlKTtcbiAgfSwgW1xuICAgIE9iamVjdC5rZXlzKHJlc29sdmVkVXJsS2V5cykubWFwKChrZXkpID0+IGluaXRpYWxTZWFyY2hQYXJhbXM/LmdldChrZXkpKS5qb2luKFwiJlwiKSxcbiAgICBzdGF0ZUtleXNcbiAgXSk7XG4gIFJlYWN0Mi51c2VJbnNlcnRpb25FZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIHVwZGF0ZUludGVybmFsU3RhdGUoc3RhdGUpIHtcbiAgICAgIGRlYnVnKFwiW251cSsgYCVzYF0gdXBkYXRlSW50ZXJuYWxTdGF0ZSAlT1wiLCBzdGF0ZUtleXMsIHN0YXRlKTtcbiAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSBzdGF0ZTtcbiAgICAgIHNldEludGVybmFsU3RhdGUoc3RhdGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzeW5jRnJvbVVSTChzZWFyY2gpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gcGFyc2VNYXAoXG4gICAgICAgIGtleU1hcCxcbiAgICAgICAgdXJsS2V5cyxcbiAgICAgICAgc2VhcmNoLFxuICAgICAgICBxdWVyeVJlZi5jdXJyZW50LFxuICAgICAgICBzdGF0ZVJlZi5jdXJyZW50XG4gICAgICApO1xuICAgICAgZGVidWcoXCJbbnVxKyBgJXNgXSBzeW5jRnJvbVVSTCAlT1wiLCBzdGF0ZUtleXMsIHN0YXRlKTtcbiAgICAgIHVwZGF0ZUludGVybmFsU3RhdGUoc3RhdGUpO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVycyA9IE9iamVjdC5rZXlzKGtleU1hcCkucmVkdWNlKFxuICAgICAgKGhhbmRsZXJzMiwgc3RhdGVLZXkpID0+IHtcbiAgICAgICAgaGFuZGxlcnMyW3N0YXRlS2V5XSA9ICh7XG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgcXVlcnlcbiAgICAgICAgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlIH0gPSBrZXlNYXBbc3RhdGVLZXldO1xuICAgICAgICAgIGNvbnN0IHVybEtleSA9IHJlc29sdmVkVXJsS2V5c1tzdGF0ZUtleV07XG4gICAgICAgICAgc3RhdGVSZWYuY3VycmVudCA9IHtcbiAgICAgICAgICAgIC4uLnN0YXRlUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBbc3RhdGVLZXldOiBzdGF0ZSA/PyBkZWZhdWx0VmFsdWUgPz8gbnVsbFxuICAgICAgICAgIH07XG4gICAgICAgICAgcXVlcnlSZWYuY3VycmVudFt1cmxLZXldID0gcXVlcnk7XG4gICAgICAgICAgZGVidWcoXG4gICAgICAgICAgICBcIltudXErIGAlc2BdIENyb3NzLWhvb2sga2V5IHN5bmMgJXM6ICVPIChkZWZhdWx0OiAlTykuIFJlc29sdmVkOiAlT1wiLFxuICAgICAgICAgICAgc3RhdGVLZXlzLFxuICAgICAgICAgICAgdXJsS2V5LFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICBzdGF0ZVJlZi5jdXJyZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgICB1cGRhdGVJbnRlcm5hbFN0YXRlKHN0YXRlUmVmLmN1cnJlbnQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaGFuZGxlcnMyO1xuICAgICAgfSxcbiAgICAgIHt9XG4gICAgKTtcbiAgICBlbWl0dGVyLm9uKFNZTkNfRVZFTlRfS0VZLCBzeW5jRnJvbVVSTCk7XG4gICAgZm9yIChjb25zdCBzdGF0ZUtleSBvZiBPYmplY3Qua2V5cyhrZXlNYXApKSB7XG4gICAgICBjb25zdCB1cmxLZXkgPSByZXNvbHZlZFVybEtleXNbc3RhdGVLZXldO1xuICAgICAgZGVidWcoXCJbbnVxKyBgJXNgXSBTdWJzY3JpYmluZyB0byBzeW5jIGZvciBgJXNgXCIsIHN0YXRlS2V5cywgdXJsS2V5KTtcbiAgICAgIGVtaXR0ZXIub24odXJsS2V5LCBoYW5kbGVyc1tzdGF0ZUtleV0pO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZW1pdHRlci5vZmYoU1lOQ19FVkVOVF9LRVksIHN5bmNGcm9tVVJMKTtcbiAgICAgIGZvciAoY29uc3Qgc3RhdGVLZXkgb2YgT2JqZWN0LmtleXMoa2V5TWFwKSkge1xuICAgICAgICBjb25zdCB1cmxLZXkgPSByZXNvbHZlZFVybEtleXNbc3RhdGVLZXldO1xuICAgICAgICBkZWJ1ZyhcIltudXErIGAlc2BdIFVuc3Vic2NyaWJpbmcgdG8gc3luYyBmb3IgYCVzYFwiLCBzdGF0ZUtleXMsIHVybEtleSk7XG4gICAgICAgIGVtaXR0ZXIub2ZmKHVybEtleSwgaGFuZGxlcnNbc3RhdGVLZXldKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBba2V5TWFwLCByZXNvbHZlZFVybEtleXNdKTtcbiAgY29uc3QgdXBkYXRlID0gUmVhY3QyLnVzZUNhbGxiYWNrKFxuICAgIChzdGF0ZVVwZGF0ZXIsIGNhbGxPcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gdHlwZW9mIHN0YXRlVXBkYXRlciA9PT0gXCJmdW5jdGlvblwiID8gc3RhdGVVcGRhdGVyKHN0YXRlUmVmLmN1cnJlbnQpIDogc3RhdGVVcGRhdGVyID09PSBudWxsID8gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3Qua2V5cyhrZXlNYXApLm1hcCgoa2V5KSA9PiBba2V5LCBudWxsXSlcbiAgICAgICkgOiBzdGF0ZVVwZGF0ZXI7XG4gICAgICBkZWJ1ZyhcIltudXErIGAlc2BdIHNldFN0YXRlOiAlT1wiLCBzdGF0ZUtleXMsIG5ld1N0YXRlKTtcbiAgICAgIGZvciAobGV0IFtzdGF0ZUtleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG5ld1N0YXRlKSkge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBrZXlNYXBbc3RhdGVLZXldO1xuICAgICAgICBjb25zdCB1cmxLZXkgPSByZXNvbHZlZFVybEtleXNbc3RhdGVLZXldO1xuICAgICAgICBpZiAoIXBhcnNlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoY2FsbE9wdGlvbnMuY2xlYXJPbkRlZmF1bHQgPz8gcGFyc2VyLmNsZWFyT25EZWZhdWx0ID8/IGNsZWFyT25EZWZhdWx0KSAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBwYXJzZXIuZGVmYXVsdFZhbHVlICE9PSB2b2lkIDAgJiYgKHBhcnNlci5lcSA/PyAoKGEsIGIpID0+IGEgPT09IGIpKSh2YWx1ZSwgcGFyc2VyLmRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcXVlcnlSZWYuY3VycmVudFt1cmxLZXldID0gZW5xdWV1ZVF1ZXJ5U3RyaW5nVXBkYXRlKFxuICAgICAgICAgIHVybEtleSxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBwYXJzZXIuc2VyaWFsaXplID8/IFN0cmluZyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAvLyBDYWxsLWxldmVsIG9wdGlvbnMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgaW5kaXZpZHVhbCBwYXJzZXIgb3B0aW9uc1xuICAgICAgICAgICAgLy8gd2hpY2ggdGFrZSBwcmVjZWRlbmNlIG92ZXIgZ2xvYmFsIG9wdGlvbnNcbiAgICAgICAgICAgIGhpc3Rvcnk6IGNhbGxPcHRpb25zLmhpc3RvcnkgPz8gcGFyc2VyLmhpc3RvcnkgPz8gaGlzdG9yeTIsXG4gICAgICAgICAgICBzaGFsbG93OiBjYWxsT3B0aW9ucy5zaGFsbG93ID8/IHBhcnNlci5zaGFsbG93ID8/IHNoYWxsb3csXG4gICAgICAgICAgICBzY3JvbGw6IGNhbGxPcHRpb25zLnNjcm9sbCA/PyBwYXJzZXIuc2Nyb2xsID8/IHNjcm9sbCxcbiAgICAgICAgICAgIHRocm90dGxlTXM6IGNhbGxPcHRpb25zLnRocm90dGxlTXMgPz8gcGFyc2VyLnRocm90dGxlTXMgPz8gdGhyb3R0bGVNcyxcbiAgICAgICAgICAgIHN0YXJ0VHJhbnNpdGlvbjogY2FsbE9wdGlvbnMuc3RhcnRUcmFuc2l0aW9uID8/IHBhcnNlci5zdGFydFRyYW5zaXRpb24gPz8gc3RhcnRUcmFuc2l0aW9uXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBlbWl0dGVyLmVtaXQodXJsS2V5LCB7XG4gICAgICAgICAgc3RhdGU6IHZhbHVlLFxuICAgICAgICAgIHF1ZXJ5OiBxdWVyeVJlZi5jdXJyZW50W3VybEtleV0gPz8gbnVsbFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzY2hlZHVsZUZsdXNoVG9VUkwocm91dGVyKTtcbiAgICB9LFxuICAgIFtcbiAgICAgIGtleU1hcCxcbiAgICAgIGhpc3RvcnkyLFxuICAgICAgc2hhbGxvdyxcbiAgICAgIHNjcm9sbCxcbiAgICAgIHRocm90dGxlTXMsXG4gICAgICBzdGFydFRyYW5zaXRpb24sXG4gICAgICByZXNvbHZlZFVybEtleXNcbiAgICBdXG4gICk7XG4gIHJldHVybiBbaW50ZXJuYWxTdGF0ZSwgdXBkYXRlXTtcbn1cbmZ1bmN0aW9uIHBhcnNlTWFwKGtleU1hcCwgdXJsS2V5cywgc2VhcmNoUGFyYW1zLCBjYWNoZWRRdWVyeSwgY2FjaGVkU3RhdGUpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGtleU1hcCkucmVkdWNlKChvYmosIHN0YXRlS2V5KSA9PiB7XG4gICAgY29uc3QgdXJsS2V5ID0gdXJsS2V5cz8uW3N0YXRlS2V5XSA/PyBzdGF0ZUtleTtcbiAgICBjb25zdCB7IGRlZmF1bHRWYWx1ZSwgcGFyc2UgfSA9IGtleU1hcFtzdGF0ZUtleV07XG4gICAgY29uc3QgdXJsUXVlcnkgPSBzZWFyY2hQYXJhbXM/LmdldCh1cmxLZXkpID8/IG51bGw7XG4gICAgY29uc3QgcXVldWVRdWVyeSA9IGdldFF1ZXVlZFZhbHVlKHVybEtleSk7XG4gICAgY29uc3QgcXVlcnkgPSBxdWV1ZVF1ZXJ5ID8/IHVybFF1ZXJ5O1xuICAgIGlmIChjYWNoZWRRdWVyeSAmJiBjYWNoZWRTdGF0ZSAmJiBjYWNoZWRRdWVyeVt1cmxLZXldID09PSBxdWVyeSkge1xuICAgICAgb2JqW3N0YXRlS2V5XSA9IGNhY2hlZFN0YXRlW3N0YXRlS2V5XSA/PyBkZWZhdWx0VmFsdWUgPz8gbnVsbDtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gcXVlcnkgPT09IG51bGwgPyBudWxsIDogc2FmZVBhcnNlKHBhcnNlLCBxdWVyeSwgc3RhdGVLZXkpO1xuICAgIG9ialtzdGF0ZUtleV0gPSB2YWx1ZSA/PyBkZWZhdWx0VmFsdWUgPz8gbnVsbDtcbiAgICBpZiAoY2FjaGVkUXVlcnkpIHtcbiAgICAgIGNhY2hlZFF1ZXJ5W3VybEtleV0gPSBxdWVyeTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufVxuXG5leHBvcnQgeyBxdWVyeVR5cGVzLCBzdWJzY3JpYmVUb1F1ZXJ5VXBkYXRlcywgdXNlUXVlcnlTdGF0ZSwgdXNlUXVlcnlTdGF0ZXMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/nuqs/dist/index.js\n");

/***/ })

};
;