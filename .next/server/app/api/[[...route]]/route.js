"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/[[...route]]/route";
exports.ids = ["app/api/[[...route]]/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("string_decoder");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "node:assert":
/*!******************************!*\
  !*** external "node:assert" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:assert");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:console":
/*!*******************************!*\
  !*** external "node:console" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("node:console");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:diagnostics_channel":
/*!*******************************************!*\
  !*** external "node:diagnostics_channel" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = require("node:diagnostics_channel");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:events");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:http");

/***/ }),

/***/ "node:http2":
/*!*****************************!*\
  !*** external "node:http2" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:http2");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:https");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:net");

/***/ }),

/***/ "node:os":
/*!**************************!*\
  !*** external "node:os" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:os");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "node:perf_hooks":
/*!**********************************!*\
  !*** external "node:perf_hooks" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:perf_hooks");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("node:process");

/***/ }),

/***/ "node:querystring":
/*!***********************************!*\
  !*** external "node:querystring" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:querystring");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:stream/web");

/***/ }),

/***/ "node:tls":
/*!***************************!*\
  !*** external "node:tls" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:tls");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "node:util/types":
/*!**********************************!*\
  !*** external "node:util/types" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:util/types");

/***/ }),

/***/ "node:worker_threads":
/*!**************************************!*\
  !*** external "node:worker_threads" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("node:worker_threads");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5B%5B...route%5D%5D%2Froute&page=%2Fapi%2F%5B%5B...route%5D%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2F%5B%5B...route%5D%5D%2Froute.ts&appDir=%2FUsers%2Fshahzeb%2FDesktop%2Fflowboard-cosc310%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fshahzeb%2FDesktop%2Fflowboard-cosc310&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5B%5B...route%5D%5D%2Froute&page=%2Fapi%2F%5B%5B...route%5D%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2F%5B%5B...route%5D%5D%2Froute.ts&appDir=%2FUsers%2Fshahzeb%2FDesktop%2Fflowboard-cosc310%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fshahzeb%2FDesktop%2Fflowboard-cosc310&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_shahzeb_Desktop_flowboard_cosc310_src_app_api_route_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/[[...route]]/route.ts */ \"(rsc)/./src/app/api/[[...route]]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/[[...route]]/route\",\n        pathname: \"/api/[[...route]]\",\n        filename: \"route\",\n        bundlePath: \"app/api/[[...route]]/route\"\n    },\n    resolvedPagePath: \"/Users/shahzeb/Desktop/flowboard-cosc310/src/app/api/[[...route]]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_shahzeb_Desktop_flowboard_cosc310_src_app_api_route_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/[[...route]]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkYlNUIlNUIuLi5yb3V0ZSU1RCU1RCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGJTVCJTVCLi4ucm91dGUlNUQlNUQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkYlNUIlNUIuLi5yb3V0ZSU1RCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnNoYWh6ZWIlMkZEZXNrdG9wJTJGZmxvd2JvYXJkLWNvc2MzMTAlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGc2hhaHplYiUyRkRlc2t0b3AlMkZmbG93Ym9hcmQtY29zYzMxMCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMEI7QUFDdkc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG93Ym9hcmQvPzI0OWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3NoYWh6ZWIvRGVza3RvcC9mbG93Ym9hcmQtY29zYzMxMC9zcmMvYXBwL2FwaS9bWy4uLnJvdXRlXV0vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL1tbLi4ucm91dGVdXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL1tbLi4ucm91dGVdXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvW1suLi5yb3V0ZV1dL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3NoYWh6ZWIvRGVza3RvcC9mbG93Ym9hcmQtY29zYzMxMC9zcmMvYXBwL2FwaS9bWy4uLnJvdXRlXV0vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL1tbLi4ucm91dGVdXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5B%5B...route%5D%5D%2Froute&page=%2Fapi%2F%5B%5B...route%5D%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2F%5B%5B...route%5D%5D%2Froute.ts&appDir=%2FUsers%2Fshahzeb%2FDesktop%2Fflowboard-cosc310%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fshahzeb%2FDesktop%2Fflowboard-cosc310&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/[[...route]]/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/[[...route]]/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var hono__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hono */ \"(rsc)/./node_modules/hono/dist/index.js\");\n/* harmony import */ var hono_vercel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! hono/vercel */ \"(rsc)/./node_modules/hono/dist/adapter/vercel/index.js\");\n/* harmony import */ var _features_auth_server_route__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/features/auth/server/route */ \"(rsc)/./src/features/auth/server/route.tsx\");\n/* harmony import */ var _features_workspaces_server_route__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/features/workspaces/server/route */ \"(rsc)/./src/features/workspaces/server/route.ts\");\n/* harmony import */ var _features_projects_server_route__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/features/projects/server/route */ \"(rsc)/./src/features/projects/server/route.ts\");\n/* harmony import */ var _features_tasks_server_route__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/features/tasks/server/route */ \"(rsc)/./src/features/tasks/server/route.ts\");\n/* harmony import */ var _features_members_server_route__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/features/members/server/route */ \"(rsc)/./src/features/members/server/route.ts\");\n\n\n\n\n\n\n\nconst app = new hono__WEBPACK_IMPORTED_MODULE_0__.Hono().basePath(\"/api\");\napp.route(\"/auth\", _features_auth_server_route__WEBPACK_IMPORTED_MODULE_2__[\"default\"]).route(\"/workspaces\", _features_workspaces_server_route__WEBPACK_IMPORTED_MODULE_3__[\"default\"]).route(\"/projects\", _features_projects_server_route__WEBPACK_IMPORTED_MODULE_4__[\"default\"]).route(\"/tasks\", _features_tasks_server_route__WEBPACK_IMPORTED_MODULE_5__[\"default\"]).route(\"/members\", _features_members_server_route__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\nconst GET = (0,hono_vercel__WEBPACK_IMPORTED_MODULE_1__.handle)(app);\nconst POST = (0,hono_vercel__WEBPACK_IMPORTED_MODULE_1__.handle)(app);\nconst PATCH = (0,hono_vercel__WEBPACK_IMPORTED_MODULE_1__.handle)(app);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9bWy4uLnJvdXRlXV0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEwQjtBQUNTO0FBQ2E7QUFDWTtBQUNKO0FBQ047QUFDSTtBQUV0RCxNQUFNTyxNQUFNLElBQUlQLHNDQUFJQSxHQUFHUSxRQUFRLENBQUM7QUFFaENELElBQUlFLEtBQUssQ0FBQyxTQUFTUCxtRUFBSUEsRUFDbEJPLEtBQUssQ0FBQyxlQUFlTix5RUFBVUEsRUFDL0JNLEtBQUssQ0FBQyxhQUFhTCx1RUFBUUEsRUFDM0JLLEtBQUssQ0FBQyxVQUFVSixvRUFBS0EsRUFDckJJLEtBQUssQ0FBQyxZQUFZSCxzRUFBT0E7QUFHdkIsTUFBTUksTUFBTVQsbURBQU1BLENBQUNNLEtBQUs7QUFDeEIsTUFBTUksT0FBT1YsbURBQU1BLENBQUNNLEtBQUs7QUFDekIsTUFBTUssUUFBUVgsbURBQU1BLENBQUNNLEtBQUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG93Ym9hcmQvLi9zcmMvYXBwL2FwaS9bWy4uLnJvdXRlXV0vcm91dGUudHM/NzdhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0hvbm99IGZyb20gXCJob25vXCI7XG5pbXBvcnQge2hhbmRsZX0gZnJvbSBcImhvbm8vdmVyY2VsXCI7XG5pbXBvcnQgYXV0aCBmcm9tIFwiQC9mZWF0dXJlcy9hdXRoL3NlcnZlci9yb3V0ZVwiO1xuaW1wb3J0IHdvcmtzcGFjZXMgZnJvbSBcIkAvZmVhdHVyZXMvd29ya3NwYWNlcy9zZXJ2ZXIvcm91dGVcIjtcbmltcG9ydCBwcm9qZWN0cyBmcm9tIFwiQC9mZWF0dXJlcy9wcm9qZWN0cy9zZXJ2ZXIvcm91dGVcIjtcbmltcG9ydCB0YXNrcyBmcm9tIFwiQC9mZWF0dXJlcy90YXNrcy9zZXJ2ZXIvcm91dGVcIjtcbmltcG9ydCBtZW1iZXJzIGZyb20gXCJAL2ZlYXR1cmVzL21lbWJlcnMvc2VydmVyL3JvdXRlXCI7XG5cbmNvbnN0IGFwcCA9IG5ldyBIb25vKCkuYmFzZVBhdGgoXCIvYXBpXCIpO1xuXG5hcHAucm91dGUoXCIvYXV0aFwiLCBhdXRoKVxuICAgIC5yb3V0ZShcIi93b3Jrc3BhY2VzXCIsIHdvcmtzcGFjZXMpXG4gICAgLnJvdXRlKFwiL3Byb2plY3RzXCIsIHByb2plY3RzKVxuICAgIC5yb3V0ZShcIi90YXNrc1wiLCB0YXNrcylcbiAgICAucm91dGUoXCIvbWVtYmVyc1wiLCBtZW1iZXJzKVxuXG5cbmV4cG9ydCBjb25zdCBHRVQgPSBoYW5kbGUoYXBwKTtcbmV4cG9ydCBjb25zdCBQT1NUID0gaGFuZGxlKGFwcCk7XG5leHBvcnQgY29uc3QgUEFUQ0ggPSBoYW5kbGUoYXBwKTtcblxuZXhwb3J0IHR5cGUgQXBwVHlwZSA9IHR5cGVvZiBhcHA7XG4iXSwibmFtZXMiOlsiSG9ubyIsImhhbmRsZSIsImF1dGgiLCJ3b3Jrc3BhY2VzIiwicHJvamVjdHMiLCJ0YXNrcyIsIm1lbWJlcnMiLCJhcHAiLCJiYXNlUGF0aCIsInJvdXRlIiwiR0VUIiwiUE9TVCIsIlBBVENIIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/[[...route]]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DATABASE_ID: () => (/* binding */ DATABASE_ID),\n/* harmony export */   IMAGES_BUCKET_ID: () => (/* binding */ IMAGES_BUCKET_ID),\n/* harmony export */   MEMBERS_ID: () => (/* binding */ MEMBERS_ID),\n/* harmony export */   PROJECTS_ID: () => (/* binding */ PROJECTS_ID),\n/* harmony export */   TASKS_ID: () => (/* binding */ TASKS_ID),\n/* harmony export */   WORKSPACES_ID: () => (/* binding */ WORKSPACES_ID)\n/* harmony export */ });\nconst DATABASE_ID = \"67b81be2000b988ed6bc\";\nconst WORKSPACES_ID = \"67b81c1e001d9cea10fb\";\nconst IMAGES_BUCKET_ID = \"67b966cc000ded2061a8\";\nconst PROJECTS_ID = \"67caaa86000882ceb9eb\";\nconst MEMBERS_ID = \"67bad334003ac580f81f\";\nconst TASKS_ID = \"67c280a000105e024474\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFPLE1BQU1BLGNBQWNDLHNCQUE0QyxDQUFFO0FBQ2xFLE1BQU1HLGdCQUFnQkgsc0JBQThDLENBQUU7QUFDdEUsTUFBTUssbUJBQW1CTCxzQkFBaUQsQ0FBRTtBQUM1RSxNQUFNTyxjQUFjUCxzQkFBNEMsQ0FBRTtBQUNsRSxNQUFNUyxhQUFhVCxzQkFBMkMsQ0FBRTtBQUNoRSxNQUFNVyxXQUFXWCxzQkFBeUMsQ0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb3dib2FyZC8uL3NyYy9jb25maWcudHM/ZDQxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgREFUQUJBU0VfSUQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBXUklURV9EQVRBQkFTRV9JRCE7XG5leHBvcnQgY29uc3QgV09SS1NQQUNFU19JRCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUFdSSVRFX1dPUktTUEFDRVNfSUQhO1xuZXhwb3J0IGNvbnN0IElNQUdFU19CVUNLRVRfSUQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBXUklURV9JTUFHRVNfQlVDS0VUX0lEITtcbmV4cG9ydCBjb25zdCBQUk9KRUNUU19JRCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUFdSSVRFX1BST0pFQ1RTX0lEITtcbmV4cG9ydCBjb25zdCBNRU1CRVJTX0lEID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQV1JJVEVfTUVNQkVSU19JRCE7XG5leHBvcnQgY29uc3QgVEFTS1NfSUQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBXUklURV9UQVNLU19JRCE7XG4iXSwibmFtZXMiOlsiREFUQUJBU0VfSUQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBQV1JJVEVfREFUQUJBU0VfSUQiLCJXT1JLU1BBQ0VTX0lEIiwiTkVYVF9QVUJMSUNfQVBQV1JJVEVfV09SS1NQQUNFU19JRCIsIklNQUdFU19CVUNLRVRfSUQiLCJORVhUX1BVQkxJQ19BUFBXUklURV9JTUFHRVNfQlVDS0VUX0lEIiwiUFJPSkVDVFNfSUQiLCJORVhUX1BVQkxJQ19BUFBXUklURV9QUk9KRUNUU19JRCIsIk1FTUJFUlNfSUQiLCJORVhUX1BVQkxJQ19BUFBXUklURV9NRU1CRVJTX0lEIiwiVEFTS1NfSUQiLCJORVhUX1BVQkxJQ19BUFBXUklURV9UQVNLU19JRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/config.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/auth/constants.ts":
/*!****************************************!*\
  !*** ./src/features/auth/constants.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_COOKIE: () => (/* binding */ AUTH_COOKIE)\n/* harmony export */ });\nconst AUTH_COOKIE = \"flowboard-flowboard-cosc310-session\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvYXV0aC9jb25zdGFudHMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BLGNBQWEsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvd2JvYXJkLy4vc3JjL2ZlYXR1cmVzL2F1dGgvY29uc3RhbnRzLnRzPzU1MWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IEFVVEhfQ09PS0lFID1cImZsb3dib2FyZC1mbG93Ym9hcmQtY29zYzMxMC1zZXNzaW9uXCI7Il0sIm5hbWVzIjpbIkFVVEhfQ09PS0lFIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/features/auth/constants.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/auth/schemas.ts":
/*!**************************************!*\
  !*** ./src/features/auth/schemas.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loginSchema: () => (/* binding */ loginSchema),\n/* harmony export */   registerSchema: () => (/* binding */ registerSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n\nconst loginSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email(),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, \"Required\")\n});\nconst registerSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().trim().min(1, \"Required\"),\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email(),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(8, \"Minimum of 8 characters required\")\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvYXV0aC9zY2hlbWFzLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzQjtBQUdmLE1BQU1DLGNBQWNELGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDaENDLE9BQU9ILGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdELEtBQUs7SUFDdkJFLFVBQVVMLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdFLEdBQUcsQ0FBQyxHQUFFO0FBQy9CLEdBQUU7QUFFSyxNQUFNQyxpQkFBaUJQLGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDbkNNLE1BQU1SLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdLLElBQUksR0FBR0gsR0FBRyxDQUFDLEdBQUU7SUFDOUJILE9BQU9ILGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdELEtBQUs7SUFDdkJFLFVBQVVMLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdFLEdBQUcsQ0FBQyxHQUFHO0FBQ2hDLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG93Ym9hcmQvLi9zcmMvZmVhdHVyZXMvYXV0aC9zY2hlbWFzLnRzPzIxZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt6fSBmcm9tICd6b2QnO1xuXG5cbmV4cG9ydCBjb25zdCBsb2dpblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLFxuICAgIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbigxLFwiUmVxdWlyZWRcIiksXG59KVxuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgbmFtZTogei5zdHJpbmcoKS50cmltKCkubWluKDEsXCJSZXF1aXJlZFwiKSxcbiAgICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLFxuICAgIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbig4LCBcIk1pbmltdW0gb2YgOCBjaGFyYWN0ZXJzIHJlcXVpcmVkXCIpLFxufSk7Il0sIm5hbWVzIjpbInoiLCJsb2dpblNjaGVtYSIsIm9iamVjdCIsImVtYWlsIiwic3RyaW5nIiwicGFzc3dvcmQiLCJtaW4iLCJyZWdpc3RlclNjaGVtYSIsIm5hbWUiLCJ0cmltIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/features/auth/schemas.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/auth/server/route.tsx":
/*!********************************************!*\
  !*** ./src/features/auth/server/route.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var hono__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hono */ \"(rsc)/./node_modules/hono/dist/index.js\");\n/* harmony import */ var _hono_zod_validator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hono/zod-validator */ \"(rsc)/./node_modules/@hono/zod-validator/dist/esm/index.js\");\n/* harmony import */ var _features_auth_schemas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/features/auth/schemas */ \"(rsc)/./src/features/auth/schemas.ts\");\n/* harmony import */ var _lib_appwrite__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/appwrite */ \"(rsc)/./src/lib/appwrite.ts\");\n/* harmony import */ var node_appwrite__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! node-appwrite */ \"(rsc)/./node_modules/node-appwrite/dist/index.mjs\");\n/* harmony import */ var hono_cookie__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! hono/cookie */ \"(rsc)/./node_modules/hono/dist/helper/cookie/index.js\");\n/* harmony import */ var _features_auth_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/features/auth/constants */ \"(rsc)/./src/features/auth/constants.ts\");\n/* harmony import */ var _lib_session_middleware__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/session-middleware */ \"(rsc)/./src/lib/session-middleware.ts\");\n\n\n\n\n\n\n\n\nconst app = new hono__WEBPACK_IMPORTED_MODULE_0__.Hono();\napp.get(\"/current\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_7__.sessionMiddleware, (c)=>{\n    const user = c.get(\"user\");\n    return c.json({\n        data: user\n    });\n});\napp.post(\"/login\", (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_1__.zValidator)(\"json\", _features_auth_schemas__WEBPACK_IMPORTED_MODULE_2__.loginSchema), async (c)=>{\n    const { email, password } = c.req.valid(\"json\");\n    const { account } = await (0,_lib_appwrite__WEBPACK_IMPORTED_MODULE_3__.createAdminClient)();\n    const session = await account.createEmailPasswordSession(email, password);\n    (0,hono_cookie__WEBPACK_IMPORTED_MODULE_5__.setCookie)(c, _features_auth_constants__WEBPACK_IMPORTED_MODULE_6__.AUTH_COOKIE, session.secret, {\n        path: \"/\",\n        httpOnly: true,\n        secure: true,\n        sameSite: \"strict\",\n        maxAge: 60 * 60 * 24 * 30\n    });\n    return c.json({\n        success: true\n    });\n}).post(\"/register\", (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_1__.zValidator)(\"json\", _features_auth_schemas__WEBPACK_IMPORTED_MODULE_2__.registerSchema), async (c)=>{\n    const { name, email, password } = c.req.valid(\"json\");\n    const { account } = await (0,_lib_appwrite__WEBPACK_IMPORTED_MODULE_3__.createAdminClient)();\n    await account.create(node_appwrite__WEBPACK_IMPORTED_MODULE_4__.ID.unique(), email, password, name);\n    const session = await account.createEmailPasswordSession(email, password);\n    (0,hono_cookie__WEBPACK_IMPORTED_MODULE_5__.setCookie)(c, _features_auth_constants__WEBPACK_IMPORTED_MODULE_6__.AUTH_COOKIE, session.secret, {\n        path: \"/\",\n        httpOnly: true,\n        secure: true,\n        sameSite: \"strict\",\n        maxAge: 60 * 60 * 24 * 30\n    });\n    return c.json({\n        success: true\n    });\n}).post(\"/logout\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_7__.sessionMiddleware, async (c)=>{\n    const account = c.get(\"account\");\n    (0,hono_cookie__WEBPACK_IMPORTED_MODULE_5__.deleteCookie)(c, _features_auth_constants__WEBPACK_IMPORTED_MODULE_6__.AUTH_COOKIE);\n    await account.deleteSession(\"current\");\n    return c.json({\n        success: true\n    });\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvYXV0aC9zZXJ2ZXIvcm91dGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEwQjtBQUNxQjtBQUNxQjtBQUNqQjtBQUNoQjtBQUNnQjtBQUNLO0FBQ0s7QUFFN0QsTUFBTVUsTUFBTSxJQUFJVixzQ0FBSUE7QUFDcEJVLElBQUlDLEdBQUcsQ0FDSCxZQUNBRixzRUFBaUJBLEVBQ2pCLENBQUNHO0lBQ0csTUFBTUMsT0FBT0QsRUFBRUQsR0FBRyxDQUFDO0lBRW5CLE9BQU9DLEVBQUVFLElBQUksQ0FBQztRQUFFQyxNQUFNRjtJQUFLO0FBQy9CO0FBSUFILElBQUlNLElBQUksQ0FBQyxVQUFVZiwrREFBVUEsQ0FBQyxRQUFRQywrREFBV0EsR0FBRyxPQUFPVTtJQUMzRCxNQUFNLEVBQUNLLEtBQUssRUFBRUMsUUFBUSxFQUFDLEdBQUdOLEVBQUVPLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RDLE1BQU0sRUFBQ0MsT0FBTyxFQUFDLEdBQUcsTUFBTWpCLGdFQUFpQkE7SUFDekMsTUFBTWtCLFVBQVUsTUFBTUQsUUFBUUUsMEJBQTBCLENBQ3BETixPQUNBQztJQUdKWCxzREFBU0EsQ0FBQ0ssR0FBRUosaUVBQVdBLEVBQUVjLFFBQVFFLE1BQU0sRUFBQztRQUNwQ0MsTUFBSztRQUNMQyxVQUFVO1FBQ1ZDLFFBQVE7UUFDUkMsVUFBVTtRQUNWQyxRQUFRLEtBQUssS0FBSyxLQUFLO0lBQzNCO0lBQ0EsT0FBT2pCLEVBQUVFLElBQUksQ0FBQztRQUFDZ0IsU0FBUTtJQUFJO0FBQy9CLEdBQUdkLElBQUksQ0FBQyxhQUFhZiwrREFBVUEsQ0FBQyxRQUFRRSxrRUFBY0EsR0FDdEQsT0FBT1M7SUFDSCxNQUFNLEVBQUNtQixJQUFJLEVBQUVkLEtBQUssRUFBRUMsUUFBUSxFQUFDLEdBQUdOLEVBQUVPLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDO0lBQzVDLE1BQU0sRUFBQ0MsT0FBTyxFQUFDLEdBQUUsTUFBTWpCLGdFQUFpQkE7SUFDdkMsTUFBTWlCLFFBQVFXLE1BQU0sQ0FDaEIzQiw2Q0FBRUEsQ0FBQzRCLE1BQU0sSUFDVmhCLE9BQ0FDLFVBQ0FhO0lBR0osTUFBTVQsVUFBVSxNQUFPRCxRQUFRRSwwQkFBMEIsQ0FDckROLE9BQ0FDO0lBR0pYLHNEQUFTQSxDQUFDSyxHQUFFSixpRUFBV0EsRUFBRWMsUUFBUUUsTUFBTSxFQUFDO1FBQ3BDQyxNQUFLO1FBQ0xDLFVBQVU7UUFDVkMsUUFBUTtRQUNSQyxVQUFVO1FBQ1ZDLFFBQVEsS0FBSyxLQUFLLEtBQUs7SUFDM0I7SUFFQSxPQUFPakIsRUFBRUUsSUFBSSxDQUFDO1FBQUNnQixTQUFRO0lBQUk7QUFDL0IsR0FDQ2QsSUFBSSxDQUFDLFdBQVVQLHNFQUFpQkEsRUFBQyxPQUFPRztJQUNyQyxNQUFNUyxVQUFVVCxFQUFFRCxHQUFHLENBQUM7SUFDdEJMLHlEQUFZQSxDQUFDTSxHQUFHSixpRUFBV0E7SUFDM0IsTUFBTWEsUUFBUWEsYUFBYSxDQUFDO0lBRTVCLE9BQU90QixFQUFFRSxJQUFJLENBQUM7UUFBRWdCLFNBQVM7SUFBSztBQUNsQztBQUVBLGlFQUFlcEIsR0FBR0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb3dib2FyZC8uL3NyYy9mZWF0dXJlcy9hdXRoL3NlcnZlci9yb3V0ZS50c3g/MDg2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0hvbm99IGZyb20gXCJob25vXCI7XG5pbXBvcnQge3pWYWxpZGF0b3J9IGZyb20gXCJAaG9uby96b2QtdmFsaWRhdG9yXCI7XG5pbXBvcnQge2xvZ2luU2NoZW1hLCByZWdpc3RlclNjaGVtYX0gZnJvbSBcIkAvZmVhdHVyZXMvYXV0aC9zY2hlbWFzXCI7XG5pbXBvcnQgeyBjcmVhdGVBZG1pbkNsaWVudCB9IGZyb20gXCJAL2xpYi9hcHB3cml0ZVwiO1xuaW1wb3J0IHsgSUQgfSBmcm9tIFwibm9kZS1hcHB3cml0ZVwiO1xuaW1wb3J0IHtkZWxldGVDb29raWUsIHNldENvb2tpZX0gZnJvbSBcImhvbm8vY29va2llXCJcbmltcG9ydCB7IEFVVEhfQ09PS0lFIH0gZnJvbSBcIkAvZmVhdHVyZXMvYXV0aC9jb25zdGFudHNcIjtcbmltcG9ydCB7IHNlc3Npb25NaWRkbGV3YXJlIH0gZnJvbSBcIkAvbGliL3Nlc3Npb24tbWlkZGxld2FyZVwiO1xuXG5jb25zdCBhcHAgPSBuZXcgSG9ubygpO1xuYXBwLmdldChcbiAgICBcIi9jdXJyZW50XCIsXG4gICAgc2Vzc2lvbk1pZGRsZXdhcmUsXG4gICAgKGMpID0+IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGMuZ2V0KFwidXNlclwiKTtcblxuICAgICAgICByZXR1cm4gYy5qc29uKHsgZGF0YTogdXNlciB9KTtcbiAgICB9XG4pO1xuXG5cbiAgICBhcHAucG9zdChcIi9sb2dpblwiLCB6VmFsaWRhdG9yKFwianNvblwiLCBsb2dpblNjaGVtYSksIGFzeW5jIChjKSA9PiB7XG4gICAgY29uc3Qge2VtYWlsLCBwYXNzd29yZH0gPSBjLnJlcS52YWxpZChcImpzb25cIik7XG4gICAgY29uc3Qge2FjY291bnR9ID0gYXdhaXQgY3JlYXRlQWRtaW5DbGllbnQoKTtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgYWNjb3VudC5jcmVhdGVFbWFpbFBhc3N3b3JkU2Vzc2lvbihcbiAgICAgICAgZW1haWwsXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICk7XG5cbiAgICBzZXRDb29raWUoYyxBVVRIX0NPT0tJRSwgc2Vzc2lvbi5zZWNyZXQse1xuICAgICAgICBwYXRoOlwiL1wiLFxuICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgc2VjdXJlOiB0cnVlLFxuICAgICAgICBzYW1lU2l0ZTogXCJzdHJpY3RcIixcbiAgICAgICAgbWF4QWdlOiA2MCAqIDYwICogMjQgKiAzMCxcbiAgICB9ICk7XG4gICAgcmV0dXJuIGMuanNvbih7c3VjY2Vzczp0cnVlfSk7XG59KS5wb3N0KFwiL3JlZ2lzdGVyXCIsIHpWYWxpZGF0b3IoXCJqc29uXCIsIHJlZ2lzdGVyU2NoZW1hKSwgXG5hc3luYyAoYykgPT4ge1xuICAgIGNvbnN0IHtuYW1lLCBlbWFpbCwgcGFzc3dvcmR9ID0gYy5yZXEudmFsaWQoXCJqc29uXCIpO1xuICAgIGNvbnN0IHthY2NvdW50fT0gYXdhaXQgY3JlYXRlQWRtaW5DbGllbnQoKTtcbiAgICAgYXdhaXQgYWNjb3VudC5jcmVhdGUoXG4gICAgICAgICBJRC51bmlxdWUoKSxcbiAgICAgICAgZW1haWwsXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgICBuYW1lLFxuICAgICk7XG5cbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgIGFjY291bnQuY3JlYXRlRW1haWxQYXNzd29yZFNlc3Npb24oXG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZCxcbiAgICApO1xuXG4gICAgc2V0Q29va2llKGMsQVVUSF9DT09LSUUsIHNlc3Npb24uc2VjcmV0LHtcbiAgICAgICAgcGF0aDpcIi9cIixcbiAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgIHNlY3VyZTogdHJ1ZSxcbiAgICAgICAgc2FtZVNpdGU6IFwic3RyaWN0XCIsXG4gICAgICAgIG1heEFnZTogNjAgKiA2MCAqIDI0ICogMzAsXG4gICAgfSApO1xuXG4gICAgcmV0dXJuIGMuanNvbih7c3VjY2Vzczp0cnVlfSk7XG59KVxuLnBvc3QoXCIvbG9nb3V0XCIsc2Vzc2lvbk1pZGRsZXdhcmUsYXN5bmMgKGMpID0+IHtcbiAgICBjb25zdCBhY2NvdW50ID0gYy5nZXQoXCJhY2NvdW50XCIpO1xuICAgIGRlbGV0ZUNvb2tpZShjLCBBVVRIX0NPT0tJRSk7XG4gICAgYXdhaXQgYWNjb3VudC5kZWxldGVTZXNzaW9uKFwiY3VycmVudFwiKTtcblxuICAgIHJldHVybiBjLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xufSlcblxuZXhwb3J0IGRlZmF1bHQgYXBwO1xuIl0sIm5hbWVzIjpbIkhvbm8iLCJ6VmFsaWRhdG9yIiwibG9naW5TY2hlbWEiLCJyZWdpc3RlclNjaGVtYSIsImNyZWF0ZUFkbWluQ2xpZW50IiwiSUQiLCJkZWxldGVDb29raWUiLCJzZXRDb29raWUiLCJBVVRIX0NPT0tJRSIsInNlc3Npb25NaWRkbGV3YXJlIiwiYXBwIiwiZ2V0IiwiYyIsInVzZXIiLCJqc29uIiwiZGF0YSIsInBvc3QiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVxIiwidmFsaWQiLCJhY2NvdW50Iiwic2Vzc2lvbiIsImNyZWF0ZUVtYWlsUGFzc3dvcmRTZXNzaW9uIiwic2VjcmV0IiwicGF0aCIsImh0dHBPbmx5Iiwic2VjdXJlIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJzdWNjZXNzIiwibmFtZSIsImNyZWF0ZSIsInVuaXF1ZSIsImRlbGV0ZVNlc3Npb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/features/auth/server/route.tsx\n");

/***/ }),

/***/ "(rsc)/./src/features/members/server/route.ts":
/*!**********************************************!*\
  !*** ./src/features/members/server/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config */ \"(rsc)/./src/config.ts\");\n/* harmony import */ var _lib_session_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/session-middleware */ \"(rsc)/./src/lib/session-middleware.ts\");\n/* harmony import */ var _hono_zod_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hono/zod-validator */ \"(rsc)/./node_modules/@hono/zod-validator/dist/esm/index.js\");\n/* harmony import */ var hono__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! hono */ \"(rsc)/./node_modules/hono/dist/index.js\");\n/* harmony import */ var node_appwrite__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! node-appwrite */ \"(rsc)/./node_modules/node-appwrite/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _lib_appwrite__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/appwrite */ \"(rsc)/./src/lib/appwrite.ts\");\n\n\n\n\n\n\n\nconst app = new hono__WEBPACK_IMPORTED_MODULE_3__.Hono();\n// Get all members for a workspace\napp.get(\"/\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_1__.sessionMiddleware, (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_2__.zValidator)(\"query\", zod__WEBPACK_IMPORTED_MODULE_6__.z.object({\n    workspaceId: zod__WEBPACK_IMPORTED_MODULE_6__.z.string()\n})), async (c)=>{\n    const databases = c.get(\"databases\");\n    const user = c.get(\"user\");\n    const { workspaceId } = c.req.valid(\"query\");\n    // Check if the user is a member of the workspace\n    const userMembership = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.MEMBERS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_4__.Query.equal(\"workspaceId\", workspaceId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_4__.Query.equal(\"userId\", user.$id)\n    ]);\n    if (userMembership.documents.length === 0) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    // Get all members of the workspace\n    const members = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.MEMBERS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_4__.Query.equal(\"workspaceId\", workspaceId)\n    ]);\n    // Get user details for each member\n    const { users } = await (0,_lib_appwrite__WEBPACK_IMPORTED_MODULE_5__.createAdminClient)();\n    const populatedMembers = await Promise.all(members.documents.map(async (member)=>{\n        try {\n            const user = await users.get(member.userId);\n            return {\n                ...member,\n                name: member.name || user.name,\n                email: user.email\n            };\n        } catch (error) {\n            // If user not found, use default values\n            return {\n                ...member,\n                name: member.name || \"Unknown User\",\n                email: \"unknown@example.com\"\n            };\n        }\n    }));\n    return c.json({\n        data: {\n            documents: populatedMembers\n        }\n    });\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvbWVtYmVycy9zZXJ2ZXIvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBbUQ7QUFDVTtBQUNaO0FBQ3JCO0FBQ1U7QUFDZDtBQUMyQjtBQUVuRCxNQUFNUSxNQUFNLElBQUlKLHNDQUFJQTtBQUVwQixrQ0FBa0M7QUFDbENJLElBQUlDLEdBQUcsQ0FDSCxLQUNBUCxzRUFBaUJBLEVBQ2pCQywrREFBVUEsQ0FBQyxTQUFTRyxrQ0FBQ0EsQ0FBQ0ksTUFBTSxDQUFDO0lBQUVDLGFBQWFMLGtDQUFDQSxDQUFDTSxNQUFNO0FBQUcsS0FDdkQsT0FBT0M7SUFDSCxNQUFNQyxZQUFZRCxFQUFFSixHQUFHLENBQUM7SUFDeEIsTUFBTU0sT0FBT0YsRUFBRUosR0FBRyxDQUFDO0lBQ25CLE1BQU0sRUFBRUUsV0FBVyxFQUFFLEdBQUdFLEVBQUVHLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDO0lBRXBDLGlEQUFpRDtJQUNqRCxNQUFNQyxpQkFBaUIsTUFBTUosVUFBVUssYUFBYSxDQUNoRG5CLGdEQUFXQSxFQUNYQywrQ0FBVUEsRUFDVjtRQUNJSSxnREFBS0EsQ0FBQ2UsS0FBSyxDQUFDLGVBQWVUO1FBQzNCTixnREFBS0EsQ0FBQ2UsS0FBSyxDQUFDLFVBQVVMLEtBQUtNLEdBQUc7S0FDakM7SUFHTCxJQUFJSCxlQUFlSSxTQUFTLENBQUNDLE1BQU0sS0FBSyxHQUFHO1FBQ3ZDLE9BQU9WLEVBQUVXLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQWUsR0FBRztJQUM3QztJQUVBLG1DQUFtQztJQUNuQyxNQUFNQyxVQUFVLE1BQU1aLFVBQVVLLGFBQWEsQ0FDekNuQixnREFBV0EsRUFDWEMsK0NBQVVBLEVBQ1Y7UUFBQ0ksZ0RBQUtBLENBQUNlLEtBQUssQ0FBQyxlQUFlVDtLQUFhO0lBRzdDLG1DQUFtQztJQUNuQyxNQUFNLEVBQUVnQixLQUFLLEVBQUUsR0FBRyxNQUFNcEIsZ0VBQWlCQTtJQUV6QyxNQUFNcUIsbUJBQW1CLE1BQU1DLFFBQVFDLEdBQUcsQ0FDdENKLFFBQVFKLFNBQVMsQ0FBQ1MsR0FBRyxDQUFDLE9BQU9DO1FBQ3pCLElBQUk7WUFDQSxNQUFNakIsT0FBTyxNQUFNWSxNQUFNbEIsR0FBRyxDQUFDdUIsT0FBT0MsTUFBTTtZQUMxQyxPQUFPO2dCQUNILEdBQUdELE1BQU07Z0JBQ1RFLE1BQU1GLE9BQU9FLElBQUksSUFBSW5CLEtBQUttQixJQUFJO2dCQUM5QkMsT0FBT3BCLEtBQUtvQixLQUFLO1lBQ3JCO1FBQ0osRUFBRSxPQUFPVixPQUFPO1lBQ1osd0NBQXdDO1lBQ3hDLE9BQU87Z0JBQ0gsR0FBR08sTUFBTTtnQkFDVEUsTUFBTUYsT0FBT0UsSUFBSSxJQUFJO2dCQUNyQkMsT0FBTztZQUNYO1FBQ0o7SUFDSjtJQUdKLE9BQU90QixFQUFFVyxJQUFJLENBQUM7UUFBRVksTUFBTTtZQUFFZCxXQUFXTTtRQUFpQjtJQUFFO0FBQzFEO0FBR0osaUVBQWVwQixHQUFHQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvd2JvYXJkLy4vc3JjL2ZlYXR1cmVzL21lbWJlcnMvc2VydmVyL3JvdXRlLnRzP2JlODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREFUQUJBU0VfSUQsIE1FTUJFUlNfSUQgfSBmcm9tIFwiQC9jb25maWdcIjtcbmltcG9ydCB7IHNlc3Npb25NaWRkbGV3YXJlIH0gZnJvbSBcIkAvbGliL3Nlc3Npb24tbWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgelZhbGlkYXRvciB9IGZyb20gXCJAaG9uby96b2QtdmFsaWRhdG9yXCI7XG5pbXBvcnQgeyBIb25vIH0gZnJvbSBcImhvbm9cIjtcbmltcG9ydCB7IFF1ZXJ5IH0gZnJvbSBcIm5vZGUtYXBwd3JpdGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBjcmVhdGVBZG1pbkNsaWVudCB9IGZyb20gXCJAL2xpYi9hcHB3cml0ZVwiO1xuXG5jb25zdCBhcHAgPSBuZXcgSG9ubygpO1xuXG4vLyBHZXQgYWxsIG1lbWJlcnMgZm9yIGEgd29ya3NwYWNlXG5hcHAuZ2V0KFxuICAgIFwiL1wiLFxuICAgIHNlc3Npb25NaWRkbGV3YXJlLFxuICAgIHpWYWxpZGF0b3IoXCJxdWVyeVwiLCB6Lm9iamVjdCh7IHdvcmtzcGFjZUlkOiB6LnN0cmluZygpIH0pKSxcbiAgICBhc3luYyAoYykgPT4ge1xuICAgICAgICBjb25zdCBkYXRhYmFzZXMgPSBjLmdldChcImRhdGFiYXNlc1wiKTtcbiAgICAgICAgY29uc3QgdXNlciA9IGMuZ2V0KFwidXNlclwiKTtcbiAgICAgICAgY29uc3QgeyB3b3Jrc3BhY2VJZCB9ID0gYy5yZXEudmFsaWQoXCJxdWVyeVwiKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdXNlciBpcyBhIG1lbWJlciBvZiB0aGUgd29ya3NwYWNlXG4gICAgICAgIGNvbnN0IHVzZXJNZW1iZXJzaGlwID0gYXdhaXQgZGF0YWJhc2VzLmxpc3REb2N1bWVudHMoXG4gICAgICAgICAgICBEQVRBQkFTRV9JRCxcbiAgICAgICAgICAgIE1FTUJFUlNfSUQsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgUXVlcnkuZXF1YWwoXCJ3b3Jrc3BhY2VJZFwiLCB3b3Jrc3BhY2VJZCksXG4gICAgICAgICAgICAgICAgUXVlcnkuZXF1YWwoXCJ1c2VySWRcIiwgdXNlci4kaWQpLFxuICAgICAgICAgICAgXVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICh1c2VyTWVtYmVyc2hpcC5kb2N1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYy5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgNDAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBhbGwgbWVtYmVycyBvZiB0aGUgd29ya3NwYWNlXG4gICAgICAgIGNvbnN0IG1lbWJlcnMgPSBhd2FpdCBkYXRhYmFzZXMubGlzdERvY3VtZW50cyhcbiAgICAgICAgICAgIERBVEFCQVNFX0lELFxuICAgICAgICAgICAgTUVNQkVSU19JRCxcbiAgICAgICAgICAgIFtRdWVyeS5lcXVhbChcIndvcmtzcGFjZUlkXCIsIHdvcmtzcGFjZUlkKV1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBHZXQgdXNlciBkZXRhaWxzIGZvciBlYWNoIG1lbWJlclxuICAgICAgICBjb25zdCB7IHVzZXJzIH0gPSBhd2FpdCBjcmVhdGVBZG1pbkNsaWVudCgpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcG9wdWxhdGVkTWVtYmVycyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgbWVtYmVycy5kb2N1bWVudHMubWFwKGFzeW5jIChtZW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlcnMuZ2V0KG1lbWJlci51c2VySWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbWVtYmVyLm5hbWUgfHwgdXNlci5uYW1lLCAvLyBVc2UgbWVtYmVyLm5hbWUgaWYgaXQgZXhpc3RzLCBvdGhlcndpc2UgdXNlIHVzZXIubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdXNlciBub3QgZm91bmQsIHVzZSBkZWZhdWx0IHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbWVtYmVyLm5hbWUgfHwgXCJVbmtub3duIFVzZXJcIiwgLy8gVXNlIG1lbWJlci5uYW1lIGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIHVzZSBcIlVua25vd24gVXNlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogXCJ1bmtub3duQGV4YW1wbGUuY29tXCIsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gYy5qc29uKHsgZGF0YTogeyBkb2N1bWVudHM6IHBvcHVsYXRlZE1lbWJlcnMgfSB9KTtcbiAgICB9XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBhcHA7ICJdLCJuYW1lcyI6WyJEQVRBQkFTRV9JRCIsIk1FTUJFUlNfSUQiLCJzZXNzaW9uTWlkZGxld2FyZSIsInpWYWxpZGF0b3IiLCJIb25vIiwiUXVlcnkiLCJ6IiwiY3JlYXRlQWRtaW5DbGllbnQiLCJhcHAiLCJnZXQiLCJvYmplY3QiLCJ3b3Jrc3BhY2VJZCIsInN0cmluZyIsImMiLCJkYXRhYmFzZXMiLCJ1c2VyIiwicmVxIiwidmFsaWQiLCJ1c2VyTWVtYmVyc2hpcCIsImxpc3REb2N1bWVudHMiLCJlcXVhbCIsIiRpZCIsImRvY3VtZW50cyIsImxlbmd0aCIsImpzb24iLCJlcnJvciIsIm1lbWJlcnMiLCJ1c2VycyIsInBvcHVsYXRlZE1lbWJlcnMiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwibWVtYmVyIiwidXNlcklkIiwibmFtZSIsImVtYWlsIiwiZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/features/members/server/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/members/type.ts":
/*!**************************************!*\
  !*** ./src/features/members/type.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MemberRole: () => (/* binding */ MemberRole)\n/* harmony export */ });\nvar MemberRole;\n(function(MemberRole) {\n    MemberRole[\"ADMIN\"] = \"ADMIN\";\n    MemberRole[\"MEMBER\"] = \"MEMBER\";\n})(MemberRole || (MemberRole = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvbWVtYmVycy90eXBlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O1VBQVlBOzs7R0FBQUEsZUFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG93Ym9hcmQvLi9zcmMvZmVhdHVyZXMvbWVtYmVycy90eXBlLnRzP2E1NzciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gTWVtYmVyUm9sZXtcbiAgICBBRE1JTiA9IFwiQURNSU5cIixcbiAgICBNRU1CRVIgPSBcIk1FTUJFUlwiXG59Il0sIm5hbWVzIjpbIk1lbWJlclJvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/features/members/type.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/members/utils.ts":
/*!***************************************!*\
  !*** ./src/features/members/utils.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMember: () => (/* binding */ getMember)\n/* harmony export */ });\n/* harmony import */ var node_appwrite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node-appwrite */ \"(rsc)/./node_modules/node-appwrite/dist/index.mjs\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config */ \"(rsc)/./src/config.ts\");\n\n\nconst getMember = async ({ databases, workspaceId, userId })=>{\n    const members = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_1__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_1__.MEMBERS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_0__.Query.equal(\"workspaceId\", workspaceId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_0__.Query.equal(\"userId\", userId)\n    ]);\n    return members.documents[0];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvbWVtYmVycy91dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUQ7QUFDSDtBQVEzQyxNQUFNRyxZQUFZLE9BQU8sRUFDNUJDLFNBQVMsRUFDVEMsV0FBVyxFQUNYQyxNQUFNLEVBQ087SUFFYixNQUFNQyxVQUFVLE1BQU1ILFVBQVVJLGFBQWEsQ0FDekNQLGdEQUFXQSxFQUNYQywrQ0FBVUEsRUFDVjtRQUNJRixnREFBS0EsQ0FBQ1MsS0FBSyxDQUFDLGVBQWVKO1FBQzNCTCxnREFBS0EsQ0FBQ1MsS0FBSyxDQUFDLFVBQVNIO0tBQ3hCO0lBR0wsT0FBT0MsUUFBUUcsU0FBUyxDQUFDLEVBQUU7QUFDL0IsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb3dib2FyZC8uL3NyYy9mZWF0dXJlcy9tZW1iZXJzL3V0aWxzLnRzP2RjYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtRdWVyeSwgdHlwZSBEYXRhYmFzZXMgfSBmcm9tIFwibm9kZS1hcHB3cml0ZVwiO1xuaW1wb3J0IHtEQVRBQkFTRV9JRCwgTUVNQkVSU19JRCB9IGZyb20gXCJAL2NvbmZpZ1wiO1xuXG5pbnRlcmZhY2UgR2V0TWVtYmVyUHJvcHMge1xuICAgIGRhdGFiYXNlczogRGF0YWJhc2VzO1xuICAgIHdvcmtzcGFjZUlkOiBzdHJpbmc7XG4gICAgdXNlcklkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRNZW1iZXIgPSBhc3luYyAoe1xuICAgIGRhdGFiYXNlcywgXG4gICAgd29ya3NwYWNlSWQsXG4gICAgdXNlcklkLFxufTogR2V0TWVtYmVyUHJvcHMpID0+IHtcbiAgICBcbiAgICBjb25zdCBtZW1iZXJzID0gYXdhaXQgZGF0YWJhc2VzLmxpc3REb2N1bWVudHMoXG4gICAgICAgIERBVEFCQVNFX0lELFxuICAgICAgICBNRU1CRVJTX0lELFxuICAgICAgICBbXG4gICAgICAgICAgICBRdWVyeS5lcXVhbChcIndvcmtzcGFjZUlkXCIsIHdvcmtzcGFjZUlkKSxcbiAgICAgICAgICAgIFF1ZXJ5LmVxdWFsKFwidXNlcklkXCIsdXNlcklkKSxcbiAgICAgICAgXVxuICAgICk7XG5cbiAgICByZXR1cm4gbWVtYmVycy5kb2N1bWVudHNbMF07XG59OyJdLCJuYW1lcyI6WyJRdWVyeSIsIkRBVEFCQVNFX0lEIiwiTUVNQkVSU19JRCIsImdldE1lbWJlciIsImRhdGFiYXNlcyIsIndvcmtzcGFjZUlkIiwidXNlcklkIiwibWVtYmVycyIsImxpc3REb2N1bWVudHMiLCJlcXVhbCIsImRvY3VtZW50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/features/members/utils.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/projects/schemas.ts":
/*!******************************************!*\
  !*** ./src/features/projects/schemas.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createProjectSchema: () => (/* binding */ createProjectSchema),\n/* harmony export */   updateProjectSchema: () => (/* binding */ updateProjectSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n\nconst createProjectSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().trim().min(1, \"required\"),\n    image: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.instanceof(File),\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.string().transform((value)=>value === \"\" ? undefined : value)\n    ]).optional(),\n    workspaceId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n});\nconst updateProjectSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().trim().min(1, \"Minimum 1 character required\").optional(),\n    image: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.instanceof(File),\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.string().transform((value)=>value === \"\" ? undefined : value)\n    ]).optional()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvcHJvamVjdHMvc2NoZW1hcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0I7QUFFZixNQUFNQyxzQkFBc0JELGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDeENDLE1BQU1ILGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLElBQUksR0FBR0MsR0FBRyxDQUFDLEdBQUc7SUFDL0JDLE9BQU9QLGtDQUFDQSxDQUFDUSxLQUFLLENBQUM7UUFDWFIsa0NBQUNBLENBQUNTLFVBQVUsQ0FBQ0M7UUFDYlYsa0NBQUNBLENBQUNJLE1BQU0sR0FBR08sU0FBUyxDQUFDLENBQUNDLFFBQVVBLFVBQVUsS0FBS0MsWUFBWUQ7S0FDOUQsRUFDSUUsUUFBUTtJQUNUQyxhQUFhZixrQ0FBQ0EsQ0FBQ0ksTUFBTTtBQUM3QixHQUFFO0FBR0ssTUFBTVksc0JBQXNCaEIsa0NBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUN4Q0MsTUFBTUgsa0NBQUNBLENBQUNJLE1BQU0sR0FBR0MsSUFBSSxHQUFHQyxHQUFHLENBQUMsR0FBRyxnQ0FBZ0NRLFFBQVE7SUFDdkVQLE9BQU9QLGtDQUFDQSxDQUFDUSxLQUFLLENBQUM7UUFDWFIsa0NBQUNBLENBQUNTLFVBQVUsQ0FBQ0M7UUFDYlYsa0NBQUNBLENBQUNJLE1BQU0sR0FBR08sU0FBUyxDQUFDLENBQUNDLFFBQVVBLFVBQVUsS0FBS0MsWUFBWUQ7S0FDOUQsRUFDSUUsUUFBUTtBQUNqQixHQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvd2JvYXJkLy4vc3JjL2ZlYXR1cmVzL3Byb2plY3RzL3NjaGVtYXMudHM/NGZkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3p9IGZyb20gXCJ6b2RcIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2plY3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgbmFtZTogei5zdHJpbmcoKS50cmltKCkubWluKDEsIFwicmVxdWlyZWRcIiksXG4gICAgaW1hZ2U6IHoudW5pb24oW1xuICAgICAgICB6Lmluc3RhbmNlb2YoRmlsZSksXG4gICAgICAgIHouc3RyaW5nKCkudHJhbnNmb3JtKCh2YWx1ZSkgPT4gdmFsdWUgPT09IFwiXCIgPyB1bmRlZmluZWQgOiB2YWx1ZSksXG4gICAgXSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgICAgIHdvcmtzcGFjZUlkOiB6LnN0cmluZygpLFxufSlcblxuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvamVjdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBuYW1lOiB6LnN0cmluZygpLnRyaW0oKS5taW4oMSwgXCJNaW5pbXVtIDEgY2hhcmFjdGVyIHJlcXVpcmVkXCIpLm9wdGlvbmFsKCksXG4gICAgaW1hZ2U6IHoudW5pb24oW1xuICAgICAgICB6Lmluc3RhbmNlb2YoRmlsZSksXG4gICAgICAgIHouc3RyaW5nKCkudHJhbnNmb3JtKCh2YWx1ZSkgPT4gdmFsdWUgPT09IFwiXCIgPyB1bmRlZmluZWQgOiB2YWx1ZSksXG4gICAgXSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG59KSJdLCJuYW1lcyI6WyJ6IiwiY3JlYXRlUHJvamVjdFNjaGVtYSIsIm9iamVjdCIsIm5hbWUiLCJzdHJpbmciLCJ0cmltIiwibWluIiwiaW1hZ2UiLCJ1bmlvbiIsImluc3RhbmNlb2YiLCJGaWxlIiwidHJhbnNmb3JtIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJvcHRpb25hbCIsIndvcmtzcGFjZUlkIiwidXBkYXRlUHJvamVjdFNjaGVtYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/features/projects/schemas.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/projects/server/route.ts":
/*!***********************************************!*\
  !*** ./src/features/projects/server/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config */ \"(rsc)/./src/config.ts\");\n/* harmony import */ var _features_members_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/features/members/utils */ \"(rsc)/./src/features/members/utils.ts\");\n/* harmony import */ var _lib_session_middleware__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/session-middleware */ \"(rsc)/./src/lib/session-middleware.ts\");\n/* harmony import */ var _hono_zod_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hono/zod-validator */ \"(rsc)/./node_modules/@hono/zod-validator/dist/esm/index.js\");\n/* harmony import */ var hono__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hono */ \"(rsc)/./node_modules/hono/dist/index.js\");\n/* harmony import */ var node_appwrite__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! node-appwrite */ \"(rsc)/./node_modules/node-appwrite/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _schemas__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../schemas */ \"(rsc)/./src/features/projects/schemas.ts\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,startOfMonth,subMonths!=!date-fns */ \"(rsc)/./node_modules/date-fns/startOfMonth.js\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,startOfMonth,subMonths!=!date-fns */ \"(rsc)/./node_modules/date-fns/endOfMonth.js\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,startOfMonth,subMonths!=!date-fns */ \"(rsc)/./node_modules/date-fns/subMonths.js\");\n/* harmony import */ var _features_tasks_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/features/tasks/types */ \"(rsc)/./src/features/tasks/types.ts\");\n/* eslint-disable @typescript-eslint/no-unused-vars */ \n\n\n\n\n\n\n\n\n\nconst app = new hono__WEBPACK_IMPORTED_MODULE_4__.Hono();\n// Create a new project\napp.post(\"/\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_2__.sessionMiddleware, (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_3__.zValidator)(\"form\", _schemas__WEBPACK_IMPORTED_MODULE_6__.createProjectSchema), async (c)=>{\n    const databases = c.get(\"databases\");\n    const storage = c.get(\"storage\");\n    const user = c.get(\"user\");\n    const { name, image, workspaceId } = c.req.valid(\"form\");\n    if (!workspaceId) {\n        return c.json({\n            error: \"Missing workspaceId\"\n        }, 400);\n    }\n    let uploadedImageUrl;\n    if (image instanceof File) {\n        try {\n            const file = await storage.createFile(_config__WEBPACK_IMPORTED_MODULE_0__.IMAGES_BUCKET_ID, node_appwrite__WEBPACK_IMPORTED_MODULE_5__.ID.unique(), image);\n            const arrayBuffer = await storage.getFilePreview(_config__WEBPACK_IMPORTED_MODULE_0__.IMAGES_BUCKET_ID, file.$id);\n            uploadedImageUrl = `data:image/png;base64,${Buffer.from(arrayBuffer).toString(\"base64\")}`;\n        } catch (error) {\n            return c.json({\n                error: \"Image upload failed\"\n            }, 500);\n        }\n    }\n    const member = await (0,_features_members_utils__WEBPACK_IMPORTED_MODULE_1__.getMember)({\n        workspaceId,\n        userId: user.$id,\n        databases\n    });\n    if (!member) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    const project = await databases.createDocument(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.PROJECTS_ID, node_appwrite__WEBPACK_IMPORTED_MODULE_5__.ID.unique(), {\n        name,\n        ImageUrl: uploadedImageUrl,\n        workspaceId\n    });\n    return c.json({\n        data: project\n    });\n});\n// Fetch all projects for a workspace\napp.get(\"/\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_2__.sessionMiddleware, (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_3__.zValidator)(\"query\", zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n    workspaceId: zod__WEBPACK_IMPORTED_MODULE_8__.z.string()\n})), async (c)=>{\n    const user = c.get(\"user\");\n    const databases = c.get(\"databases\");\n    const { workspaceId } = c.req.valid(\"query\");\n    if (!workspaceId) {\n        return c.json({\n            error: \"Missing workspaceId\"\n        }, 400);\n    }\n    const member = await (0,_features_members_utils__WEBPACK_IMPORTED_MODULE_1__.getMember)({\n        workspaceId,\n        userId: user.$id,\n        databases\n    });\n    if (!member) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    const projects = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.PROJECTS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"workspaceId\", workspaceId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.orderDesc(\"$createdAt\")\n    ]);\n    console.log({\n        projects\n    }); // TEST\n    return c.json({\n        data: projects\n    });\n});\n// Update workspace details\napp.patch(\"/:projectId\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_2__.sessionMiddleware, (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_3__.zValidator)(\"form\", _schemas__WEBPACK_IMPORTED_MODULE_6__.updateProjectSchema), async (c)=>{\n    const databases = c.get(\"databases\");\n    const storage = c.get(\"storage\");\n    const user = c.get(\"user\");\n    const { projectId } = c.req.param();\n    const { name, image } = c.req.valid(\"form\");\n    const existingProject = await databases.getDocument(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.PROJECTS_ID, projectId);\n    const member = await (0,_features_members_utils__WEBPACK_IMPORTED_MODULE_1__.getMember)({\n        databases,\n        workspaceId: existingProject.workspaceId,\n        userId: user.$id\n    });\n    if (!member) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    let uploadedImageUrl;\n    if (image instanceof File) {\n        const file = await storage.createFile(_config__WEBPACK_IMPORTED_MODULE_0__.IMAGES_BUCKET_ID, node_appwrite__WEBPACK_IMPORTED_MODULE_5__.ID.unique(), image);\n        const arrayBuffer = await storage.getFilePreview(_config__WEBPACK_IMPORTED_MODULE_0__.IMAGES_BUCKET_ID, file.$id);\n        uploadedImageUrl = `data:image/png;base64,${Buffer.from(arrayBuffer).toString(\"base64\")}`;\n    } else {\n        uploadedImageUrl = image;\n    }\n    const project = await databases.updateDocument(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.PROJECTS_ID, projectId, {\n        name,\n        ImageUrl: uploadedImageUrl\n    });\n    return c.json({\n        data: project\n    });\n});\n// UPDATE: DELETE for projects, may or may not work because not completely implemented\napp.delete(\"/:projectId\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_2__.sessionMiddleware, async (c)=>{\n    const databases = c.get(\"databases\");\n    const user = c.get(\"user\");\n    const { projectId } = c.req.param();\n    const existingProject = await databases.getDocument(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.PROJECTS_ID, projectId);\n    const member = await (0,_features_members_utils__WEBPACK_IMPORTED_MODULE_1__.getMember)({\n        databases,\n        workspaceId: existingProject.workspaceId,\n        userId: user.$id\n    });\n    if (!member) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    // TODO: delete tasks \n    await databases.deleteDocument(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.PROJECTS_ID, projectId);\n    return c.json({\n        data: {\n            $id: existingProject.$id\n        }\n    });\n});\n//UPDATE: sessionMiddleWare fixes the database and client errors\napp.get(\"/:projectId/analytics\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_2__.sessionMiddleware, async (c)=>{\n    const databases = c.get(\"databases\");\n    const user = c.get(\"user\");\n    const { projectId } = c.req.param();\n    // Fetch project details\n    const project = await databases.getDocument(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.PROJECTS_ID, projectId);\n    // Validate member access\n    const member = await (0,_features_members_utils__WEBPACK_IMPORTED_MODULE_1__.getMember)({\n        databases,\n        workspaceId: project.workspaceId,\n        userId: user.$id\n    });\n    if (!member) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    const now = new Date();\n    const thisMonthStart = (0,_barrel_optimize_names_endOfMonth_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_9__.startOfMonth)(now);\n    const thisMonthEnd = (0,_barrel_optimize_names_endOfMonth_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_10__.endOfMonth)(now);\n    const lastMonthStart = (0,_barrel_optimize_names_endOfMonth_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_9__.startOfMonth)((0,_barrel_optimize_names_endOfMonth_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_11__.subMonths)(now, 1));\n    const lastMonthEnd = (0,_barrel_optimize_names_endOfMonth_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_10__.endOfMonth)((0,_barrel_optimize_names_endOfMonth_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_11__.subMonths)(now, 1));\n    // Fetch tasks for this and last month\n    const thisMonthTasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"projectId\", projectId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.greaterThanEqual(\"$createdAt\", thisMonthStart.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThanEqual(\"$createdAt\", thisMonthEnd.toISOString())\n    ]);\n    const lastMonthTasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"projectId\", projectId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.greaterThanEqual(\"$createdAt\", lastMonthStart.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThanEqual(\"$createdAt\", lastMonthEnd.toISOString())\n    ]);\n    const taskCount = thisMonthTasks.total;\n    const taskDifference = taskCount - lastMonthTasks.total;\n    // Fetch assigned tasks\n    const thisMonthAssignedTasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"projectId\", projectId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"assigneeId\", member.$id),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.greaterThanEqual(\"$createdAt\", thisMonthStart.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThanEqual(\"$createdAt\", thisMonthEnd.toISOString())\n    ]);\n    const lastMonthAssignedTasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"projectId\", projectId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"assigneeId\", member.$id),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.greaterThanEqual(\"$createdAt\", lastMonthStart.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThanEqual(\"$createdAt\", lastMonthEnd.toISOString())\n    ]);\n    const assignedTaskCount = thisMonthAssignedTasks.total;\n    const assignedTaskDifference = assignedTaskCount - lastMonthAssignedTasks.total;\n    // Fetch incomplete tasks\n    const thisMonthIncompleteTasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"projectId\", projectId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.notEqual(\"status\", _features_tasks_types__WEBPACK_IMPORTED_MODULE_7__.TaskStatus.DONE),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.greaterThanEqual(\"$createdAt\", thisMonthStart.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThanEqual(\"$createdAt\", thisMonthEnd.toISOString())\n    ]);\n    const lastMonthIncompleteTasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"projectId\", projectId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.notEqual(\"status\", _features_tasks_types__WEBPACK_IMPORTED_MODULE_7__.TaskStatus.DONE),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.greaterThanEqual(\"$createdAt\", lastMonthStart.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThanEqual(\"$createdAt\", lastMonthEnd.toISOString())\n    ]);\n    const incompleteTaskCount = thisMonthIncompleteTasks.total;\n    const incompleteTaskDifference = incompleteTaskCount - lastMonthIncompleteTasks.total;\n    // Fetch completed tasks\n    const thisMonthCompletedTasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"projectId\", projectId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"status\", _features_tasks_types__WEBPACK_IMPORTED_MODULE_7__.TaskStatus.DONE),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.greaterThanEqual(\"$createdAt\", thisMonthStart.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThanEqual(\"$createdAt\", thisMonthEnd.toISOString())\n    ]);\n    const lastMonthCompletedTasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"projectId\", projectId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"status\", _features_tasks_types__WEBPACK_IMPORTED_MODULE_7__.TaskStatus.DONE),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.greaterThanEqual(\"$createdAt\", lastMonthStart.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThanEqual(\"$createdAt\", lastMonthEnd.toISOString())\n    ]);\n    const completedTaskCount = thisMonthCompletedTasks.total;\n    const completedTaskDifference = completedTaskCount - lastMonthCompletedTasks.total;\n    // Fetch overdue tasks\n    const thisMonthOverdueTasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"projectId\", projectId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.notEqual(\"status\", _features_tasks_types__WEBPACK_IMPORTED_MODULE_7__.TaskStatus.DONE),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThan(\"dueDate\", now.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.greaterThanEqual(\"$createdAt\", thisMonthStart.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThanEqual(\"$createdAt\", thisMonthEnd.toISOString())\n    ]);\n    const lastMonthOverdueTasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_0__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_0__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"projectId\", projectId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.notEqual(\"status\", _features_tasks_types__WEBPACK_IMPORTED_MODULE_7__.TaskStatus.DONE),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThan(\"dueDate\", now.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.greaterThanEqual(\"$createdAt\", lastMonthStart.toISOString()),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.lessThanEqual(\"$createdAt\", lastMonthEnd.toISOString())\n    ]);\n    const overdueTaskCount = thisMonthOverdueTasks.total;\n    const overdueTaskDifference = overdueTaskCount - lastMonthOverdueTasks.total;\n    return c.json({\n        data: {\n            taskCount,\n            taskDifference,\n            assignedTaskCount,\n            assignedTaskDifference,\n            completedTaskCount,\n            completedTaskDifference,\n            incompleteTaskCount,\n            incompleteTaskDifference,\n            overdueTaskCount,\n            overdueTaskDifference\n        }\n    });\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvcHJvamVjdHMvc2VydmVyL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvREFBb0QsR0FDdUQ7QUFDdEQ7QUFDUTtBQUNaO0FBQ3JCO0FBQ2M7QUFDbEI7QUFDOEM7QUFHVjtBQUNSO0FBR3BELE1BQU1pQixNQUFNLElBQUlWLHNDQUFJQTtBQUVwQix1QkFBdUI7QUFDdkJVLElBQUlDLElBQUksQ0FDSixLQUNBYixzRUFBaUJBLEVBQ2pCQywrREFBVUEsQ0FBQyxRQUFRSyx5REFBbUJBLEdBQ3RDLE9BQU9RO0lBQ0gsTUFBTUMsWUFBWUQsRUFBRUUsR0FBRyxDQUFDO0lBQ3hCLE1BQU1DLFVBQVVILEVBQUVFLEdBQUcsQ0FBQztJQUN0QixNQUFNRSxPQUFPSixFQUFFRSxHQUFHLENBQUM7SUFFbkIsTUFBTSxFQUFFRyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsV0FBVyxFQUFDLEdBQUdQLEVBQUVRLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDO0lBRWhELElBQUksQ0FBQ0YsYUFBYTtRQUNkLE9BQU9QLEVBQUVVLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXNCLEdBQUc7SUFDcEQ7SUFFQSxJQUFJQztJQUVKLElBQUlOLGlCQUFpQk8sTUFBTTtRQUN2QixJQUFJO1lBQ0EsTUFBTUMsT0FBTyxNQUFNWCxRQUFRWSxVQUFVLENBQ2pDakMscURBQWdCQSxFQUNoQk8sNkNBQUVBLENBQUMyQixNQUFNLElBQ1RWO1lBR0osTUFBTVcsY0FBYyxNQUFNZCxRQUFRZSxjQUFjLENBQzVDcEMscURBQWdCQSxFQUNoQmdDLEtBQUtLLEdBQUc7WUFHWlAsbUJBQW1CLENBQUMsc0JBQXNCLEVBQUVRLE9BQU9DLElBQUksQ0FBQ0osYUFBYUssUUFBUSxDQUFDLFVBQVUsQ0FBQztRQUM3RixFQUFFLE9BQU9YLE9BQU87WUFDWixPQUFPWCxFQUFFVSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBc0IsR0FBRztRQUNwRDtJQUNK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QkFBZ0IsQ0FBQyxjQUFjSCxlQUFlSSxXQUFXO1FBQy9EL0QsZ0RBQUtBLENBQUNnRSxhQUFhLENBQUMsY0FBY0osYUFBYUcsV0FBVztLQUM3RDtJQUVELE1BQU11QixtQkFBbUJILHNCQUFzQmhCLEtBQUs7SUFDcEQsTUFBTW9CLHdCQUF3QkQsbUJBQW1CRCxzQkFBc0JsQixLQUFLO0lBRTVFLE9BQU96RCxFQUFFVSxJQUFJLENBQUM7UUFDVmtCLE1BQU07WUFDRjRCO1lBQ0FFO1lBQ0FHO1lBQ0FDO1lBQ0FTO1lBQ0FDO1lBQ0FMO1lBQ0FDO1lBQ0FRO1lBQ0FDO1FBQ0o7SUFDSjtBQUNKO0FBR0EsaUVBQWUvRSxHQUFHQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvd2JvYXJkLy4vc3JjL2ZlYXR1cmVzL3Byb2plY3RzL3NlcnZlci9yb3V0ZS50cz84M2E0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHsgREFUQUJBU0VfSUQsIElNQUdFU19CVUNLRVRfSUQsIE1FTUJFUlNfSUQsIFBST0pFQ1RTX0lELCBUQVNLU19JRCwgV09SS1NQQUNFU19JRCB9IGZyb20gXCJAL2NvbmZpZ1wiO1xuaW1wb3J0IHsgZ2V0TWVtYmVyIH0gZnJvbSBcIkAvZmVhdHVyZXMvbWVtYmVycy91dGlsc1wiO1xuaW1wb3J0IHsgc2Vzc2lvbk1pZGRsZXdhcmUgfSBmcm9tIFwiQC9saWIvc2Vzc2lvbi1taWRkbGV3YXJlXCI7XG5pbXBvcnQgeyB6VmFsaWRhdG9yIH0gZnJvbSBcIkBob25vL3pvZC12YWxpZGF0b3JcIjtcbmltcG9ydCB7IEhvbm8gfSBmcm9tIFwiaG9ub1wiO1xuaW1wb3J0IHsgSUQsIFF1ZXJ5IH0gZnJvbSBcIm5vZGUtYXBwd3JpdGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBjcmVhdGVQcm9qZWN0U2NoZW1hLCB1cGRhdGVQcm9qZWN0U2NoZW1hIH0gZnJvbSBcIi4uL3NjaGVtYXNcIjtcbmltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuaW1wb3J0IHtlbmRPZk1vbnRoLCBzdGFydE9mTW9udGgsIHN1Yk1vbnRoc30gZnJvbSBcImRhdGUtZm5zXCJcbmltcG9ydCB7IFRhc2tTdGF0dXMgfSBmcm9tIFwiQC9mZWF0dXJlcy90YXNrcy90eXBlc1wiO1xuXG5cbmNvbnN0IGFwcCA9IG5ldyBIb25vKCk7XG5cbi8vIENyZWF0ZSBhIG5ldyBwcm9qZWN0XG5hcHAucG9zdChcbiAgICBcIi9cIixcbiAgICBzZXNzaW9uTWlkZGxld2FyZSxcbiAgICB6VmFsaWRhdG9yKFwiZm9ybVwiLCBjcmVhdGVQcm9qZWN0U2NoZW1hKSxcbiAgICBhc3luYyAoYykgPT4ge1xuICAgICAgICBjb25zdCBkYXRhYmFzZXMgPSBjLmdldChcImRhdGFiYXNlc1wiKTtcbiAgICAgICAgY29uc3Qgc3RvcmFnZSA9IGMuZ2V0KFwic3RvcmFnZVwiKTtcbiAgICAgICAgY29uc3QgdXNlciA9IGMuZ2V0KFwidXNlclwiKTtcblxuICAgICAgICBjb25zdCB7IG5hbWUsIGltYWdlLCB3b3Jrc3BhY2VJZH0gPSBjLnJlcS52YWxpZChcImZvcm1cIik7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXdvcmtzcGFjZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gYy5qc29uKHsgZXJyb3I6IFwiTWlzc2luZyB3b3Jrc3BhY2VJZFwiIH0sIDQwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdXBsb2FkZWRJbWFnZVVybDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChpbWFnZSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IHN0b3JhZ2UuY3JlYXRlRmlsZShcbiAgICAgICAgICAgICAgICAgICAgSU1BR0VTX0JVQ0tFVF9JRCxcbiAgICAgICAgICAgICAgICAgICAgSUQudW5pcXVlKCksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgc3RvcmFnZS5nZXRGaWxlUHJldmlldyhcbiAgICAgICAgICAgICAgICAgICAgSU1BR0VTX0JVQ0tFVF9JRCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZS4kaWRcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdXBsb2FkZWRJbWFnZVVybCA9IGBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHtCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcikudG9TdHJpbmcoXCJiYXNlNjRcIil9YDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMuanNvbih7IGVycm9yOiBcIkltYWdlIHVwbG9hZCBmYWlsZWRcIiB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWVtYmVyID0gYXdhaXQgZ2V0TWVtYmVyKHtcbiAgICAgICAgICAgIHdvcmtzcGFjZUlkLFxuICAgICAgICAgICAgdXNlcklkOiB1c2VyLiRpZCxcbiAgICAgICAgICAgIGRhdGFiYXNlcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFtZW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCA0MDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IGRhdGFiYXNlcy5jcmVhdGVEb2N1bWVudChcbiAgICAgICAgICAgIERBVEFCQVNFX0lELFxuICAgICAgICAgICAgUFJPSkVDVFNfSUQsXG4gICAgICAgICAgICBJRC51bmlxdWUoKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIEltYWdlVXJsOiB1cGxvYWRlZEltYWdlVXJsLFxuICAgICAgICAgICAgICAgIHdvcmtzcGFjZUlkLFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBjLmpzb24oeyBkYXRhOiBwcm9qZWN0IH0pO1xuICAgIH1cbik7XG5cbi8vIEZldGNoIGFsbCBwcm9qZWN0cyBmb3IgYSB3b3Jrc3BhY2VcbmFwcC5nZXQoXG4gICAgXCIvXCIsXG4gICAgc2Vzc2lvbk1pZGRsZXdhcmUsXG4gICAgelZhbGlkYXRvcihcInF1ZXJ5XCIsIHoub2JqZWN0KHsgd29ya3NwYWNlSWQ6IHouc3RyaW5nKCkgfSkpLCBcbiAgICBhc3luYyAoYykgPT4ge1xuICAgICAgICBjb25zdCB1c2VyID0gYy5nZXQoXCJ1c2VyXCIpO1xuICAgICAgICBjb25zdCBkYXRhYmFzZXMgPSBjLmdldChcImRhdGFiYXNlc1wiKTtcblxuICAgICAgICBjb25zdCB7IHdvcmtzcGFjZUlkIH0gPSBjLnJlcS52YWxpZChcInF1ZXJ5XCIpO1xuXG4gICAgICAgIGlmICghd29ya3NwYWNlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjLmpzb24oeyBlcnJvcjogXCJNaXNzaW5nIHdvcmtzcGFjZUlkXCIgfSwgNDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1lbWJlciA9IGF3YWl0IGdldE1lbWJlcih7XG4gICAgICAgICAgICB3b3Jrc3BhY2VJZCxcbiAgICAgICAgICAgIHVzZXJJZDogdXNlci4kaWQsXG4gICAgICAgICAgICBkYXRhYmFzZXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghbWVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gYy5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgNDAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gYXdhaXQgZGF0YWJhc2VzLmxpc3REb2N1bWVudHMoXG4gICAgICAgICAgICBEQVRBQkFTRV9JRCxcbiAgICAgICAgICAgIFBST0pFQ1RTX0lELFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFF1ZXJ5LmVxdWFsKFwid29ya3NwYWNlSWRcIiwgd29ya3NwYWNlSWQpLFxuICAgICAgICAgICAgICAgIFF1ZXJ5Lm9yZGVyRGVzYyhcIiRjcmVhdGVkQXRcIiksXG4gICAgICAgICAgICBdXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc29sZS5sb2coeyBwcm9qZWN0cyB9KTsgLy8gVEVTVFxuXG4gICAgICAgIHJldHVybiBjLmpzb24oeyBkYXRhOiBwcm9qZWN0cyB9KTtcbiAgICB9XG4pO1xuXG4vLyBVcGRhdGUgd29ya3NwYWNlIGRldGFpbHNcbmFwcC5wYXRjaChcbiAgICBcIi86cHJvamVjdElkXCIsIFxuICAgIHNlc3Npb25NaWRkbGV3YXJlLFxuICAgIHpWYWxpZGF0b3IoXCJmb3JtXCIsIHVwZGF0ZVByb2plY3RTY2hlbWEpLFxuICAgIGFzeW5jIChjKSA9PiB7XG4gICAgICBjb25zdCBkYXRhYmFzZXMgPSBjLmdldChcImRhdGFiYXNlc1wiKTtcbiAgICAgIGNvbnN0IHN0b3JhZ2UgPSBjLmdldChcInN0b3JhZ2VcIik7XG4gICAgICBjb25zdCB1c2VyID0gYy5nZXQoXCJ1c2VyXCIpO1xuICAgICAgY29uc3QgeyBwcm9qZWN0SWQgfSA9IGMucmVxLnBhcmFtKCk7XG4gICAgICBjb25zdCB7IG5hbWUsIGltYWdlIH0gPSBjLnJlcS52YWxpZChcImZvcm1cIik7XG4gICAgICBcbiAgICAgIGNvbnN0IGV4aXN0aW5nUHJvamVjdCA9IGF3YWl0IGRhdGFiYXNlcy5nZXREb2N1bWVudDxQcm9qZWN0PihcbiAgICAgICAgREFUQUJBU0VfSUQsXG4gICAgICAgIFBST0pFQ1RTX0lELFxuICAgICAgICBwcm9qZWN0SWRcbiAgICAgIClcbiAgICAgIFxuICAgICAgXG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBnZXRNZW1iZXIoe1xuICAgICAgICBkYXRhYmFzZXMsXG4gICAgICAgIHdvcmtzcGFjZUlkIDogZXhpc3RpbmdQcm9qZWN0LndvcmtzcGFjZUlkLCBcbiAgICAgICAgdXNlcklkOiB1c2VyLiRpZCxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFtZW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGMuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIDQwMSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxldCB1cGxvYWRlZEltYWdlVXJsOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICBpZiAoaW1hZ2UgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBzdG9yYWdlLmNyZWF0ZUZpbGUoSU1BR0VTX0JVQ0tFVF9JRCwgSUQudW5pcXVlKCksIGltYWdlKTtcbiAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBzdG9yYWdlLmdldEZpbGVQcmV2aWV3KElNQUdFU19CVUNLRVRfSUQsIGZpbGUuJGlkKTtcbiAgICAgICAgdXBsb2FkZWRJbWFnZVVybCA9IGBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHtCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcikudG9TdHJpbmcoXCJiYXNlNjRcIil9YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwbG9hZGVkSW1hZ2VVcmwgPSBpbWFnZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCBkYXRhYmFzZXMudXBkYXRlRG9jdW1lbnQoXG4gICAgICAgIERBVEFCQVNFX0lELCBQUk9KRUNUU19JRCwgcHJvamVjdElkLCB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIEltYWdlVXJsOiB1cGxvYWRlZEltYWdlVXJsLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYy5qc29uKHsgZGF0YTogcHJvamVjdCB9KTtcbiAgICB9XG4gICk7XG5cblxuLy8gVVBEQVRFOiBERUxFVEUgZm9yIHByb2plY3RzLCBtYXkgb3IgbWF5IG5vdCB3b3JrIGJlY2F1c2Ugbm90IGNvbXBsZXRlbHkgaW1wbGVtZW50ZWRcbmFwcC5kZWxldGUoXG4gICAgXCIvOnByb2plY3RJZFwiLFxuICAgIHNlc3Npb25NaWRkbGV3YXJlLFxuICAgIGFzeW5jIChjKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGFiYXNlcyA9IGMuZ2V0KFwiZGF0YWJhc2VzXCIpO1xuICAgICAgICBjb25zdCB1c2VyID0gYy5nZXQoXCJ1c2VyXCIpO1xuXG4gICAgICAgIGNvbnN0IHsgcHJvamVjdElkIH0gPSBjLnJlcS5wYXJhbSgpO1xuICAgICAgICBjb25zdCBleGlzdGluZ1Byb2plY3QgPSBhd2FpdCBkYXRhYmFzZXMuZ2V0RG9jdW1lbnQ8UHJvamVjdD4oXG4gICAgICAgICAgICBEQVRBQkFTRV9JRCxcbiAgICAgICAgICAgIFBST0pFQ1RTX0lELFxuICAgICAgICAgICAgcHJvamVjdElkXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBnZXRNZW1iZXIoe1xuICAgICAgICAgICAgZGF0YWJhc2VzLFxuICAgICAgICAgICAgd29ya3NwYWNlSWQ6IGV4aXN0aW5nUHJvamVjdC53b3Jrc3BhY2VJZCxcbiAgICAgICAgICAgIHVzZXJJZDogdXNlci4kaWQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghbWVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBjLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCA0MDEpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBkZWxldGUgdGFza3MgXG4gICAgICAgIGF3YWl0IGRhdGFiYXNlcy5kZWxldGVEb2N1bWVudChcbiAgICAgICAgICAgIERBVEFCQVNFX0lELFxuICAgICAgICAgICAgUFJPSkVDVFNfSUQsXG4gICAgICAgICAgICBwcm9qZWN0SWQsXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYy5qc29uKHsgZGF0YTogeyAkaWQ6IGV4aXN0aW5nUHJvamVjdC4kaWQgfX0pO1xuICAgIH1cbilcblxuLy9VUERBVEU6IHNlc3Npb25NaWRkbGVXYXJlIGZpeGVzIHRoZSBkYXRhYmFzZSBhbmQgY2xpZW50IGVycm9yc1xuYXBwLmdldChcIi86cHJvamVjdElkL2FuYWx5dGljc1wiLCBzZXNzaW9uTWlkZGxld2FyZSwgYXN5bmMgKGMpID0+IHtcbiAgICBjb25zdCBkYXRhYmFzZXMgPSBjLmdldChcImRhdGFiYXNlc1wiKTtcbiAgICBjb25zdCB1c2VyID0gYy5nZXQoXCJ1c2VyXCIpO1xuICAgIGNvbnN0IHsgcHJvamVjdElkIH0gPSBjLnJlcS5wYXJhbSgpO1xuXG4gICAgLy8gRmV0Y2ggcHJvamVjdCBkZXRhaWxzXG4gICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IGRhdGFiYXNlcy5nZXREb2N1bWVudDxQcm9qZWN0PihcbiAgICAgICAgREFUQUJBU0VfSUQsXG4gICAgICAgIFBST0pFQ1RTX0lELFxuICAgICAgICBwcm9qZWN0SWRcbiAgICApO1xuXG4gICAgLy8gVmFsaWRhdGUgbWVtYmVyIGFjY2Vzc1xuICAgIGNvbnN0IG1lbWJlciA9IGF3YWl0IGdldE1lbWJlcih7XG4gICAgICAgIGRhdGFiYXNlcyxcbiAgICAgICAgd29ya3NwYWNlSWQ6IHByb2plY3Qud29ya3NwYWNlSWQsXG4gICAgICAgIHVzZXJJZDogdXNlci4kaWQsXG4gICAgfSk7XG5cbiAgICBpZiAoIW1lbWJlcikge1xuICAgICAgICByZXR1cm4gYy5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgNDAxKTtcbiAgICB9XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHRoaXNNb250aFN0YXJ0ID0gc3RhcnRPZk1vbnRoKG5vdyk7XG4gICAgY29uc3QgdGhpc01vbnRoRW5kID0gZW5kT2ZNb250aChub3cpO1xuICAgIGNvbnN0IGxhc3RNb250aFN0YXJ0ID0gc3RhcnRPZk1vbnRoKHN1Yk1vbnRocyhub3csIDEpKTtcbiAgICBjb25zdCBsYXN0TW9udGhFbmQgPSBlbmRPZk1vbnRoKHN1Yk1vbnRocyhub3csIDEpKTtcblxuICAgIC8vIEZldGNoIHRhc2tzIGZvciB0aGlzIGFuZCBsYXN0IG1vbnRoXG4gICAgY29uc3QgdGhpc01vbnRoVGFza3MgPSBhd2FpdCBkYXRhYmFzZXMubGlzdERvY3VtZW50cyhEQVRBQkFTRV9JRCwgVEFTS1NfSUQsIFtcbiAgICAgICAgUXVlcnkuZXF1YWwoXCJwcm9qZWN0SWRcIiwgcHJvamVjdElkKSxcbiAgICAgICAgUXVlcnkuZ3JlYXRlclRoYW5FcXVhbChcIiRjcmVhdGVkQXRcIiwgdGhpc01vbnRoU3RhcnQudG9JU09TdHJpbmcoKSksXG4gICAgICAgIFF1ZXJ5Lmxlc3NUaGFuRXF1YWwoXCIkY3JlYXRlZEF0XCIsIHRoaXNNb250aEVuZC50b0lTT1N0cmluZygpKSxcbiAgICBdKTtcblxuICAgIGNvbnN0IGxhc3RNb250aFRhc2tzID0gYXdhaXQgZGF0YWJhc2VzLmxpc3REb2N1bWVudHMoREFUQUJBU0VfSUQsIFRBU0tTX0lELCBbXG4gICAgICAgIFF1ZXJ5LmVxdWFsKFwicHJvamVjdElkXCIsIHByb2plY3RJZCksXG4gICAgICAgIFF1ZXJ5LmdyZWF0ZXJUaGFuRXF1YWwoXCIkY3JlYXRlZEF0XCIsIGxhc3RNb250aFN0YXJ0LnRvSVNPU3RyaW5nKCkpLFxuICAgICAgICBRdWVyeS5sZXNzVGhhbkVxdWFsKFwiJGNyZWF0ZWRBdFwiLCBsYXN0TW9udGhFbmQudG9JU09TdHJpbmcoKSksXG4gICAgXSk7XG5cbiAgICBjb25zdCB0YXNrQ291bnQgPSB0aGlzTW9udGhUYXNrcy50b3RhbDtcbiAgICBjb25zdCB0YXNrRGlmZmVyZW5jZSA9IHRhc2tDb3VudCAtIGxhc3RNb250aFRhc2tzLnRvdGFsO1xuXG4gICAgLy8gRmV0Y2ggYXNzaWduZWQgdGFza3NcbiAgICBjb25zdCB0aGlzTW9udGhBc3NpZ25lZFRhc2tzID0gYXdhaXQgZGF0YWJhc2VzLmxpc3REb2N1bWVudHMoREFUQUJBU0VfSUQsIFRBU0tTX0lELCBbXG4gICAgICAgIFF1ZXJ5LmVxdWFsKFwicHJvamVjdElkXCIsIHByb2plY3RJZCksXG4gICAgICAgIFF1ZXJ5LmVxdWFsKFwiYXNzaWduZWVJZFwiLCBtZW1iZXIuJGlkKSxcbiAgICAgICAgUXVlcnkuZ3JlYXRlclRoYW5FcXVhbChcIiRjcmVhdGVkQXRcIiwgdGhpc01vbnRoU3RhcnQudG9JU09TdHJpbmcoKSksXG4gICAgICAgIFF1ZXJ5Lmxlc3NUaGFuRXF1YWwoXCIkY3JlYXRlZEF0XCIsIHRoaXNNb250aEVuZC50b0lTT1N0cmluZygpKSxcbiAgICBdKTtcblxuICAgIGNvbnN0IGxhc3RNb250aEFzc2lnbmVkVGFza3MgPSBhd2FpdCBkYXRhYmFzZXMubGlzdERvY3VtZW50cyhEQVRBQkFTRV9JRCwgVEFTS1NfSUQsIFtcbiAgICAgICAgUXVlcnkuZXF1YWwoXCJwcm9qZWN0SWRcIiwgcHJvamVjdElkKSxcbiAgICAgICAgUXVlcnkuZXF1YWwoXCJhc3NpZ25lZUlkXCIsIG1lbWJlci4kaWQpLFxuICAgICAgICBRdWVyeS5ncmVhdGVyVGhhbkVxdWFsKFwiJGNyZWF0ZWRBdFwiLCBsYXN0TW9udGhTdGFydC50b0lTT1N0cmluZygpKSxcbiAgICAgICAgUXVlcnkubGVzc1RoYW5FcXVhbChcIiRjcmVhdGVkQXRcIiwgbGFzdE1vbnRoRW5kLnRvSVNPU3RyaW5nKCkpLFxuICAgIF0pO1xuXG4gICAgY29uc3QgYXNzaWduZWRUYXNrQ291bnQgPSB0aGlzTW9udGhBc3NpZ25lZFRhc2tzLnRvdGFsO1xuICAgIGNvbnN0IGFzc2lnbmVkVGFza0RpZmZlcmVuY2UgPSBhc3NpZ25lZFRhc2tDb3VudCAtIGxhc3RNb250aEFzc2lnbmVkVGFza3MudG90YWw7XG5cbiAgICAvLyBGZXRjaCBpbmNvbXBsZXRlIHRhc2tzXG4gICAgY29uc3QgdGhpc01vbnRoSW5jb21wbGV0ZVRhc2tzID0gYXdhaXQgZGF0YWJhc2VzLmxpc3REb2N1bWVudHMoREFUQUJBU0VfSUQsIFRBU0tTX0lELCBbXG4gICAgICAgIFF1ZXJ5LmVxdWFsKFwicHJvamVjdElkXCIsIHByb2plY3RJZCksXG4gICAgICAgIFF1ZXJ5Lm5vdEVxdWFsKFwic3RhdHVzXCIsIFRhc2tTdGF0dXMuRE9ORSksXG4gICAgICAgIFF1ZXJ5LmdyZWF0ZXJUaGFuRXF1YWwoXCIkY3JlYXRlZEF0XCIsIHRoaXNNb250aFN0YXJ0LnRvSVNPU3RyaW5nKCkpLFxuICAgICAgICBRdWVyeS5sZXNzVGhhbkVxdWFsKFwiJGNyZWF0ZWRBdFwiLCB0aGlzTW9udGhFbmQudG9JU09TdHJpbmcoKSksXG4gICAgXSk7XG5cbiAgICBjb25zdCBsYXN0TW9udGhJbmNvbXBsZXRlVGFza3MgPSBhd2FpdCBkYXRhYmFzZXMubGlzdERvY3VtZW50cyhEQVRBQkFTRV9JRCwgVEFTS1NfSUQsIFtcbiAgICAgICAgUXVlcnkuZXF1YWwoXCJwcm9qZWN0SWRcIiwgcHJvamVjdElkKSxcbiAgICAgICAgUXVlcnkubm90RXF1YWwoXCJzdGF0dXNcIiwgVGFza1N0YXR1cy5ET05FKSxcbiAgICAgICAgUXVlcnkuZ3JlYXRlclRoYW5FcXVhbChcIiRjcmVhdGVkQXRcIiwgbGFzdE1vbnRoU3RhcnQudG9JU09TdHJpbmcoKSksXG4gICAgICAgIFF1ZXJ5Lmxlc3NUaGFuRXF1YWwoXCIkY3JlYXRlZEF0XCIsIGxhc3RNb250aEVuZC50b0lTT1N0cmluZygpKSxcbiAgICBdKTtcblxuICAgIGNvbnN0IGluY29tcGxldGVUYXNrQ291bnQgPSB0aGlzTW9udGhJbmNvbXBsZXRlVGFza3MudG90YWw7XG4gICAgY29uc3QgaW5jb21wbGV0ZVRhc2tEaWZmZXJlbmNlID0gaW5jb21wbGV0ZVRhc2tDb3VudCAtIGxhc3RNb250aEluY29tcGxldGVUYXNrcy50b3RhbDtcblxuICAgIC8vIEZldGNoIGNvbXBsZXRlZCB0YXNrc1xuICAgIGNvbnN0IHRoaXNNb250aENvbXBsZXRlZFRhc2tzID0gYXdhaXQgZGF0YWJhc2VzLmxpc3REb2N1bWVudHMoREFUQUJBU0VfSUQsIFRBU0tTX0lELCBbXG4gICAgICAgIFF1ZXJ5LmVxdWFsKFwicHJvamVjdElkXCIsIHByb2plY3RJZCksXG4gICAgICAgIFF1ZXJ5LmVxdWFsKFwic3RhdHVzXCIsIFRhc2tTdGF0dXMuRE9ORSksXG4gICAgICAgIFF1ZXJ5LmdyZWF0ZXJUaGFuRXF1YWwoXCIkY3JlYXRlZEF0XCIsIHRoaXNNb250aFN0YXJ0LnRvSVNPU3RyaW5nKCkpLFxuICAgICAgICBRdWVyeS5sZXNzVGhhbkVxdWFsKFwiJGNyZWF0ZWRBdFwiLCB0aGlzTW9udGhFbmQudG9JU09TdHJpbmcoKSksXG4gICAgXSk7XG5cbiAgICBjb25zdCBsYXN0TW9udGhDb21wbGV0ZWRUYXNrcyA9IGF3YWl0IGRhdGFiYXNlcy5saXN0RG9jdW1lbnRzKERBVEFCQVNFX0lELCBUQVNLU19JRCwgW1xuICAgICAgICBRdWVyeS5lcXVhbChcInByb2plY3RJZFwiLCBwcm9qZWN0SWQpLFxuICAgICAgICBRdWVyeS5lcXVhbChcInN0YXR1c1wiLCBUYXNrU3RhdHVzLkRPTkUpLFxuICAgICAgICBRdWVyeS5ncmVhdGVyVGhhbkVxdWFsKFwiJGNyZWF0ZWRBdFwiLCBsYXN0TW9udGhTdGFydC50b0lTT1N0cmluZygpKSxcbiAgICAgICAgUXVlcnkubGVzc1RoYW5FcXVhbChcIiRjcmVhdGVkQXRcIiwgbGFzdE1vbnRoRW5kLnRvSVNPU3RyaW5nKCkpLFxuICAgIF0pO1xuXG4gICAgY29uc3QgY29tcGxldGVkVGFza0NvdW50ID0gdGhpc01vbnRoQ29tcGxldGVkVGFza3MudG90YWw7XG4gICAgY29uc3QgY29tcGxldGVkVGFza0RpZmZlcmVuY2UgPSBjb21wbGV0ZWRUYXNrQ291bnQgLSBsYXN0TW9udGhDb21wbGV0ZWRUYXNrcy50b3RhbDtcblxuICAgIC8vIEZldGNoIG92ZXJkdWUgdGFza3NcbiAgICBjb25zdCB0aGlzTW9udGhPdmVyZHVlVGFza3MgPSBhd2FpdCBkYXRhYmFzZXMubGlzdERvY3VtZW50cyhEQVRBQkFTRV9JRCwgVEFTS1NfSUQsIFtcbiAgICAgICAgUXVlcnkuZXF1YWwoXCJwcm9qZWN0SWRcIiwgcHJvamVjdElkKSxcbiAgICAgICAgUXVlcnkubm90RXF1YWwoXCJzdGF0dXNcIiwgVGFza1N0YXR1cy5ET05FKSxcbiAgICAgICAgUXVlcnkubGVzc1RoYW4oXCJkdWVEYXRlXCIsIG5vdy50b0lTT1N0cmluZygpKSxcbiAgICAgICAgUXVlcnkuZ3JlYXRlclRoYW5FcXVhbChcIiRjcmVhdGVkQXRcIiwgdGhpc01vbnRoU3RhcnQudG9JU09TdHJpbmcoKSksXG4gICAgICAgIFF1ZXJ5Lmxlc3NUaGFuRXF1YWwoXCIkY3JlYXRlZEF0XCIsIHRoaXNNb250aEVuZC50b0lTT1N0cmluZygpKSxcbiAgICBdKTtcblxuICAgIGNvbnN0IGxhc3RNb250aE92ZXJkdWVUYXNrcyA9IGF3YWl0IGRhdGFiYXNlcy5saXN0RG9jdW1lbnRzKERBVEFCQVNFX0lELCBUQVNLU19JRCwgW1xuICAgICAgICBRdWVyeS5lcXVhbChcInByb2plY3RJZFwiLCBwcm9qZWN0SWQpLFxuICAgICAgICBRdWVyeS5ub3RFcXVhbChcInN0YXR1c1wiLCBUYXNrU3RhdHVzLkRPTkUpLFxuICAgICAgICBRdWVyeS5sZXNzVGhhbihcImR1ZURhdGVcIiwgbm93LnRvSVNPU3RyaW5nKCkpLFxuICAgICAgICBRdWVyeS5ncmVhdGVyVGhhbkVxdWFsKFwiJGNyZWF0ZWRBdFwiLCBsYXN0TW9udGhTdGFydC50b0lTT1N0cmluZygpKSxcbiAgICAgICAgUXVlcnkubGVzc1RoYW5FcXVhbChcIiRjcmVhdGVkQXRcIiwgbGFzdE1vbnRoRW5kLnRvSVNPU3RyaW5nKCkpLFxuICAgIF0pO1xuXG4gICAgY29uc3Qgb3ZlcmR1ZVRhc2tDb3VudCA9IHRoaXNNb250aE92ZXJkdWVUYXNrcy50b3RhbDtcbiAgICBjb25zdCBvdmVyZHVlVGFza0RpZmZlcmVuY2UgPSBvdmVyZHVlVGFza0NvdW50IC0gbGFzdE1vbnRoT3ZlcmR1ZVRhc2tzLnRvdGFsO1xuXG4gICAgcmV0dXJuIGMuanNvbih7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHRhc2tDb3VudCxcbiAgICAgICAgICAgIHRhc2tEaWZmZXJlbmNlLFxuICAgICAgICAgICAgYXNzaWduZWRUYXNrQ291bnQsXG4gICAgICAgICAgICBhc3NpZ25lZFRhc2tEaWZmZXJlbmNlLFxuICAgICAgICAgICAgY29tcGxldGVkVGFza0NvdW50LFxuICAgICAgICAgICAgY29tcGxldGVkVGFza0RpZmZlcmVuY2UsXG4gICAgICAgICAgICBpbmNvbXBsZXRlVGFza0NvdW50LFxuICAgICAgICAgICAgaW5jb21wbGV0ZVRhc2tEaWZmZXJlbmNlLFxuICAgICAgICAgICAgb3ZlcmR1ZVRhc2tDb3VudCxcbiAgICAgICAgICAgIG92ZXJkdWVUYXNrRGlmZmVyZW5jZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbn0pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiJdLCJuYW1lcyI6WyJEQVRBQkFTRV9JRCIsIklNQUdFU19CVUNLRVRfSUQiLCJQUk9KRUNUU19JRCIsIlRBU0tTX0lEIiwiZ2V0TWVtYmVyIiwic2Vzc2lvbk1pZGRsZXdhcmUiLCJ6VmFsaWRhdG9yIiwiSG9ubyIsIklEIiwiUXVlcnkiLCJ6IiwiY3JlYXRlUHJvamVjdFNjaGVtYSIsInVwZGF0ZVByb2plY3RTY2hlbWEiLCJlbmRPZk1vbnRoIiwic3RhcnRPZk1vbnRoIiwic3ViTW9udGhzIiwiVGFza1N0YXR1cyIsImFwcCIsInBvc3QiLCJjIiwiZGF0YWJhc2VzIiwiZ2V0Iiwic3RvcmFnZSIsInVzZXIiLCJuYW1lIiwiaW1hZ2UiLCJ3b3Jrc3BhY2VJZCIsInJlcSIsInZhbGlkIiwianNvbiIsImVycm9yIiwidXBsb2FkZWRJbWFnZVVybCIsIkZpbGUiLCJmaWxlIiwiY3JlYXRlRmlsZSIsInVuaXF1ZSIsImFycmF5QnVmZmVyIiwiZ2V0RmlsZVByZXZpZXciLCIkaWQiLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJtZW1iZXIiLCJ1c2VySWQiLCJwcm9qZWN0IiwiY3JlYXRlRG9jdW1lbnQiLCJJbWFnZVVybCIsImRhdGEiLCJvYmplY3QiLCJzdHJpbmciLCJwcm9qZWN0cyIsImxpc3REb2N1bWVudHMiLCJlcXVhbCIsIm9yZGVyRGVzYyIsImNvbnNvbGUiLCJsb2ciLCJwYXRjaCIsInByb2plY3RJZCIsInBhcmFtIiwiZXhpc3RpbmdQcm9qZWN0IiwiZ2V0RG9jdW1lbnQiLCJ1cGRhdGVEb2N1bWVudCIsImRlbGV0ZSIsImRlbGV0ZURvY3VtZW50Iiwibm93IiwiRGF0ZSIsInRoaXNNb250aFN0YXJ0IiwidGhpc01vbnRoRW5kIiwibGFzdE1vbnRoU3RhcnQiLCJsYXN0TW9udGhFbmQiLCJ0aGlzTW9udGhUYXNrcyIsImdyZWF0ZXJUaGFuRXF1YWwiLCJ0b0lTT1N0cmluZyIsImxlc3NUaGFuRXF1YWwiLCJsYXN0TW9udGhUYXNrcyIsInRhc2tDb3VudCIsInRvdGFsIiwidGFza0RpZmZlcmVuY2UiLCJ0aGlzTW9udGhBc3NpZ25lZFRhc2tzIiwibGFzdE1vbnRoQXNzaWduZWRUYXNrcyIsImFzc2lnbmVkVGFza0NvdW50IiwiYXNzaWduZWRUYXNrRGlmZmVyZW5jZSIsInRoaXNNb250aEluY29tcGxldGVUYXNrcyIsIm5vdEVxdWFsIiwiRE9ORSIsImxhc3RNb250aEluY29tcGxldGVUYXNrcyIsImluY29tcGxldGVUYXNrQ291bnQiLCJpbmNvbXBsZXRlVGFza0RpZmZlcmVuY2UiLCJ0aGlzTW9udGhDb21wbGV0ZWRUYXNrcyIsImxhc3RNb250aENvbXBsZXRlZFRhc2tzIiwiY29tcGxldGVkVGFza0NvdW50IiwiY29tcGxldGVkVGFza0RpZmZlcmVuY2UiLCJ0aGlzTW9udGhPdmVyZHVlVGFza3MiLCJsZXNzVGhhbiIsImxhc3RNb250aE92ZXJkdWVUYXNrcyIsIm92ZXJkdWVUYXNrQ291bnQiLCJvdmVyZHVlVGFza0RpZmZlcmVuY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/features/projects/server/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/tasks/schemas.ts":
/*!***************************************!*\
  !*** ./src/features/tasks/schemas.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTaskSchema: () => (/* binding */ createTaskSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"(rsc)/./src/features/tasks/types.ts\");\n\n\nconst createTaskSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(1, \"Required\"),\n    status: zod__WEBPACK_IMPORTED_MODULE_1__.z.nativeEnum(_types__WEBPACK_IMPORTED_MODULE_0__.TaskStatus, {\n        required_error: \"Required\"\n    }),\n    workspaceId: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().trim().min(1, \"Required\"),\n    projectId: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().trim().min(1, \"Required\"),\n    dueDate: zod__WEBPACK_IMPORTED_MODULE_1__.z.coerce.date(),\n    assigneeId: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().trim().min(1, \"Required\"),\n    description: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvdGFza3Mvc2NoZW1hcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0I7QUFDYTtBQUU5QixNQUFNRSxtQkFBbUJGLGtDQUFDQSxDQUFDRyxNQUFNLENBQUM7SUFDckNDLE1BQU1KLGtDQUFDQSxDQUFDSyxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxHQUFHO0lBQ3hCQyxRQUFRUCxrQ0FBQ0EsQ0FBQ1EsVUFBVSxDQUFDUCw4Q0FBVUEsRUFBRTtRQUFFUSxnQkFBZ0I7SUFBVztJQUM5REMsYUFBYVYsa0NBQUNBLENBQUNLLE1BQU0sR0FBR00sSUFBSSxHQUFHTCxHQUFHLENBQUMsR0FBRztJQUN0Q00sV0FBV1osa0NBQUNBLENBQUNLLE1BQU0sR0FBR00sSUFBSSxHQUFHTCxHQUFHLENBQUMsR0FBRztJQUNwQ08sU0FBU2Isa0NBQUNBLENBQUNjLE1BQU0sQ0FBQ0MsSUFBSTtJQUN0QkMsWUFBWWhCLGtDQUFDQSxDQUFDSyxNQUFNLEdBQUdNLElBQUksR0FBR0wsR0FBRyxDQUFDLEdBQUc7SUFDckNXLGFBQWFqQixrQ0FBQ0EsQ0FBQ0ssTUFBTSxHQUFHYSxRQUFRO0FBQ3BDLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG93Ym9hcmQvLi9zcmMvZmVhdHVyZXMvdGFza3Mvc2NoZW1hcy50cz9lNWM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBUYXNrU3RhdHVzIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRhc2tTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgbmFtZTogei5zdHJpbmcoKS5taW4oMSwgXCJSZXF1aXJlZFwiKSxcbiAgICBzdGF0dXM6IHoubmF0aXZlRW51bShUYXNrU3RhdHVzLCB7IHJlcXVpcmVkX2Vycm9yOiBcIlJlcXVpcmVkXCIgfSksXG4gICAgd29ya3NwYWNlSWQ6IHouc3RyaW5nKCkudHJpbSgpLm1pbigxLCBcIlJlcXVpcmVkXCIpLFxuICAgIHByb2plY3RJZDogei5zdHJpbmcoKS50cmltKCkubWluKDEsIFwiUmVxdWlyZWRcIiksXG4gICAgZHVlRGF0ZTogei5jb2VyY2UuZGF0ZSgpLFxuICAgIGFzc2lnbmVlSWQ6IHouc3RyaW5nKCkudHJpbSgpLm1pbigxLCBcIlJlcXVpcmVkXCIpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbiJdLCJuYW1lcyI6WyJ6IiwiVGFza1N0YXR1cyIsImNyZWF0ZVRhc2tTY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwibWluIiwic3RhdHVzIiwibmF0aXZlRW51bSIsInJlcXVpcmVkX2Vycm9yIiwid29ya3NwYWNlSWQiLCJ0cmltIiwicHJvamVjdElkIiwiZHVlRGF0ZSIsImNvZXJjZSIsImRhdGUiLCJhc3NpZ25lZUlkIiwiZGVzY3JpcHRpb24iLCJvcHRpb25hbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/features/tasks/schemas.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/tasks/server/route.ts":
/*!********************************************!*\
  !*** ./src/features/tasks/server/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var hono__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hono */ \"(rsc)/./node_modules/hono/dist/index.js\");\n/* harmony import */ var _features_members_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/features/members/utils */ \"(rsc)/./src/features/members/utils.ts\");\n/* harmony import */ var _hono_zod_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hono/zod-validator */ \"(rsc)/./node_modules/@hono/zod-validator/dist/esm/index.js\");\n/* harmony import */ var _schemas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../schemas */ \"(rsc)/./src/features/tasks/schemas.ts\");\n/* harmony import */ var _lib_session_middleware__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/session-middleware */ \"(rsc)/./src/lib/session-middleware.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/config */ \"(rsc)/./src/config.ts\");\n/* harmony import */ var node_appwrite__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! node-appwrite */ \"(rsc)/./node_modules/node-appwrite/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../types */ \"(rsc)/./src/features/tasks/types.ts\");\n/* harmony import */ var _lib_appwrite__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/appwrite */ \"(rsc)/./src/lib/appwrite.ts\");\n/* eslint-disable @typescript-eslint/no-unused-vars */ \n\n\n\n\n // TODO: pending code from Jessica\n\n\n\n\nconst app = new hono__WEBPACK_IMPORTED_MODULE_0__.Hono();\napp.get(\"/\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_4__.sessionMiddleware, (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_2__.zValidator)(\"query\", zod__WEBPACK_IMPORTED_MODULE_9__.z.object({\n    workspaceId: zod__WEBPACK_IMPORTED_MODULE_9__.z.string(),\n    projectId: zod__WEBPACK_IMPORTED_MODULE_9__.z.string().nullish(),\n    assigneeId: zod__WEBPACK_IMPORTED_MODULE_9__.z.string().nullish(),\n    status: zod__WEBPACK_IMPORTED_MODULE_9__.z.nativeEnum(_types__WEBPACK_IMPORTED_MODULE_7__.TaskStatus).nullish(),\n    search: zod__WEBPACK_IMPORTED_MODULE_9__.z.string().nullish(),\n    dueDate: zod__WEBPACK_IMPORTED_MODULE_9__.z.string().nullish()\n})), async (c)=>{\n    const { users } = await (0,_lib_appwrite__WEBPACK_IMPORTED_MODULE_8__.createAdminClient)(); // UPDATE: added within createAdminClient get Users()\n    const databases = c.get(\"databases\");\n    const user = c.get(\"user\");\n    const { workspaceId, projectId, status, search, assigneeId, dueDate } = c.req.valid(\"query\");\n    const member = await (0,_features_members_utils__WEBPACK_IMPORTED_MODULE_1__.getMember)({\n        databases,\n        workspaceId,\n        userId: user.$id\n    });\n    if (!member) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    const query = [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.equal(\"workspaceId\", workspaceId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.orderDesc(\"$createdAt\")\n    ];\n    if (projectId) {\n        console.log(\"projectId:\", projectId);\n        query.push(node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.equal(\"projectId\", projectId));\n    }\n    if (status) {\n        console.log(\"status:\", status);\n        query.push(node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.equal(\"status\", status));\n    }\n    if (assigneeId) {\n        console.log(\"assigneeId:\", assigneeId);\n        query.push(node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.equal(\"assigneeId\", assigneeId));\n    }\n    if (dueDate) {\n        console.log(\"dueDate:\", dueDate);\n        query.push(node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.equal(\"dueDate\", dueDate));\n    }\n    if (search) {\n        console.log(\"search:\", search);\n        query.push(node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.search(\"name\", search));\n    }\n    const tasks = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_5__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_5__.TASKS_ID, query);\n    const projectIds = tasks.documents.map((task)=>task.projectId);\n    const assigneeIds = tasks.documents.map((task)=>task.assigneeId);\n    const projects = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_5__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_5__.PROJECTS_ID, projectIds.length > 0 ? [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.contains(\"$id\", projectIds)\n    ] : []);\n    const members = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_5__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_5__.MEMBERS_ID, assigneeIds.length > 0 ? [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.contains(\"$id\", assigneeIds)\n    ] : []);\n    const assignees = await Promise.all(members.documents.map(async (member)=>{\n        try {\n            const user = await users.get(member.userId);\n            return {\n                ...member,\n                name: user.name,\n                email: user.email\n            };\n        } catch (error) {\n            // If we can't get user data, use the member's name or a fallback\n            return {\n                ...member,\n                name: member.name || `User ${member.userId.substring(0, 8)}`,\n                email: \"unknown@example.com\"\n            };\n        }\n    }));\n    const populatedTasks = tasks.documents.map((task)=>{\n        const project = projects.documents.find((proj)=>proj.$id === task.projectId);\n        const assignee = assignees.find((asg)=>asg.$id === task.assigneeId);\n        return {\n            ...task,\n            project,\n            assignee\n        };\n    });\n    return c.json({\n        data: {\n            ...tasks,\n            documents: populatedTasks\n        }\n    });\n});\napp.post(\"/\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_4__.sessionMiddleware, (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_2__.zValidator)(\"json\", _schemas__WEBPACK_IMPORTED_MODULE_3__.createTaskSchema), async (c)=>{\n    const user = c.get(\"user\");\n    const databases = c.get(\"databases\");\n    const { name, status, workspaceId, projectId, dueDate, assigneeId } = c.req.valid(\"json\");\n    const member = await (0,_features_members_utils__WEBPACK_IMPORTED_MODULE_1__.getMember)({\n        databases,\n        workspaceId,\n        userId: user.$id\n    });\n    if (!member) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    const highestPositionTask = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_5__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_5__.TASKS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.equal(\"status\", status),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.equal(\"workspaceId\", workspaceId),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.orderAsc(\"position\"),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_6__.Query.limit(1)\n    ]);\n    const newPosition = highestPositionTask.documents.length > 0 ? highestPositionTask.documents[0].position + 1000 : 1000;\n    const task = await databases.createDocument(_config__WEBPACK_IMPORTED_MODULE_5__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_5__.TASKS_ID, node_appwrite__WEBPACK_IMPORTED_MODULE_6__.ID.unique(), {\n        name,\n        status,\n        workspaceId,\n        projectId,\n        dueDate,\n        assigneeId,\n        position: newPosition\n    });\n    return c.json({\n        data: task\n    });\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvdGFza3Mvc2VydmVyL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0RBQW9ELEdBQ3hCO0FBQ3lCO0FBQ0o7QUFDSDtBQUNlO0FBQ2EsQ0FBQyxrQ0FBa0M7QUFDbkU7QUFDbEI7QUFDbUI7QUFFUTtBQUluRCxNQUFNYyxNQUFNLElBQUlkLHNDQUFJQTtBQUVwQmMsSUFBSUMsR0FBRyxDQUNILEtBQ0FYLHNFQUFpQkEsRUFDakJGLCtEQUFVQSxDQUNOLFNBQ0FTLGtDQUFDQSxDQUFDSyxNQUFNLENBQUM7SUFDTEMsYUFBYU4sa0NBQUNBLENBQUNPLE1BQU07SUFDckJDLFdBQVdSLGtDQUFDQSxDQUFDTyxNQUFNLEdBQUdFLE9BQU87SUFDN0JDLFlBQVlWLGtDQUFDQSxDQUFDTyxNQUFNLEdBQUdFLE9BQU87SUFDOUJFLFFBQVFYLGtDQUFDQSxDQUFDWSxVQUFVLENBQUNYLDhDQUFVQSxFQUFFUSxPQUFPO0lBQ3hDSSxRQUFRYixrQ0FBQ0EsQ0FBQ08sTUFBTSxHQUFHRSxPQUFPO0lBQzFCSyxTQUFTZCxrQ0FBQ0EsQ0FBQ08sTUFBTSxHQUFHRSxPQUFPO0FBQy9CLEtBRUosT0FBT007SUFDSCxNQUFNLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1kLGdFQUFpQkEsSUFBSSxxREFBcUQ7SUFDbEcsTUFBTWUsWUFBWUYsRUFBRVgsR0FBRyxDQUFDO0lBQ3hCLE1BQU1jLE9BQU9ILEVBQUVYLEdBQUcsQ0FBQztJQUVuQixNQUFNLEVBQUVFLFdBQVcsRUFBRUUsU0FBUyxFQUFFRyxNQUFNLEVBQUVFLE1BQU0sRUFBRUgsVUFBVSxFQUFFSSxPQUFPLEVBQUUsR0FBR0MsRUFBRUksR0FBRyxDQUFDQyxLQUFLLENBQUM7SUFFcEYsTUFBTUMsU0FBUyxNQUFNL0Isa0VBQVNBLENBQUM7UUFDM0IyQjtRQUNBWDtRQUNBZ0IsUUFBUUosS0FBS0ssR0FBRztJQUNwQjtJQUVBLElBQUksQ0FBQ0YsUUFBUTtRQUNU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VTZDLGNBQWMsQ0FBQ3BFLGdEQUFXQSxFQUFFQyw2Q0FBUUEsRUFBRUcsNkNBQUVBLENBQUNpRSxNQUFNLElBQUk7UUFDNUVqQjtRQUNBbkM7UUFDQUw7UUFDQUU7UUFDQU07UUFDQUo7UUFDQW1ELFVBQVVEO0lBQ2Q7SUFFQSxPQUFPN0MsRUFBRVMsSUFBSSxDQUFDO1FBQUUrQixNQUFNbEI7SUFBSztBQUMvQjtBQUdKLGlFQUFlbEMsR0FBR0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb3dib2FyZC8uL3NyYy9mZWF0dXJlcy90YXNrcy9zZXJ2ZXIvcm91dGUudHM/ZjViYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IEhvbm8gfSBmcm9tIFwiaG9ub1wiO1xuaW1wb3J0IHsgZ2V0TWVtYmVyIH0gZnJvbSBcIkAvZmVhdHVyZXMvbWVtYmVycy91dGlsc1wiO1xuaW1wb3J0IHsgelZhbGlkYXRvciB9IGZyb20gXCJAaG9uby96b2QtdmFsaWRhdG9yXCI7XG5pbXBvcnQgeyBjcmVhdGVUYXNrU2NoZW1hIH0gZnJvbSBcIi4uL3NjaGVtYXNcIjtcbmltcG9ydCB7IHNlc3Npb25NaWRkbGV3YXJlIH0gZnJvbSBcIkAvbGliL3Nlc3Npb24tbWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgREFUQUJBU0VfSUQsIFRBU0tTX0lELCBNRU1CRVJTX0lELCBQUk9KRUNUU19JRCB9IGZyb20gXCJAL2NvbmZpZ1wiOyAvLyBUT0RPOiBwZW5kaW5nIGNvZGUgZnJvbSBKZXNzaWNhXG5pbXBvcnQgeyBJRCwgUXVlcnkgfSBmcm9tIFwibm9kZS1hcHB3cml0ZVwiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IFRhc2tTdGF0dXMsIFRhc2t9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCJAL2ZlYXR1cmVzL3Byb2plY3RzL3R5cGVzXCI7IC8vIFRPRE86IHBlbmRpbmcgY29kZSBmcm9tIEplc3NpY2EgXG5pbXBvcnQgeyBjcmVhdGVBZG1pbkNsaWVudCB9IGZyb20gXCJAL2xpYi9hcHB3cml0ZVwiO1xuXG5cbiAgICBcbmNvbnN0IGFwcCA9IG5ldyBIb25vKCk7XG5cbmFwcC5nZXQoXG4gICAgXCIvXCIsXG4gICAgc2Vzc2lvbk1pZGRsZXdhcmUsXG4gICAgelZhbGlkYXRvcihcbiAgICAgICAgXCJxdWVyeVwiLFxuICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICB3b3Jrc3BhY2VJZDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIHByb2plY3RJZDogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgICAgICAgICBhc3NpZ25lZUlkOiB6LnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgICAgICAgIHN0YXR1czogei5uYXRpdmVFbnVtKFRhc2tTdGF0dXMpLm51bGxpc2goKSxcbiAgICAgICAgICAgIHNlYXJjaDogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgICAgICAgICBkdWVEYXRlOiB6LnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgICAgfSlcbiAgICApLFxuICAgIGFzeW5jIChjKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdXNlcnMgfSA9IGF3YWl0IGNyZWF0ZUFkbWluQ2xpZW50KCk7IC8vIFVQREFURTogYWRkZWQgd2l0aGluIGNyZWF0ZUFkbWluQ2xpZW50IGdldCBVc2VycygpXG4gICAgICAgIGNvbnN0IGRhdGFiYXNlcyA9IGMuZ2V0KFwiZGF0YWJhc2VzXCIpO1xuICAgICAgICBjb25zdCB1c2VyID0gYy5nZXQoXCJ1c2VyXCIpO1xuXG4gICAgICAgIGNvbnN0IHsgd29ya3NwYWNlSWQsIHByb2plY3RJZCwgc3RhdHVzLCBzZWFyY2gsIGFzc2lnbmVlSWQsIGR1ZURhdGUgfSA9IGMucmVxLnZhbGlkKFwicXVlcnlcIik7XG5cbiAgICAgICAgY29uc3QgbWVtYmVyID0gYXdhaXQgZ2V0TWVtYmVyKHtcbiAgICAgICAgICAgIGRhdGFiYXNlcyxcbiAgICAgICAgICAgIHdvcmtzcGFjZUlkLFxuICAgICAgICAgICAgdXNlcklkOiB1c2VyLiRpZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFtZW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCA0MDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSBbXG4gICAgICAgICAgICBRdWVyeS5lcXVhbChcIndvcmtzcGFjZUlkXCIsIHdvcmtzcGFjZUlkKSxcbiAgICAgICAgICAgIFF1ZXJ5Lm9yZGVyRGVzYyhcIiRjcmVhdGVkQXRcIiksXG4gICAgICAgIF07XG5cbiAgICAgICAgaWYgKHByb2plY3RJZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcm9qZWN0SWQ6XCIsIHByb2plY3RJZCk7XG4gICAgICAgICAgICBxdWVyeS5wdXNoKFF1ZXJ5LmVxdWFsKFwicHJvamVjdElkXCIsIHByb2plY3RJZCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXR1cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdGF0dXM6XCIsIHN0YXR1cyk7XG4gICAgICAgICAgICBxdWVyeS5wdXNoKFF1ZXJ5LmVxdWFsKFwic3RhdHVzXCIsIHN0YXR1cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFzc2lnbmVlSWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYXNzaWduZWVJZDpcIiwgYXNzaWduZWVJZCk7XG4gICAgICAgICAgICBxdWVyeS5wdXNoKFF1ZXJ5LmVxdWFsKFwiYXNzaWduZWVJZFwiLCBhc3NpZ25lZUlkKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHVlRGF0ZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkdWVEYXRlOlwiLCBkdWVEYXRlKTtcbiAgICAgICAgICAgIHF1ZXJ5LnB1c2goUXVlcnkuZXF1YWwoXCJkdWVEYXRlXCIsIGR1ZURhdGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWFyY2gpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VhcmNoOlwiLCBzZWFyY2gpO1xuICAgICAgICAgICAgcXVlcnkucHVzaChRdWVyeS5zZWFyY2goXCJuYW1lXCIsIHNlYXJjaCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGFza3MgPSBhd2FpdCBkYXRhYmFzZXMubGlzdERvY3VtZW50czxUYXNrPihEQVRBQkFTRV9JRCwgVEFTS1NfSUQsIHF1ZXJ5KTtcblxuICAgICAgICBjb25zdCBwcm9qZWN0SWRzID0gdGFza3MuZG9jdW1lbnRzLm1hcCgodGFzaykgPT4gdGFzay5wcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCBhc3NpZ25lZUlkcyA9IHRhc2tzLmRvY3VtZW50cy5tYXAoKHRhc2spID0+IHRhc2suYXNzaWduZWVJZCk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCBkYXRhYmFzZXMubGlzdERvY3VtZW50czxQcm9qZWN0PihcbiAgICAgICAgICAgIERBVEFCQVNFX0lELFxuICAgICAgICAgICAgUFJPSkVDVFNfSUQsXG4gICAgICAgICAgICBwcm9qZWN0SWRzLmxlbmd0aCA+IDAgPyBbUXVlcnkuY29udGFpbnMoXCIkaWRcIiwgcHJvamVjdElkcyldIDogW11cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBtZW1iZXJzID0gYXdhaXQgZGF0YWJhc2VzLmxpc3REb2N1bWVudHMoXG4gICAgICAgICAgICBEQVRBQkFTRV9JRCxcbiAgICAgICAgICAgIE1FTUJFUlNfSUQsXG4gICAgICAgICAgICBhc3NpZ25lZUlkcy5sZW5ndGggPiAwID8gW1F1ZXJ5LmNvbnRhaW5zKFwiJGlkXCIsIGFzc2lnbmVlSWRzKV0gOiBbXVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGFzc2lnbmVlcyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgbWVtYmVycy5kb2N1bWVudHMubWFwKGFzeW5jIChtZW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlcnMuZ2V0KG1lbWJlci51c2VySWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgY2FuJ3QgZ2V0IHVzZXIgZGF0YSwgdXNlIHRoZSBtZW1iZXIncyBuYW1lIG9yIGEgZmFsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1lbWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG1lbWJlci5uYW1lIHx8IGBVc2VyICR7bWVtYmVyLnVzZXJJZC5zdWJzdHJpbmcoMCwgOCl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBcInVua25vd25AZXhhbXBsZS5jb21cIixcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHBvcHVsYXRlZFRhc2tzID0gdGFza3MuZG9jdW1lbnRzLm1hcCgodGFzaykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RzLmRvY3VtZW50cy5maW5kKChwcm9qKSA9PiBwcm9qLiRpZCA9PT0gdGFzay5wcm9qZWN0SWQpO1xuICAgICAgICAgICAgY29uc3QgYXNzaWduZWUgPSBhc3NpZ25lZXMuZmluZCgoYXNnKSA9PiBhc2cuJGlkID09PSB0YXNrLmFzc2lnbmVlSWQpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnRhc2ssXG4gICAgICAgICAgICAgICAgcHJvamVjdCxcbiAgICAgICAgICAgICAgICBhc3NpZ25lZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjLmpzb24oe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIC4uLnRhc2tzLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50czogcG9wdWxhdGVkVGFza3MsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4pO1xuXG5hcHAucG9zdChcbiAgICBcIi9cIixcbiAgICBzZXNzaW9uTWlkZGxld2FyZSxcbiAgICB6VmFsaWRhdG9yKFwianNvblwiLCBjcmVhdGVUYXNrU2NoZW1hKSxcbiAgICBhc3luYyAoYykgPT4ge1xuICAgICAgICBjb25zdCB1c2VyID0gYy5nZXQoXCJ1c2VyXCIpO1xuICAgICAgICBjb25zdCBkYXRhYmFzZXMgPSBjLmdldChcImRhdGFiYXNlc1wiKTtcblxuICAgICAgICBjb25zdCB7IG5hbWUsIHN0YXR1cywgd29ya3NwYWNlSWQsIHByb2plY3RJZCwgZHVlRGF0ZSwgYXNzaWduZWVJZCB9ID0gYy5yZXEudmFsaWQoXCJqc29uXCIpO1xuXG4gICAgICAgIGNvbnN0IG1lbWJlciA9IGF3YWl0IGdldE1lbWJlcih7XG4gICAgICAgICAgICBkYXRhYmFzZXMsXG4gICAgICAgICAgICB3b3Jrc3BhY2VJZCxcbiAgICAgICAgICAgIHVzZXJJZDogdXNlci4kaWQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghbWVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gYy5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgNDAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhpZ2hlc3RQb3NpdGlvblRhc2sgPSBhd2FpdCBkYXRhYmFzZXMubGlzdERvY3VtZW50cyhEQVRBQkFTRV9JRCwgVEFTS1NfSUQsIFtcbiAgICAgICAgICAgIFF1ZXJ5LmVxdWFsKFwic3RhdHVzXCIsIHN0YXR1cyksXG4gICAgICAgICAgICBRdWVyeS5lcXVhbChcIndvcmtzcGFjZUlkXCIsIHdvcmtzcGFjZUlkKSxcbiAgICAgICAgICAgIFF1ZXJ5Lm9yZGVyQXNjKFwicG9zaXRpb25cIiksXG4gICAgICAgICAgICBRdWVyeS5saW1pdCgxKSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgY29uc3QgbmV3UG9zaXRpb24gPVxuICAgICAgICAgICAgaGlnaGVzdFBvc2l0aW9uVGFzay5kb2N1bWVudHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gaGlnaGVzdFBvc2l0aW9uVGFzay5kb2N1bWVudHNbMF0ucG9zaXRpb24gKyAxMDAwXG4gICAgICAgICAgICAgICAgOiAxMDAwO1xuXG4gICAgICAgIGNvbnN0IHRhc2sgPSBhd2FpdCBkYXRhYmFzZXMuY3JlYXRlRG9jdW1lbnQoREFUQUJBU0VfSUQsIFRBU0tTX0lELCBJRC51bmlxdWUoKSwge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgIHdvcmtzcGFjZUlkLFxuICAgICAgICAgICAgcHJvamVjdElkLFxuICAgICAgICAgICAgZHVlRGF0ZSxcbiAgICAgICAgICAgIGFzc2lnbmVlSWQsXG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3UG9zaXRpb24sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjLmpzb24oeyBkYXRhOiB0YXNrIH0pO1xuICAgIH1cbik7XG5cbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiJdLCJuYW1lcyI6WyJIb25vIiwiZ2V0TWVtYmVyIiwielZhbGlkYXRvciIsImNyZWF0ZVRhc2tTY2hlbWEiLCJzZXNzaW9uTWlkZGxld2FyZSIsIkRBVEFCQVNFX0lEIiwiVEFTS1NfSUQiLCJNRU1CRVJTX0lEIiwiUFJPSkVDVFNfSUQiLCJJRCIsIlF1ZXJ5IiwieiIsIlRhc2tTdGF0dXMiLCJjcmVhdGVBZG1pbkNsaWVudCIsImFwcCIsImdldCIsIm9iamVjdCIsIndvcmtzcGFjZUlkIiwic3RyaW5nIiwicHJvamVjdElkIiwibnVsbGlzaCIsImFzc2lnbmVlSWQiLCJzdGF0dXMiLCJuYXRpdmVFbnVtIiwic2VhcmNoIiwiZHVlRGF0ZSIsImMiLCJ1c2VycyIsImRhdGFiYXNlcyIsInVzZXIiLCJyZXEiLCJ2YWxpZCIsIm1lbWJlciIsInVzZXJJZCIsIiRpZCIsImpzb24iLCJlcnJvciIsInF1ZXJ5IiwiZXF1YWwiLCJvcmRlckRlc2MiLCJjb25zb2xlIiwibG9nIiwicHVzaCIsInRhc2tzIiwibGlzdERvY3VtZW50cyIsInByb2plY3RJZHMiLCJkb2N1bWVudHMiLCJtYXAiLCJ0YXNrIiwiYXNzaWduZWVJZHMiLCJwcm9qZWN0cyIsImxlbmd0aCIsImNvbnRhaW5zIiwibWVtYmVycyIsImFzc2lnbmVlcyIsIlByb21pc2UiLCJhbGwiLCJuYW1lIiwiZW1haWwiLCJzdWJzdHJpbmciLCJwb3B1bGF0ZWRUYXNrcyIsInByb2plY3QiLCJmaW5kIiwicHJvaiIsImFzc2lnbmVlIiwiYXNnIiwiZGF0YSIsInBvc3QiLCJoaWdoZXN0UG9zaXRpb25UYXNrIiwib3JkZXJBc2MiLCJsaW1pdCIsIm5ld1Bvc2l0aW9uIiwicG9zaXRpb24iLCJjcmVhdGVEb2N1bWVudCIsInVuaXF1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/features/tasks/server/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/tasks/types.ts":
/*!*************************************!*\
  !*** ./src/features/tasks/types.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TaskStatus: () => (/* binding */ TaskStatus)\n/* harmony export */ });\nvar TaskStatus;\n(function(TaskStatus) {\n    TaskStatus[\"BACKLOG\"] = \"BACKLOG\";\n    TaskStatus[\"TODO\"] = \"TODO\";\n    TaskStatus[\"IN_PROGRESS\"] = \"IN_PROGRESS\";\n    TaskStatus[\"IN_REVIEW\"] = \"IN_REVIEW\";\n    TaskStatus[\"DONE\"] = \"DONE\";\n})(TaskStatus || (TaskStatus = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvdGFza3MvdHlwZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7VUFDWUE7Ozs7OztHQUFBQSxlQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb3dib2FyZC8uL3NyYy9mZWF0dXJlcy90YXNrcy90eXBlcy50cz9iYWJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vZGVscyB9IGZyb20gXCJub2RlLWFwcHdyaXRlXCJcbmV4cG9ydCBlbnVtIFRhc2tTdGF0dXMge1xuICAgIEJBQ0tMT0cgPSBcIkJBQ0tMT0dcIixcbiAgICBUT0RPID0gXCJUT0RPXCIsXG4gICAgSU5fUFJPR1JFU1MgPSBcIklOX1BST0dSRVNTXCIsXG4gICAgSU5fUkVWSUVXID0gXCJJTl9SRVZJRVdcIixcbiAgICBET05FID0gXCJET05FXCIsXG59XG5cblxuZXhwb3J0IHR5cGUgVGFzayA9IE1vZGVscy5Eb2N1bWVudCAmIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgc3RhdHVzOiBUYXNrU3RhdHVzO1xuICAgIGFzc2lnbmVlSWQ6IHN0cmluZzsgXG4gICAgcHJvamVjdElkOiBzdHJpbmc7XG4gICAgcG9zaXRpb246IG51bWJlcjtcbiAgICBkdWVEYXRlOiBzdHJpbmc7XG4gICAgfVxuICAgIFxuIl0sIm5hbWVzIjpbIlRhc2tTdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/features/tasks/types.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/workspaces/schemas.ts":
/*!********************************************!*\
  !*** ./src/features/workspaces/schemas.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createWorkspaceSchema: () => (/* binding */ createWorkspaceSchema),\n/* harmony export */   updateWorkspaceSchema: () => (/* binding */ updateWorkspaceSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n\nconst createWorkspaceSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().trim().min(1, \"required\"),\n    image: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.instanceof(File),\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.string().transform((value)=>value === \"\" ? undefined : value)\n    ]).optional()\n});\nconst updateWorkspaceSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().trim().min(1, \"Must be 1 or more characters\").optional(),\n    image: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n        typeof File !== \"undefined\" ? zod__WEBPACK_IMPORTED_MODULE_0__.z.instanceof(File) : zod__WEBPACK_IMPORTED_MODULE_0__.z.never(),\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.string().transform((value)=>value === \"\" ? undefined : value)\n    ]).optional()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvd29ya3NwYWNlcy9zY2hlbWFzLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzQjtBQUVmLE1BQU1DLHdCQUF3QkQsa0NBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUMxQ0MsTUFBTUgsa0NBQUNBLENBQUNJLE1BQU0sR0FBR0MsSUFBSSxHQUFHQyxHQUFHLENBQUMsR0FBRztJQUMvQkMsT0FBT1Asa0NBQUNBLENBQUNRLEtBQUssQ0FBQztRQUNYUixrQ0FBQ0EsQ0FBQ1MsVUFBVSxDQUFDQztRQUNiVixrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHTyxTQUFTLENBQUMsQ0FBQ0MsUUFBVUEsVUFBVSxLQUFLQyxZQUFZRDtLQUM5RCxFQUNJRSxRQUFRO0FBQ2pCLEdBQUU7QUFFSyxNQUFNQyx3QkFBd0JmLGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDMUNDLE1BQU1ILGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLElBQUksR0FBR0MsR0FBRyxDQUFDLEdBQUcsZ0NBQWdDUSxRQUFRO0lBQ3ZFUCxPQUFPUCxrQ0FBQ0EsQ0FBQ1EsS0FBSyxDQUFDO1FBQ1gsT0FBT0UsU0FBUyxjQUFjVixrQ0FBQ0EsQ0FBQ1MsVUFBVSxDQUFDQyxRQUFRVixrQ0FBQ0EsQ0FBQ2dCLEtBQUs7UUFDMURoQixrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHTyxTQUFTLENBQUMsQ0FBQ0MsUUFBZUEsVUFBVSxLQUFLQyxZQUFZRDtLQUNuRSxFQUFFRSxRQUFRO0FBQ2YsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb3dib2FyZC8uL3NyYy9mZWF0dXJlcy93b3Jrc3BhY2VzL3NjaGVtYXMudHM/OGU1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3p9IGZyb20gXCJ6b2RcIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVdvcmtzcGFjZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBuYW1lOiB6LnN0cmluZygpLnRyaW0oKS5taW4oMSwgXCJyZXF1aXJlZFwiKSxcbiAgICBpbWFnZTogei51bmlvbihbXG4gICAgICAgIHouaW5zdGFuY2VvZihGaWxlKSxcbiAgICAgICAgei5zdHJpbmcoKS50cmFuc2Zvcm0oKHZhbHVlKSA9PiB2YWx1ZSA9PT0gXCJcIiA/IHVuZGVmaW5lZCA6IHZhbHVlKSxcbiAgICBdKVxuICAgICAgICAub3B0aW9uYWwoKSxcbn0pXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVXb3Jrc3BhY2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgbmFtZTogei5zdHJpbmcoKS50cmltKCkubWluKDEsIFwiTXVzdCBiZSAxIG9yIG1vcmUgY2hhcmFjdGVyc1wiKS5vcHRpb25hbCgpLFxuICAgIGltYWdlOiB6LnVuaW9uKFtcbiAgICAgICAgdHlwZW9mIEZpbGUgIT09IFwidW5kZWZpbmVkXCIgPyB6Lmluc3RhbmNlb2YoRmlsZSkgOiB6Lm5ldmVyKCksIFxuICAgICAgICB6LnN0cmluZygpLnRyYW5zZm9ybSgodmFsdWU6IGFueSkgPT4gdmFsdWUgPT09IFwiXCIgPyB1bmRlZmluZWQgOiB2YWx1ZSksXG4gICAgXSkub3B0aW9uYWwoKSxcbn0pOyJdLCJuYW1lcyI6WyJ6IiwiY3JlYXRlV29ya3NwYWNlU2NoZW1hIiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsInRyaW0iLCJtaW4iLCJpbWFnZSIsInVuaW9uIiwiaW5zdGFuY2VvZiIsIkZpbGUiLCJ0cmFuc2Zvcm0iLCJ2YWx1ZSIsInVuZGVmaW5lZCIsIm9wdGlvbmFsIiwidXBkYXRlV29ya3NwYWNlU2NoZW1hIiwibmV2ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/features/workspaces/schemas.ts\n");

/***/ }),

/***/ "(rsc)/./src/features/workspaces/server/route.ts":
/*!*************************************************!*\
  !*** ./src/features/workspaces/server/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var hono__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hono */ \"(rsc)/./node_modules/hono/dist/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _hono_zod_validator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hono/zod-validator */ \"(rsc)/./node_modules/@hono/zod-validator/dist/esm/index.js\");\n/* harmony import */ var _features_workspaces_schemas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/features/workspaces/schemas */ \"(rsc)/./src/features/workspaces/schemas.ts\");\n/* harmony import */ var _lib_session_middleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/session-middleware */ \"(rsc)/./src/lib/session-middleware.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/config */ \"(rsc)/./src/config.ts\");\n/* harmony import */ var node_appwrite__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! node-appwrite */ \"(rsc)/./node_modules/node-appwrite/dist/index.mjs\");\n/* harmony import */ var _features_members_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/features/members/type */ \"(rsc)/./src/features/members/type.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./src/lib/utils.ts\");\n/* harmony import */ var _features_members_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/features/members/utils */ \"(rsc)/./src/features/members/utils.ts\");\n\n\n\n\n\n\n\n\n\n\nconst app = new hono__WEBPACK_IMPORTED_MODULE_0__.Hono().get(\"/\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_3__.sessionMiddleware, async (c)=>{\n    const databases = c.get(\"databases\");\n    const user = c.get(\"user\");\n    const member = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_4__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_4__.MEMBERS_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.equal(\"userId\", user.$id)\n    ]);\n    if (member.total == 0) {\n        return c.json({\n            data: {\n                documents: [],\n                total: 0\n            }\n        });\n    }\n    const workspaceIds = member.documents.map((member)=>member.workspaceId);\n    const workspaces = await databases.listDocuments(_config__WEBPACK_IMPORTED_MODULE_4__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_4__.WORKSPACES_ID, [\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.orderDesc(\"$createdAt\"),\n        node_appwrite__WEBPACK_IMPORTED_MODULE_5__.Query.contains(\"$id\", workspaceIds)\n    ]);\n    return c.json({\n        data: workspaces\n    });\n}).post(\"/\", (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_1__.zValidator)(\"form\", _features_workspaces_schemas__WEBPACK_IMPORTED_MODULE_2__.createWorkspaceSchema), _lib_session_middleware__WEBPACK_IMPORTED_MODULE_3__.sessionMiddleware, async (c)=>{\n    const databases = c.get(\"databases\");\n    const storage = c.get(\"storage\");\n    const user = c.get(\"user\");\n    const { name, image } = c.req.valid(\"form\");\n    let uploadedImageUrl;\n    if (image instanceof File) {\n        const file = await storage.createFile(_config__WEBPACK_IMPORTED_MODULE_4__.IMAGES_BUCKET_ID, node_appwrite__WEBPACK_IMPORTED_MODULE_5__.ID.unique(), image);\n        const arrayBuffer = await storage.getFilePreview(_config__WEBPACK_IMPORTED_MODULE_4__.IMAGES_BUCKET_ID, file.$id);\n        uploadedImageUrl = `data:image/png;base64,${Buffer.from(arrayBuffer).toString(\"base64\")}`;\n    }\n    const workspace = await databases.createDocument(_config__WEBPACK_IMPORTED_MODULE_4__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_4__.WORKSPACES_ID, node_appwrite__WEBPACK_IMPORTED_MODULE_5__.ID.unique(), {\n        name,\n        userId: user.$id,\n        imageUrl: uploadedImageUrl,\n        inviteCode: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.generateInviteCode)(6)\n    });\n    await databases.createDocument(_config__WEBPACK_IMPORTED_MODULE_4__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_4__.MEMBERS_ID, node_appwrite__WEBPACK_IMPORTED_MODULE_5__.ID.unique(), {\n        userId: user.$id,\n        workspaceId: workspace.$id,\n        role: _features_members_type__WEBPACK_IMPORTED_MODULE_6__.MemberRole.ADMIN,\n        name: user.name\n    });\n    return c.json({\n        data: workspace\n    });\n});\n// Update workspace details\napp.patch(\"/:workspaceId\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_3__.sessionMiddleware, (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_1__.zValidator)(\"form\", _features_workspaces_schemas__WEBPACK_IMPORTED_MODULE_2__.updateWorkspaceSchema), async (c)=>{\n    const databases = c.get(\"databases\");\n    const storage = c.get(\"storage\");\n    const user = c.get(\"user\");\n    const { workspaceId } = c.req.param();\n    const { name, image } = c.req.valid(\"form\");\n    const member = await (0,_features_members_utils__WEBPACK_IMPORTED_MODULE_8__.getMember)({\n        databases,\n        workspaceId,\n        userId: user.$id\n    });\n    if (!member || member.role !== _features_members_type__WEBPACK_IMPORTED_MODULE_6__.MemberRole.ADMIN) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    let uploadedImageUrl;\n    if (image instanceof File) {\n        const file = await storage.createFile(_config__WEBPACK_IMPORTED_MODULE_4__.IMAGES_BUCKET_ID, node_appwrite__WEBPACK_IMPORTED_MODULE_5__.ID.unique(), image);\n        const arrayBuffer = await storage.getFilePreview(_config__WEBPACK_IMPORTED_MODULE_4__.IMAGES_BUCKET_ID, file.$id);\n        uploadedImageUrl = `data:image/png;base64,${Buffer.from(arrayBuffer).toString(\"base64\")}`;\n    } else {\n        uploadedImageUrl = image;\n    }\n    const workspace = await databases.updateDocument(_config__WEBPACK_IMPORTED_MODULE_4__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_4__.WORKSPACES_ID, workspaceId, {\n        name,\n        imageUrl: uploadedImageUrl\n    });\n    return c.json({\n        data: workspace\n    });\n});\napp.get(\"/current\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_3__.sessionMiddleware, (c)=>{\n    const user = c.get(\"user\");\n    return c.json({\n        data: user\n    });\n}).post(\"/:workspaceId/reset-invite-code\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_3__.sessionMiddleware, async (c)=>{\n    const databases = c.get(\"databases\");\n    const user = c.get(\"user\");\n    const { workspaceId } = c.req.param();\n    const member = await (0,_features_members_utils__WEBPACK_IMPORTED_MODULE_8__.getMember)({\n        databases,\n        workspaceId,\n        userId: user.$id\n    });\n    if (!member || member.role !== _features_members_type__WEBPACK_IMPORTED_MODULE_6__.MemberRole.ADMIN) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    const workspace = await databases.updateDocument(_config__WEBPACK_IMPORTED_MODULE_4__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_4__.WORKSPACES_ID, workspaceId, {\n        inviteCode: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.generateInviteCode)(6)\n    });\n    return c.json({\n        data: workspace\n    });\n}).post(\"/:workspaceId/join\", _lib_session_middleware__WEBPACK_IMPORTED_MODULE_3__.sessionMiddleware, (0,_hono_zod_validator__WEBPACK_IMPORTED_MODULE_1__.zValidator)(\"json\", zod__WEBPACK_IMPORTED_MODULE_9__.z.object({\n    code: zod__WEBPACK_IMPORTED_MODULE_9__.z.string()\n})), async (c)=>{\n    const workspaceId = c.req.param(\"workspaceId\");\n    const { code } = c.req.valid(\"json\");\n    const databases = c.get(\"databases\");\n    const user = c.get(\"user\");\n    const member = await (0,_features_members_utils__WEBPACK_IMPORTED_MODULE_8__.getMember)({\n        databases,\n        workspaceId,\n        userId: user.$id\n    });\n    if (member) {\n        return c.json({\n            error: \"Already a member\"\n        }, 400);\n    }\n    const workspace = await databases.getDocument(_config__WEBPACK_IMPORTED_MODULE_4__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_4__.WORKSPACES_ID, workspaceId);\n    if (workspace.inviteCode !== code) {\n        return c.json({\n            error: \"Invalid invite code\"\n        }, 400);\n    }\n    await databases.createDocument(_config__WEBPACK_IMPORTED_MODULE_4__.DATABASE_ID, _config__WEBPACK_IMPORTED_MODULE_4__.MEMBERS_ID, node_appwrite__WEBPACK_IMPORTED_MODULE_5__.ID.unique(), {\n        userId: user.$id,\n        workspaceId,\n        role: _features_members_type__WEBPACK_IMPORTED_MODULE_6__.MemberRole.MEMBER,\n        name: user.name\n    });\n    return c.json({\n        data: workspace\n    });\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZmVhdHVyZXMvd29ya3NwYWNlcy9zZXJ2ZXIvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBMEI7QUFDSjtBQUN5QjtBQUM0QztBQUNoQztBQUN1QjtBQUMxQztBQUNXO0FBQ0o7QUFDTTtBQUdyRCxNQUFNZSxNQUFNLElBQUlmLHNDQUFJQSxHQUNmZ0IsR0FBRyxDQUFDLEtBQUtYLHNFQUFpQkEsRUFBRSxPQUFPWTtJQUNoQyxNQUFNQyxZQUFZRCxFQUFFRCxHQUFHLENBQUM7SUFDeEIsTUFBTUcsT0FBT0YsRUFBRUQsR0FBRyxDQUFDO0lBRW5CLE1BQU1JLFNBQVMsTUFBTUYsVUFBVUcsYUFBYSxDQUN4Q2YsZ0RBQVdBLEVBQ1hFLCtDQUFVQSxFQUNWO1FBQUNHLGdEQUFLQSxDQUFDVyxLQUFLLENBQUMsVUFBVUgsS0FBS0ksR0FBRztLQUFFO0lBR3JDLElBQUlILE9BQU9JLEtBQUssSUFBSSxHQUFHO1FBQ25CLE9BQU9QLEVBQUVRLElBQUksQ0FBQztZQUFDQyxNQUFNO2dCQUFDQyxXQUFXLEVBQUU7Z0JBQUVILE9BQU87WUFBQztRQUFDO0lBQ2xEO0lBRUEsTUFBTUksZUFBZVIsT0FBT08sU0FBUyxDQUFDRSxHQUFHLENBQUMsQ0FBQ1QsU0FBV0EsT0FBT1UsV0FBVztJQUd4RSxNQUFNQyxhQUFhLE1BQU1iLFVBQVVHLGFBQWEsQ0FDNUNmLGdEQUFXQSxFQUNYRyxrREFBYUEsRUFDYjtRQUFDRSxnREFBS0EsQ0FBQ3FCLFNBQVMsQ0FBQztRQUNickIsZ0RBQUtBLENBQUNzQixRQUFRLENBQUMsT0FBT0w7S0FBYztJQUc1QyxPQUFPWCxFQUFFUSxJQUFJLENBQUM7UUFBQ0MsTUFBTUs7SUFBVTtBQUNuQyxHQUNDRyxJQUFJLENBQUMsS0FBS2hDLCtEQUFVQSxDQUFDLFFBQVFDLCtFQUFxQkEsR0FBR0Usc0VBQWlCQSxFQUNuRSxPQUFPWTtJQUNILE1BQU1DLFlBQVlELEVBQUVELEdBQUcsQ0FBQztJQUN4QixNQUFN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O0lBQzNCLE1BQU1yQixZQUFZRCxFQUFFRCxHQUFHLENBQUM7SUFDeEIsTUFBTUcsT0FBT0YsRUFBRUQsR0FBRyxDQUFDO0lBRW5CLE1BQU1JLFNBQVMsTUFBTU4sa0VBQVNBLENBQUM7UUFDM0JJO1FBQ0FZO1FBQ0FzQixRQUFRakMsS0FBS0ksR0FBRztJQUNwQjtJQUVBLElBQUlILFFBQU87UUFDUCxPQUFPSCxFQUFFUSxJQUFJLENBQUM7WUFBQ2tDLE9BQU87UUFBa0IsR0FBRztJQUMvQztJQUVBLE1BQU1ULFlBQVksTUFBTWhDLFVBQVU4QyxXQUFXLENBQ3pDMUQsZ0RBQVdBLEVBQ1hHLGtEQUFhQSxFQUNicUI7SUFFSixJQUFJb0IsVUFBVUksVUFBVSxLQUFLUSxNQUFLO1FBQzlCLE9BQU83QyxFQUFFUSxJQUFJLENBQUM7WUFBQ2tDLE9BQU87UUFBcUIsR0FBRztJQUNsRDtJQUNBLE1BQU16QyxVQUFVaUMsY0FBYyxDQUMxQjdDLGdEQUFXQSxFQUNYRSwrQ0FBVUEsRUFDVkUsNkNBQUVBLENBQUNrQyxNQUFNLElBQ1Q7UUFDSVEsUUFBUWpDLEtBQUtJLEdBQUc7UUFDaEJPO1FBQ0F5QixNQUFNM0MsOERBQVVBLENBQUNxRCxNQUFNO1FBQ3ZCN0IsTUFBTWpCLEtBQUtpQixJQUFJO0lBQ25CO0lBR1IsT0FBT25CLEVBQUVRLElBQUksQ0FBQztRQUFDQyxNQUFNd0I7SUFBUztBQUM5QjtBQUdKLGlFQUFlbkMsR0FBR0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb3dib2FyZC8uL3NyYy9mZWF0dXJlcy93b3Jrc3BhY2VzL3NlcnZlci9yb3V0ZS50cz9kZjEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SG9ub30gZnJvbSBcImhvbm9cIjtcbmltcG9ydCB7en0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHt6VmFsaWRhdG9yfSBmcm9tIFwiQGhvbm8vem9kLXZhbGlkYXRvclwiO1xuaW1wb3J0IHtjcmVhdGVXb3Jrc3BhY2VTY2hlbWEsIHVwZGF0ZVdvcmtzcGFjZVNjaGVtYX0gZnJvbSBcIkAvZmVhdHVyZXMvd29ya3NwYWNlcy9zY2hlbWFzXCI7XG5pbXBvcnQge3Nlc3Npb25NaWRkbGV3YXJlfSBmcm9tIFwiQC9saWIvc2Vzc2lvbi1taWRkbGV3YXJlXCI7XG5pbXBvcnQge0RBVEFCQVNFX0lELCBJTUFHRVNfQlVDS0VUX0lELCBNRU1CRVJTX0lELCBXT1JLU1BBQ0VTX0lEfSBmcm9tIFwiQC9jb25maWdcIjtcbmltcG9ydCB7SUQsIFF1ZXJ5fSBmcm9tIFwibm9kZS1hcHB3cml0ZVwiO1xuaW1wb3J0IHtNZW1iZXJSb2xlfSBmcm9tIFwiQC9mZWF0dXJlcy9tZW1iZXJzL3R5cGVcIjtcbmltcG9ydCB7Z2VuZXJhdGVJbnZpdGVDb2RlfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldE1lbWJlciB9IGZyb20gXCJAL2ZlYXR1cmVzL21lbWJlcnMvdXRpbHNcIjtcbmltcG9ydCB7IFdvcmtzcGFjZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5jb25zdCBhcHAgPSBuZXcgSG9ubygpXG4gICAgLmdldChcIi9cIiwgc2Vzc2lvbk1pZGRsZXdhcmUsIGFzeW5jIChjKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGFiYXNlcyA9IGMuZ2V0KFwiZGF0YWJhc2VzXCIpO1xuICAgICAgICBjb25zdCB1c2VyID0gYy5nZXQoXCJ1c2VyXCIpO1xuXG4gICAgICAgIGNvbnN0IG1lbWJlciA9IGF3YWl0IGRhdGFiYXNlcy5saXN0RG9jdW1lbnRzKFxuICAgICAgICAgICAgREFUQUJBU0VfSUQsXG4gICAgICAgICAgICBNRU1CRVJTX0lELFxuICAgICAgICAgICAgW1F1ZXJ5LmVxdWFsKFwidXNlcklkXCIsIHVzZXIuJGlkKV1cbiAgICAgICAgKVxuXG4gICAgICAgIGlmIChtZW1iZXIudG90YWwgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGMuanNvbih7ZGF0YToge2RvY3VtZW50czogW10sIHRvdGFsOiAwfX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd29ya3NwYWNlSWRzID0gbWVtYmVyLmRvY3VtZW50cy5tYXAoKG1lbWJlcikgPT4gbWVtYmVyLndvcmtzcGFjZUlkKTtcblxuXG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZXMgPSBhd2FpdCBkYXRhYmFzZXMubGlzdERvY3VtZW50cyhcbiAgICAgICAgICAgIERBVEFCQVNFX0lELFxuICAgICAgICAgICAgV09SS1NQQUNFU19JRCxcbiAgICAgICAgICAgIFtRdWVyeS5vcmRlckRlc2MoXCIkY3JlYXRlZEF0XCIpLFxuICAgICAgICAgICAgICAgIFF1ZXJ5LmNvbnRhaW5zKFwiJGlkXCIsIHdvcmtzcGFjZUlkcyldXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGMuanNvbih7ZGF0YTogd29ya3NwYWNlc30pO1xuICAgIH0pXG4gICAgLnBvc3QoXCIvXCIsIHpWYWxpZGF0b3IoXCJmb3JtXCIsIGNyZWF0ZVdvcmtzcGFjZVNjaGVtYSksIHNlc3Npb25NaWRkbGV3YXJlLFxuICAgICAgICBhc3luYyAoYykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YWJhc2VzID0gYy5nZXQoXCJkYXRhYmFzZXNcIik7XG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlID0gYy5nZXQoXCJzdG9yYWdlXCIpO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGMuZ2V0KFwidXNlclwiKTtcblxuICAgICAgICAgICAgY29uc3Qge25hbWUsIGltYWdlfSA9IGMucmVxLnZhbGlkKFwiZm9ybVwiKTtcblxuICAgICAgICAgICAgbGV0IHVwbG9hZGVkSW1hZ2VVcmw6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgaWYgKGltYWdlIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBzdG9yYWdlLmNyZWF0ZUZpbGUoXG4gICAgICAgICAgICAgICAgICAgIElNQUdFU19CVUNLRVRfSUQsXG4gICAgICAgICAgICAgICAgICAgIElELnVuaXF1ZSgpLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IHN0b3JhZ2UuZ2V0RmlsZVByZXZpZXcoXG4gICAgICAgICAgICAgICAgICAgIElNQUdFU19CVUNLRVRfSUQsXG4gICAgICAgICAgICAgICAgICAgIGZpbGUuJGlkLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB1cGxvYWRlZEltYWdlVXJsID0gYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwke0J1ZmZlci5mcm9tKGFycmF5QnVmZmVyKS50b1N0cmluZyhcImJhc2U2NFwiKX1gXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IGF3YWl0IGRhdGFiYXNlcy5jcmVhdGVEb2N1bWVudChcbiAgICAgICAgICAgICAgICBEQVRBQkFTRV9JRCxcbiAgICAgICAgICAgICAgICBXT1JLU1BBQ0VTX0lELFxuICAgICAgICAgICAgICAgIElELnVuaXF1ZSgpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VyLiRpZCxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IHVwbG9hZGVkSW1hZ2VVcmwsXG4gICAgICAgICAgICAgICAgICAgIGludml0ZUNvZGU6Z2VuZXJhdGVJbnZpdGVDb2RlKDYpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApXG5cbiAgICAgICAgICAgIGF3YWl0IGRhdGFiYXNlcy5jcmVhdGVEb2N1bWVudChcbiAgICAgICAgICAgICAgICBEQVRBQkFTRV9JRCxcbiAgICAgICAgICAgICAgICBNRU1CRVJTX0lELFxuICAgICAgICAgICAgICAgIElELnVuaXF1ZSgpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VyLiRpZCxcbiAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZS4kaWQsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IE1lbWJlclJvbGUuQURNSU4sXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKVxuXG5cbiAgICAgICAgICAgIHJldHVybiBjLmpzb24oe2RhdGE6IHdvcmtzcGFjZX0pO1xuICAgICAgICB9XG4gICAgKVxuO1xuXG4vLyBVcGRhdGUgd29ya3NwYWNlIGRldGFpbHNcbmFwcC5wYXRjaChcbiAgICBcIi86d29ya3NwYWNlSWRcIiwgXG4gICAgc2Vzc2lvbk1pZGRsZXdhcmUsXG4gICAgelZhbGlkYXRvcihcImZvcm1cIiwgdXBkYXRlV29ya3NwYWNlU2NoZW1hKSxcbiAgICBhc3luYyAoYykgPT4ge1xuICAgICAgY29uc3QgZGF0YWJhc2VzID0gYy5nZXQoXCJkYXRhYmFzZXNcIik7XG4gICAgICBjb25zdCBzdG9yYWdlID0gYy5nZXQoXCJzdG9yYWdlXCIpO1xuICAgICAgY29uc3QgdXNlciA9IGMuZ2V0KFwidXNlclwiKTtcbiAgICAgIGNvbnN0IHsgd29ya3NwYWNlSWQgfSA9IGMucmVxLnBhcmFtKCk7XG4gICAgICBjb25zdCB7IG5hbWUsIGltYWdlIH0gPSBjLnJlcS52YWxpZChcImZvcm1cIik7XG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBnZXRNZW1iZXIoe1xuICAgICAgICBkYXRhYmFzZXMsXG4gICAgICAgIHdvcmtzcGFjZUlkLCBcbiAgICAgICAgdXNlcklkOiB1c2VyLiRpZCxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFtZW1iZXIgfHwgbWVtYmVyLnJvbGUgIT09IE1lbWJlclJvbGUuQURNSU4pIHtcbiAgICAgICAgcmV0dXJuIGMuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIDQwMSk7XG4gICAgICB9XG4gICAgICBsZXQgdXBsb2FkZWRJbWFnZVVybDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgaWYgKGltYWdlIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICBjb25zdCBmaWxlID0gYXdhaXQgc3RvcmFnZS5jcmVhdGVGaWxlKElNQUdFU19CVUNLRVRfSUQsIElELnVuaXF1ZSgpLCBpbWFnZSk7XG4gICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgc3RvcmFnZS5nZXRGaWxlUHJldmlldyhJTUFHRVNfQlVDS0VUX0lELCBmaWxlLiRpZCk7XG4gICAgICAgIHVwbG9hZGVkSW1hZ2VVcmwgPSBgZGF0YTppbWFnZS9wbmc7YmFzZTY0LCR7QnVmZmVyLmZyb20oYXJyYXlCdWZmZXIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGxvYWRlZEltYWdlVXJsID0gaW1hZ2U7XG4gICAgICB9XG4gICAgICBjb25zdCB3b3Jrc3BhY2UgPSBhd2FpdCBkYXRhYmFzZXMudXBkYXRlRG9jdW1lbnQoREFUQUJBU0VfSUQsIFdPUktTUEFDRVNfSUQsIHdvcmtzcGFjZUlkLCB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGltYWdlVXJsOiB1cGxvYWRlZEltYWdlVXJsLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYy5qc29uKHsgZGF0YTogd29ya3NwYWNlIH0pO1xuICAgIH1cbiAgKTtcblxuYXBwLmdldChcbiAgICBcIi9jdXJyZW50XCIsXG4gICAgc2Vzc2lvbk1pZGRsZXdhcmUsXG4gICAgKGMpID0+IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGMuZ2V0KFwidXNlclwiKTtcblxuICAgICAgICByZXR1cm4gYy5qc29uKHtkYXRhOiB1c2VyfSk7XG4gICAgfVxuKVxuXG4ucG9zdChcbiAgICBcIi86d29ya3NwYWNlSWQvcmVzZXQtaW52aXRlLWNvZGVcIixcbiAgICBzZXNzaW9uTWlkZGxld2FyZSxcbiAgICBhc3luYyhjKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGFiYXNlcyA9IGMuZ2V0KFwiZGF0YWJhc2VzXCIpO1xuICAgICAgICBjb25zdCB1c2VyID0gYy5nZXQoXCJ1c2VyXCIpO1xuXG4gICAgICAgIGNvbnN0IHt3b3Jrc3BhY2VJZH0gPSBjLnJlcS5wYXJhbSgpO1xuXG4gICAgICAgIGNvbnN0IG1lbWJlciA9YXdhaXQgZ2V0TWVtYmVyKHtcbiAgICAgICAgICAgIGRhdGFiYXNlcyxcbiAgICAgICAgICAgIHdvcmtzcGFjZUlkLFxuICAgICAgICAgICAgdXNlcklkOiB1c2VyLiRpZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFtZW1iZXIgfHwgbWVtYmVyLnJvbGUgIT09IE1lbWJlclJvbGUuQURNSU4pe1xuICAgICAgICAgICAgcmV0dXJuIGMuanNvbih7ZXJyb3I6IFwiVW5hdXRob3JpemVkXCJ9LCA0MDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd29ya3NwYWNlID1hd2FpdCBkYXRhYmFzZXMudXBkYXRlRG9jdW1lbnQoXG4gICAgICAgICAgICBEQVRBQkFTRV9JRCwgV09SS1NQQUNFU19JRCwgd29ya3NwYWNlSWQsXG4gICAgICAgICAgICB7aW52aXRlQ29kZTogZ2VuZXJhdGVJbnZpdGVDb2RlKDYpfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gYy5qc29uKHtkYXRhOiB3b3Jrc3BhY2V9KTtcbiAgICB9XG5cbilcbi5wb3N0KFxuICAgIFwiLzp3b3Jrc3BhY2VJZC9qb2luXCIsXG4gICAgIHNlc3Npb25NaWRkbGV3YXJlLFxuICAgICB6VmFsaWRhdG9yKFwianNvblwiLHoub2JqZWN0KHtjb2RlIDp6LnN0cmluZygpfSkpLFxuICAgICBhc3luYyAoYykgPT4ge1xuICAgICAgICBjb25zdCB3b3Jrc3BhY2VJZCA9IGMucmVxLnBhcmFtKFwid29ya3NwYWNlSWRcIik7XG4gICAgICAgIGNvbnN0IHtjb2RlfSA9IGMucmVxLnZhbGlkKFwianNvblwiKTtcbiAgICAgICAgY29uc3QgZGF0YWJhc2VzID0gYy5nZXQoXCJkYXRhYmFzZXNcIik7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBjLmdldChcInVzZXJcIik7XG5cbiAgICAgICAgY29uc3QgbWVtYmVyID0gYXdhaXQgZ2V0TWVtYmVyKHtcbiAgICAgICAgICAgIGRhdGFiYXNlcyxcbiAgICAgICAgICAgIHdvcmtzcGFjZUlkLFxuICAgICAgICAgICAgdXNlcklkOiB1c2VyLiRpZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG1lbWJlcil7XG4gICAgICAgICAgICByZXR1cm4gYy5qc29uKHtlcnJvcjogXCJBbHJlYWR5IGEgbWVtYmVyXCJ9LCA0MDApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGF0YWJhc2VzLmdldERvY3VtZW50PFdvcmtzcGFjZT4oXG4gICAgICAgICAgICBEQVRBQkFTRV9JRCxcbiAgICAgICAgICAgIFdPUktTUEFDRVNfSUQsXG4gICAgICAgICAgICB3b3Jrc3BhY2VJZCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHdvcmtzcGFjZS5pbnZpdGVDb2RlICE9PSBjb2RlKXtcbiAgICAgICAgICAgIHJldHVybiBjLmpzb24oe2Vycm9yOiBcIkludmFsaWQgaW52aXRlIGNvZGVcIn0sIDQwMCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgZGF0YWJhc2VzLmNyZWF0ZURvY3VtZW50KFxuICAgICAgICAgICAgREFUQUJBU0VfSUQsXG4gICAgICAgICAgICBNRU1CRVJTX0lELFxuICAgICAgICAgICAgSUQudW5pcXVlKCksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXNlcklkOiB1c2VyLiRpZCxcbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2VJZCxcbiAgICAgICAgICAgICAgICByb2xlOiBNZW1iZXJSb2xlLk1FTUJFUixcbiAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgcmV0dXJuIGMuanNvbih7ZGF0YTogd29ya3NwYWNlfSk7XG4gICAgfVxuKVxuXG5leHBvcnQgZGVmYXVsdCBhcHA7XG4iXSwibmFtZXMiOlsiSG9ubyIsInoiLCJ6VmFsaWRhdG9yIiwiY3JlYXRlV29ya3NwYWNlU2NoZW1hIiwidXBkYXRlV29ya3NwYWNlU2NoZW1hIiwic2Vzc2lvbk1pZGRsZXdhcmUiLCJEQVRBQkFTRV9JRCIsIklNQUdFU19CVUNLRVRfSUQiLCJNRU1CRVJTX0lEIiwiV09SS1NQQUNFU19JRCIsIklEIiwiUXVlcnkiLCJNZW1iZXJSb2xlIiwiZ2VuZXJhdGVJbnZpdGVDb2RlIiwiZ2V0TWVtYmVyIiwiYXBwIiwiZ2V0IiwiYyIsImRhdGFiYXNlcyIsInVzZXIiLCJtZW1iZXIiLCJsaXN0RG9jdW1lbnRzIiwiZXF1YWwiLCIkaWQiLCJ0b3RhbCIsImpzb24iLCJkYXRhIiwiZG9jdW1lbnRzIiwid29ya3NwYWNlSWRzIiwibWFwIiwid29ya3NwYWNlSWQiLCJ3b3Jrc3BhY2VzIiwib3JkZXJEZXNjIiwiY29udGFpbnMiLCJwb3N0Iiwic3RvcmFnZSIsIm5hbWUiLCJpbWFnZSIsInJlcSIsInZhbGlkIiwidXBsb2FkZWRJbWFnZVVybCIsIkZpbGUiLCJmaWxlIiwiY3JlYXRlRmlsZSIsInVuaXF1ZSIsImFycmF5QnVmZmVyIiwiZ2V0RmlsZVByZXZpZXciLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJ3b3Jrc3BhY2UiLCJjcmVhdGVEb2N1bWVudCIsInVzZXJJZCIsImltYWdlVXJsIiwiaW52aXRlQ29kZSIsInJvbGUiLCJBRE1JTiIsInBhdGNoIiwicGFyYW0iLCJlcnJvciIsInVwZGF0ZURvY3VtZW50Iiwib2JqZWN0IiwiY29kZSIsInN0cmluZyIsImdldERvY3VtZW50IiwiTUVNQkVSIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/features/workspaces/server/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/appwrite.ts":
/*!*****************************!*\
  !*** ./src/lib/appwrite.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAdminClient: () => (/* binding */ createAdminClient),\n/* harmony export */   createSessionClient: () => (/* binding */ createSessionClient)\n/* harmony export */ });\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! server-only */ \"(rsc)/./node_modules/next/dist/compiled/server-only/empty.js\");\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(server_only__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var node_appwrite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node-appwrite */ \"(rsc)/./node_modules/node-appwrite/dist/index.mjs\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _features_auth_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/features/auth/constants */ \"(rsc)/./src/features/auth/constants.ts\");\n\n\n\n\nasync function createSessionClient() {\n    const client = new node_appwrite__WEBPACK_IMPORTED_MODULE_1__.Client().setEndpoint(\"https://cloud.appwrite.io/v1\").setProject(\"67b7eaf20012267a1526\");\n    const session = (await (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)()).get(_features_auth_constants__WEBPACK_IMPORTED_MODULE_3__.AUTH_COOKIE);\n    if (!session || !session.value) {\n        throw new Error(\"Unauthorized\");\n    }\n    client.setSession(session.value);\n    return {\n        get account () {\n            return new node_appwrite__WEBPACK_IMPORTED_MODULE_1__.Account(client);\n        },\n        get databases () {\n            return new node_appwrite__WEBPACK_IMPORTED_MODULE_1__.Databases(client);\n        }\n    };\n}\nasync function createAdminClient() {\n    const client = new node_appwrite__WEBPACK_IMPORTED_MODULE_1__.Client().setEndpoint(\"https://cloud.appwrite.io/v1\").setProject(\"67b7eaf20012267a1526\").setKey(process.env.NEXT_APPWRITE_KEY);\n    return {\n        get account () {\n            return new node_appwrite__WEBPACK_IMPORTED_MODULE_1__.Account(client);\n        },\n        get users () {\n            return new node_appwrite__WEBPACK_IMPORTED_MODULE_1__.Users(client);\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FwcHdyaXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBcUI7QUFPQztBQUNpQjtBQUNpQjtBQUdqRCxlQUFlTTtJQUNsQixNQUFNQyxTQUFRLElBQUlQLGlEQUFNQSxHQUN2QlEsV0FBVyxDQUFDQyw4QkFBeUMsRUFDckRHLFVBQVUsQ0FBQ0gsc0JBQXdDO0lBRXBELE1BQU1LLFVBQVUsQ0FBQyxNQUFNVixxREFBT0EsRUFBQyxFQUFHVyxHQUFHLENBQUNWLGlFQUFXQTtJQUVqRCxJQUFJLENBQUNTLFdBQVUsQ0FBQ0EsUUFBUUUsS0FBSyxFQUFDO1FBQzFCLE1BQU0sSUFBSUMsTUFBTTtJQUNwQjtJQUVBVixPQUFPVyxVQUFVLENBQUNKLFFBQVFFLEtBQUs7SUFFL0IsT0FBTTtRQUNGLElBQUlHLFdBQVM7WUFDVCxPQUFPLElBQUlsQixrREFBT0EsQ0FBQ007UUFDdkI7UUFDQSxJQUFJYSxhQUFZO1lBQ1osT0FBTyxJQUFJbEIsb0RBQVNBLENBQUNLO1FBQ3pCO0lBRUo7QUFDSjtBQUVPLGVBQWVjO0lBQ2xCLE1BQU1kLFNBQVMsSUFBSVAsaURBQU1BLEdBQ3hCUSxXQUFXLENBQUNDLDhCQUEwQyxFQUN0REcsVUFBVSxDQUFDSCxzQkFBeUMsRUFDcERhLE1BQU0sQ0FBQ2IsUUFBUUMsR0FBRyxDQUFDYSxpQkFBaUI7SUFFckMsT0FBTztRQUNILElBQUlKLFdBQVU7WUFDVixPQUFPLElBQUlsQixrREFBT0EsQ0FBRU07UUFFeEI7UUFFQSxJQUFJaUIsU0FBUTtZQUNSLE9BQU8sSUFBSXJCLGdEQUFLQSxDQUFDSTtRQUNyQjtJQUVKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG93Ym9hcmQvLi9zcmMvbGliL2FwcHdyaXRlLnRzP2ViOTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwic2VydmVyLW9ubHlcIjtcblxuaW1wb3J0IHtcbiAgICBDbGllbnQsXG4gICAgQWNjb3VudCxcbiAgICBEYXRhYmFzZXMsXG4gICAgVXNlcnMsXG59IGZyb20gXCJub2RlLWFwcHdyaXRlXCJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tIFwibmV4dC9oZWFkZXJzXCI7XG5pbXBvcnQgeyBBVVRIX0NPT0tJRSB9IGZyb20gXCJAL2ZlYXR1cmVzL2F1dGgvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXQgfSBmcm9tIFwiaHR0cFwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2Vzc2lvbkNsaWVudCgpe1xuICAgIGNvbnN0IGNsaWVudCA9bmV3IENsaWVudCgpXG4gICAgLnNldEVuZHBvaW50KHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUFdSSVRFX0VORFBPSU5UISlcbiAgICAuc2V0UHJvamVjdChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBXUklURV9QUk9KRUNUISk7XG5cbiAgICBjb25zdCBzZXNzaW9uID0gKGF3YWl0IGNvb2tpZXMoKSkuZ2V0KEFVVEhfQ09PS0lFKTtcblxuICAgIGlmICghc2Vzc2lvbiB8fCFzZXNzaW9uLnZhbHVlKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hdXRob3JpemVkXCIpO1xuICAgIH1cblxuICAgIGNsaWVudC5zZXRTZXNzaW9uKHNlc3Npb24udmFsdWUpO1xuXG4gICAgcmV0dXJue1xuICAgICAgICBnZXQgYWNjb3VudCgpe1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBY2NvdW50KGNsaWVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBkYXRhYmFzZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGFiYXNlcyhjbGllbnQpO1xuICAgICAgICB9LFxuXG4gICAgfTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVBZG1pbkNsaWVudCgpIHtcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgQ2xpZW50KClcbiAgICAuc2V0RW5kcG9pbnQocHJvY2Vzcy5lbnYuIE5FWFRfUFVCTElDX0FQUFdSSVRFX0VORFBPSU5UISlcbiAgICAuc2V0UHJvamVjdChwcm9jZXNzLmVudi4gTkVYVF9QVUJMSUNfQVBQV1JJVEVfUFJPSkVDVCEpXG4gICAgLnNldEtleShwcm9jZXNzLmVudi5ORVhUX0FQUFdSSVRFX0tFWSEpXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgYWNjb3VudCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWNjb3VudCAoY2xpZW50KTtcbiAgICBcbiAgICAgICAgfSxcblxuICAgICAgICBnZXQgdXNlcnMoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVzZXJzKGNsaWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy9UT0RPOiBtaXNzaW5nIHVzZXJzLCBwZXJoYXBzIGZyb20gRkItMzAyNSwgZm9yIHRpbWUgYmVpbmcgYWRkZWQgdXNlcnNcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbIkNsaWVudCIsIkFjY291bnQiLCJEYXRhYmFzZXMiLCJVc2VycyIsImNvb2tpZXMiLCJBVVRIX0NPT0tJRSIsImNyZWF0ZVNlc3Npb25DbGllbnQiLCJjbGllbnQiLCJzZXRFbmRwb2ludCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUFBXUklURV9FTkRQT0lOVCIsInNldFByb2plY3QiLCJORVhUX1BVQkxJQ19BUFBXUklURV9QUk9KRUNUIiwic2Vzc2lvbiIsImdldCIsInZhbHVlIiwiRXJyb3IiLCJzZXRTZXNzaW9uIiwiYWNjb3VudCIsImRhdGFiYXNlcyIsImNyZWF0ZUFkbWluQ2xpZW50Iiwic2V0S2V5IiwiTkVYVF9BUFBXUklURV9LRVkiLCJ1c2VycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/appwrite.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/session-middleware.ts":
/*!***************************************!*\
  !*** ./src/lib/session-middleware.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sessionMiddleware: () => (/* binding */ sessionMiddleware)\n/* harmony export */ });\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! server-only */ \"(rsc)/./node_modules/next/dist/compiled/server-only/empty.js\");\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(server_only__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var node_appwrite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node-appwrite */ \"(rsc)/./node_modules/node-appwrite/dist/index.mjs\");\n/* harmony import */ var hono_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! hono/cookie */ \"(rsc)/./node_modules/hono/dist/helper/cookie/index.js\");\n/* harmony import */ var hono_factory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! hono/factory */ \"(rsc)/./node_modules/hono/dist/helper/factory/index.js\");\n/* harmony import */ var _features_auth_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/features/auth/constants */ \"(rsc)/./src/features/auth/constants.ts\");\n\n\n\n\n\nconst sessionMiddleware = (0,hono_factory__WEBPACK_IMPORTED_MODULE_3__.createMiddleware)(async (c, next)=>{\n    const client = new node_appwrite__WEBPACK_IMPORTED_MODULE_1__.Client().setEndpoint(\"https://cloud.appwrite.io/v1\").setProject(\"67b7eaf20012267a1526\");\n    const session = (0,hono_cookie__WEBPACK_IMPORTED_MODULE_2__.getCookie)(c, _features_auth_constants__WEBPACK_IMPORTED_MODULE_4__.AUTH_COOKIE);\n    if (!session) {\n        return c.json({\n            error: \"Unauthorized\"\n        }, 401);\n    }\n    client.setSession(session);\n    const account = new node_appwrite__WEBPACK_IMPORTED_MODULE_1__.Account(client);\n    const databases = new node_appwrite__WEBPACK_IMPORTED_MODULE_1__.Databases(client);\n    const storage = new node_appwrite__WEBPACK_IMPORTED_MODULE_1__.Storage(client);\n    const user = await account.get();\n    c.set(\"account\", account);\n    c.set(\"databases\", databases);\n    c.set(\"storage\", storage);\n    c.set(\"user\", user);\n    await next();\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Nlc3Npb24tbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFCO0FBWUU7QUFFZTtBQUNRO0FBRVE7QUFZL0MsTUFBTU8sb0JBQW9CRiw4REFBZ0JBLENBQzdDLE9BQU9HLEdBQUdDO0lBQ04sTUFBTUMsU0FBUyxJQUFJVCxpREFBTUEsR0FDcEJVLFdBQVcsQ0FBQ0MsOEJBQXlDLEVBQ3JERyxVQUFVLENBQUNILHNCQUF3QztJQUV4RCxNQUFNSyxVQUFVYixzREFBU0EsQ0FBQ0ksR0FBR0YsaUVBQVdBO0lBRXhDLElBQUksQ0FBQ1csU0FBUztRQUNWLE9BQU9ULEVBQUVVLElBQUksQ0FBQztZQUFDQyxPQUFPO1FBQWMsR0FBRztJQUMzQztJQUVBVCxPQUFPVSxVQUFVLENBQUNIO0lBRWxCLE1BQU1JLFVBQVUsSUFBSXJCLGtEQUFPQSxDQUFDVTtJQUM1QixNQUFNWSxZQUFZLElBQUlwQixvREFBU0EsQ0FBQ1E7SUFDaEMsTUFBTWEsVUFBVSxJQUFJcEIsa0RBQU9BLENBQUNPO0lBRTVCLE1BQU1jLE9BQU8sTUFBTUgsUUFBUUksR0FBRztJQUU5QmpCLEVBQUVrQixHQUFHLENBQUMsV0FBV0w7SUFDakJiLEVBQUVrQixHQUFHLENBQUMsYUFBYUo7SUFDbkJkLEVBQUVrQixHQUFHLENBQUMsV0FBV0g7SUFDakJmLEVBQUVrQixHQUFHLENBQUMsUUFBUUY7SUFFZCxNQUFNZjtBQUNWLEdBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG93Ym9hcmQvLi9zcmMvbGliL3Nlc3Npb24tbWlkZGxld2FyZS50cz9lNmNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcInNlcnZlci1vbmx5XCI7XG5cbmltcG9ydCB7XG4gICAgQWNjb3VudCxcbiAgICBDbGllbnQsXG4gICAgRGF0YWJhc2VzLFxuICAgIE1vZGVscyxcbiAgICBTdG9yYWdlLFxuICAgIHR5cGUgQWNjb3VudCBhcyBBY2NvdW50VHlwZSxcbiAgICB0eXBlIERhdGFiYXNlcyBhcyBEYXRhYmFzZXNUeXBlLFxuICAgIHR5cGUgU3RvcmFnZSBhcyBTdHJvcmFnZVR5cGUsXG4gICAgdHlwZSBVc2VycyBhcyBVc2Vyc1R5cGUsXG59IGZyb20gXCJub2RlLWFwcHdyaXRlXCI7XG5cbmltcG9ydCB7Z2V0Q29va2llfSBmcm9tIFwiaG9uby9jb29raWVcIjtcbmltcG9ydCB7Y3JlYXRlTWlkZGxld2FyZX0gZnJvbSBcImhvbm8vZmFjdG9yeVwiO1xuXG5pbXBvcnQge0FVVEhfQ09PS0lFfSBmcm9tIFwiQC9mZWF0dXJlcy9hdXRoL2NvbnN0YW50c1wiO1xuXG50eXBlIEFkZGl0aW9uYWxDb250ZXh0ID0ge1xuICAgIFZhcmlhYmxlczoge1xuICAgICAgICBhY2NvdW50OiBBY2NvdW50VHlwZTtcbiAgICAgICAgZGF0YWJhc2VzOiBEYXRhYmFzZXNUeXBlO1xuICAgICAgICBzdG9yYWdlOiBTdHJvcmFnZVR5cGU7XG4gICAgICAgIHVzZXJzOiBVc2Vyc1R5cGU7XG4gICAgICAgIHVzZXI6IE1vZGVscy5Vc2VyPE1vZGVscy5QcmVmZXJlbmNlcz47XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3Qgc2Vzc2lvbk1pZGRsZXdhcmUgPSBjcmVhdGVNaWRkbGV3YXJlPEFkZGl0aW9uYWxDb250ZXh0PihcbiAgICBhc3luYyAoYywgbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBjbGllbnQgPSBuZXcgQ2xpZW50KClcbiAgICAgICAgICAgIC5zZXRFbmRwb2ludChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBXUklURV9FTkRQT0lOVCEpXG4gICAgICAgICAgICAuc2V0UHJvamVjdChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBXUklURV9QUk9KRUNUISk7XG5cbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGdldENvb2tpZShjLCBBVVRIX0NPT0tJRSk7XG5cbiAgICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gYy5qc29uKHtlcnJvcjogXCJVbmF1dGhvcml6ZWRcIn0sIDQwMSk7XG4gICAgICAgIH1cblxuICAgICAgICBjbGllbnQuc2V0U2Vzc2lvbihzZXNzaW9uKTtcblxuICAgICAgICBjb25zdCBhY2NvdW50ID0gbmV3IEFjY291bnQoY2xpZW50KTtcbiAgICAgICAgY29uc3QgZGF0YWJhc2VzID0gbmV3IERhdGFiYXNlcyhjbGllbnQpO1xuICAgICAgICBjb25zdCBzdG9yYWdlID0gbmV3IFN0b3JhZ2UoY2xpZW50KTtcblxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgYWNjb3VudC5nZXQoKTtcblxuICAgICAgICBjLnNldChcImFjY291bnRcIiwgYWNjb3VudCk7XG4gICAgICAgIGMuc2V0KFwiZGF0YWJhc2VzXCIsIGRhdGFiYXNlcyk7XG4gICAgICAgIGMuc2V0KFwic3RvcmFnZVwiLCBzdG9yYWdlKTtcbiAgICAgICAgYy5zZXQoXCJ1c2VyXCIsIHVzZXIpO1xuXG4gICAgICAgIGF3YWl0IG5leHQoKTtcbiAgICB9LFxuKTtcbiJdLCJuYW1lcyI6WyJBY2NvdW50IiwiQ2xpZW50IiwiRGF0YWJhc2VzIiwiU3RvcmFnZSIsImdldENvb2tpZSIsImNyZWF0ZU1pZGRsZXdhcmUiLCJBVVRIX0NPT0tJRSIsInNlc3Npb25NaWRkbGV3YXJlIiwiYyIsIm5leHQiLCJjbGllbnQiLCJzZXRFbmRwb2ludCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUFBXUklURV9FTkRQT0lOVCIsInNldFByb2plY3QiLCJORVhUX1BVQkxJQ19BUFBXUklURV9QUk9KRUNUIiwic2Vzc2lvbiIsImpzb24iLCJlcnJvciIsInNldFNlc3Npb24iLCJhY2NvdW50IiwiZGF0YWJhc2VzIiwic3RvcmFnZSIsInVzZXIiLCJnZXQiLCJzZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/session-middleware.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils.ts":
/*!**************************!*\
  !*** ./src/lib/utils.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   generateInviteCode: () => (/* binding */ generateInviteCode),\n/* harmony export */   snakeCaseToTitleCase: () => (/* binding */ snakeCaseToTitleCase)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\nfunction generateInviteCode(length) {\n    const characters = \"1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM\";\n    let result = \"\";\n    for(let i = 0; i < length; i++){\n        result += characters.charAt(Math.floor(Math.random() * characters.length));\n    }\n    return result;\n}\n// function will correctly convert strings like \"task_status_pending\" to \"Task Status Pending\"\nfunction snakeCaseToTitleCase(str) {\n    return str.toLowerCase().replace(/_/g, \" \").replace(/\\b\\w/g, (char)=>char.toUpperCase());\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBDO0FBQ0o7QUFFL0IsU0FBU0UsR0FBRyxHQUFHQyxNQUFvQjtJQUN0QyxPQUFPRix1REFBT0EsQ0FBQ0QsMENBQUlBLENBQUNHO0FBQ3hCO0FBR08sU0FBU0MsbUJBQW1CQyxNQUFjO0lBQzdDLE1BQU1DLGFBQWE7SUFDbkIsSUFBSUMsU0FBUztJQUNiLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJSCxRQUFRRyxJQUFLO1FBQzdCRCxVQUFVRCxXQUFXRyxNQUFNLENBQUNDLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLTixXQUFXRCxNQUFNO0lBQzVFO0lBQ0EsT0FBT0U7QUFDWDtBQUVBLDhGQUE4RjtBQUN2RixTQUFTTSxxQkFBcUJDLEdBQVc7SUFDNUMsT0FBT0EsSUFDSkMsV0FBVyxHQUNYQyxPQUFPLENBQUMsTUFBTSxLQUNkQSxPQUFPLENBQUMsU0FBUyxDQUFDQyxPQUFTQSxLQUFLQyxXQUFXO0FBQ2hEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvd2JvYXJkLy4vc3JjL2xpYi91dGlscy50cz83YzFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y2xzeCwgdHlwZSBDbGFzc1ZhbHVlfSBmcm9tIFwiY2xzeFwiXG5pbXBvcnQge3R3TWVyZ2V9IGZyb20gXCJ0YWlsd2luZC1tZXJnZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICAgIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSlcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJbnZpdGVDb2RlKGxlbmd0aDogbnVtYmVyKSB7XG4gICAgY29uc3QgY2hhcmFjdGVycyA9IFwiMTIzNDU2Nzg5MHF3ZXJ0eXVpb3Bhc2RmZ2hqa2x6eGN2Ym5tUVdFUlRZVUlPUEFTREZHSEpLTFpYQ1ZCTk1cIlxuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnMubGVuZ3RoKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGZ1bmN0aW9uIHdpbGwgY29ycmVjdGx5IGNvbnZlcnQgc3RyaW5ncyBsaWtlIFwidGFza19zdGF0dXNfcGVuZGluZ1wiIHRvIFwiVGFzayBTdGF0dXMgUGVuZGluZ1wiXG5leHBvcnQgZnVuY3Rpb24gc25ha2VDYXNlVG9UaXRsZUNhc2Uoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHJcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvXy9nLCBcIiBcIilcbiAgICAgIC5yZXBsYWNlKC9cXGJcXHcvZywgKGNoYXIpID0+IGNoYXIudG9VcHBlckNhc2UoKSk7XG4gIH1cbiAgIl0sIm5hbWVzIjpbImNsc3giLCJ0d01lcmdlIiwiY24iLCJpbnB1dHMiLCJnZW5lcmF0ZUludml0ZUNvZGUiLCJsZW5ndGgiLCJjaGFyYWN0ZXJzIiwicmVzdWx0IiwiaSIsImNoYXJBdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNuYWtlQ2FzZVRvVGl0bGVDYXNlIiwic3RyIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiY2hhciIsInRvVXBwZXJDYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/node-fetch-native-with-agent","vendor-chunks/next","vendor-chunks/node-appwrite","vendor-chunks/zod","vendor-chunks/date-fns","vendor-chunks/tailwind-merge","vendor-chunks/hono","vendor-chunks/clsx","vendor-chunks/@hono"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5B%5B...route%5D%5D%2Froute&page=%2Fapi%2F%5B%5B...route%5D%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2F%5B%5B...route%5D%5D%2Froute.ts&appDir=%2FUsers%2Fshahzeb%2FDesktop%2Fflowboard-cosc310%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fshahzeb%2FDesktop%2Fflowboard-cosc310&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();